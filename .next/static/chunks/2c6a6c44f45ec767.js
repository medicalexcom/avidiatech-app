(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23396,e=>{"use strict";var a=e.i(43476),t=e.i(37902),s=e.i(71645),d=e.i(18566);let r=["extract","seo","audit"],l=["audit"];function n(e){return new Promise(a=>setTimeout(a,e))}function i(e){let a=(e||"").toLowerCase();return"critical"===a||"blocker"===a||"high"===a||"error"===a?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"warn"===a||"warning"===a||"medium"===a?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40"}function o(e){let a=(e||"").toLowerCase();return"running"===a?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"failed"===a?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"succeeded"===a||"completed"===a?"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-950/40 dark:text-slate-300 dark:border-slate-800"}function c(...e){return e.filter(Boolean).join(" ")}function x({value:e}){let t=Math.max(0,Math.min(100,e));return(0,a.jsxs)("div",{className:"relative h-12 w-12 shrink-0 rounded-full border border-slate-200 bg-white/80 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",style:{background:`conic-gradient(from 225deg, rgba(249,115,22,0.95) ${t}%, rgba(226,232,240,1) 0)`},"aria-label":`Progress ${t}%`,title:`Progress ${t}%`,children:[(0,a.jsx)("div",{className:"absolute inset-1.5 rounded-full bg-slate-50 dark:bg-slate-950"}),(0,a.jsxs)("div",{className:"absolute inset-0 grid place-items-center text-[10px] font-semibold text-slate-700 dark:text-slate-200",children:[t,"%"]})]})}function b(){let e=(0,d.useSearchParams)(),b=(0,d.useRouter)(),u=e?.get("ingestionId")||"",m=e?.get("url")||"",p=e?.get("pipelineRunId")||"",[f,g]=(0,s.useState)(m?"url":"ingestion"),[h,j]=(0,s.useState)("extract_seo_audit"),[k,w]=(0,s.useState)(m||""),[N,y]=(0,s.useState)(u||""),[v,S]=(0,s.useState)(null),[_,C]=(0,s.useState)(p||""),[I,R]=(0,s.useState)(null),[$,A]=(0,s.useState)(!1),[U,L]=(0,s.useState)(!1),[E,M]=(0,s.useState)(null),[P,O]=(0,s.useState)(null),[T,J]=(0,s.useState)(null),[D,z]=(0,s.useState)(null),[B,F]=(0,s.useState)(!1),[G,Z]=(0,s.useState)("all"),[H,K]=(0,s.useState)(""),[W,q]=(0,s.useState)(!1),Q=(0,s.useCallback)(async e=>{A(!0);try{let a=await fetch(`/api/v1/ingest/${encodeURIComponent(e)}`),t=await a.json();if(!a.ok)throw Error(t?.error?.message||t?.error||`Ingest fetch failed: ${a.status}`);return S(t?.data??t),t?.data??t}finally{A(!1)}},[]),V=(0,s.useCallback)(async e=>{let a=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(e)}`),t=await a.json().catch(()=>null);if(!a.ok)throw Error(t?.error?.message||t?.error||`Pipeline fetch failed: ${a.status}`);return t},[]);async function X(e,a=3e5,t=2e3){let s=Date.now();for(O("Pipeline running");Date.now()-s<a;){let a=await V(e);R(a);let s=a?.run?.status;if("succeeded"===s||"failed"===s)return a;await n(t)}throw Error("Pipeline did not complete within timeout")}async function Y(e,a=12e4,t=3e3){let s=Date.now();for(z(`polling job ${e}`),O("Scraping & normalizing");Date.now()-s<a;){let a=await fetch(`/api/v1/ingest/job/${encodeURIComponent(e)}`);if(200===a.status){let e=await a.json();return z(`completed: ingestionId=${e.ingestionId}`),O("Ingestion completed"),e}let d=Math.floor((Date.now()-s)/1e3);z(`waiting... ${d}s`),await n(t)}throw z("timeout"),O(null),Error("Ingestion did not complete within timeout")}async function ee(e){if(!e)throw Error("Please enter a URL");J(null),z(null),O("Submitting ingestion");let a=await fetch("/api/v1/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,persist:!0,options:{includeSeo:!0}})}),t=await a.json().catch(()=>null);if(J({status:a.status,body:t}),!a.ok)throw Error(t?.error?.message||t?.error||`Ingest failed: ${a.status}`);let s=t?.ingestionId??t?.id??t?.data?.id??t?.data?.ingestionId??null;if(s){if(t?.status==="accepted"||202===a.status){let e=t?.jobId??t?.ingestionId??s,a=await Y(e,12e4,3e3);return a?.ingestionId??s}return s}let d=t?.jobId??t?.job?.id??null;if(!d)throw Error("Ingest did not return an ingestionId or jobId. See debug.");let r=await Y(d,12e4,3e3),l=r?.ingestionId??r?.id??null;if(!l)throw Error("Polling returned no ingestionId.");return l}async function ea(e,a){O("Starting pipeline");let t=await fetch("/api/v1/pipeline/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingestionId:e,triggerModule:"audit",steps:a,options:{}})}),s=await t.json().catch(()=>null);if(!t.ok)throw Error(s?.error?.message||s?.error||`Pipeline start failed: ${t.status}`);let d=String(s?.pipelineRunId??"");if(!d)throw Error("Pipeline start did not return pipelineRunId");return C(d),d}async function et(){if(!U){L(!0),M(null),O(null),R(null);try{let e=await ee(k);y(e),b.push(`/dashboard/audit?url=${encodeURIComponent(k)}&ingestionId=${encodeURIComponent(e)}`),await Q(e);let a=await ea(e,[...r]);b.push(`/dashboard/audit?url=${encodeURIComponent(k)}&ingestionId=${encodeURIComponent(e)}&pipelineRunId=${encodeURIComponent(a)}`),await X(a,3e5,2e3),await Q(e),O("Audit completed")}catch(e){M(String(e?.message||e)),O(null)}finally{L(!1),z(null)}}}async function es(){if(!U){L(!0),M(null),O(null),R(null);try{let e=N.trim();if(!e)throw Error("Please enter an ingestionId");b.push(`/dashboard/audit?ingestionId=${encodeURIComponent(e)}`),await Q(e);let a="audit_only"===h?[...l]:[...r],t=await ea(e,a);b.push(`/dashboard/audit?ingestionId=${encodeURIComponent(e)}&pipelineRunId=${encodeURIComponent(t)}`),await X(t,3e5,2e3),await Q(e),O("Audit completed")}catch(e){M(String(e?.message||e)),O(null)}finally{L(!1),z(null)}}}(0,s.useEffect)(()=>{u&&(async()=>{try{await Q(u)}catch(e){M(String(e?.message||e))}})()},[u]),(0,s.useEffect)(()=>{p&&(async()=>{try{let e=await V(p);R(e)}catch(e){M(String(e?.message||e))}})()},[p]);let ed=(0,s.useMemo)(()=>v?v?.data?.data?v.data.data:v?.data?v.data:v:null,[v]),er=ed?.diagnostics?.audit??null,el=(0,s.useMemo)(()=>(function(e){let a=e??null;if(!a||"object"!=typeof a)return{ok:null,status:null,score:null,summary:null,blockers:[],warnings:[],checks:[],categories:[],issues:[],raw:e??null,lastRunAt:null};let t="number"==typeof a.score?a.score:null,s="string"==typeof a.status?a.status:"string"==typeof a.state?a.state:null,d="boolean"==typeof a.ok?a.ok:s?["passed","ok","success","completed"].includes(s.toLowerCase()):null,r=Array.isArray(a.blockers)?a.blockers:[],l=Array.isArray(a.warnings)?a.warnings:[],n=Array.isArray(a.issues)?a.issues:Array.isArray(a.findings)?a.findings:[],i=Array.isArray(a.checks)?a.checks:[],o=a.categories||a.categoryScores||null,c=Array.isArray(o)?o.map((e,a)=>({key:String(e.key??e.name??a),label:String(e.label??e.name??e.key??`Category ${a+1}`),score:"number"==typeof e.score?e.score:null,status:"string"==typeof e.status?e.status:null})):[],x="string"==typeof a.summary?a.summary:null,b="string"==typeof a.last_run_at?a.last_run_at:"string"==typeof a.lastRunAt?a.lastRunAt:"string"==typeof a.updated_at?a.updated_at:null;return{ok:d,status:s,score:t,summary:x,blockers:r,warnings:l,checks:i,categories:c,issues:n,raw:a,lastRunAt:b}})(er),[er]),en=I?.run?.status??null,ei=(0,s.useMemo)(()=>{let e=new Map;for(let a of I?.modules??[])if(a.started_at&&a.finished_at){let t=new Date(a.finished_at).getTime()-new Date(a.started_at).getTime();!Number.isNaN(t)&&t>=0&&e.set(a.module_name,t)}return e},[I]),eo=(0,s.useMemo)(()=>{let e=I?.modules??[];if(!e.length)return 0;let a=0;for(let t of e)["succeeded","failed","skipped"].includes(t.status)&&a++;return Math.round(a/e.length*100)},[I]),ec=(0,s.useMemo)(()=>{let e=[];for(let a of el.blockers??[])e.push({severity:"blocker",rule:"blocker",message:a,location:"audit"});for(let a of el.warnings??[])e.push({severity:"warning",rule:"warning",message:a,location:"audit"});for(let a of el.issues??[])e.push(a);return e},[el.blockers,el.issues,el.warnings]),ex=(0,s.useMemo)(()=>{let e=H.trim().toLowerCase();return ec.filter(a=>{let t=String(a?.severity??a?.level??"").toLowerCase();return("errors"!==G||!!(t.includes("block")||t.includes("crit")||t.includes("high")||t.includes("error")||t.includes("fail")))&&("warnings"!==G||!!(t.includes("warn")||t.includes("medium")))&&(!e||`${a?.rule??""} ${a?.message??""} ${a?.location??""}`.toLowerCase().includes(e))})},[ec,G,H]),eb=null==el.score?"slate":el.score>=90?"emerald":el.score>=75?"amber":"rose",eu=(0,s.useMemo)(()=>({ingestionId:ed?.id??N??null,pipelineRunId:_||null,audit:el.raw??null,diagnostics_audit:er??null,pipeline:I??null}),[el.raw,er,N,ed?.id,_,I]),em=async e=>{try{await navigator.clipboard.writeText(e),O("Copied to clipboard"),setTimeout(()=>O(null),1500)}catch{}},ep=String(ed?.id??N??""),ef=(el.blockers??[]).length,eg=(el.warnings??[]).length,eh=Array.isArray(el.checks)?el.checks.length:0,ej=U||$||D||"running"===en?"Running…":_?"Ready":"Idle";return(0,a.jsxs)("main",{className:"jsx-ac095fdd7ad315db relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db pointer-events-none absolute inset-0 -z-10",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-36 -left-28 h-[26rem] w-[26rem] rounded-full bg-amber-300/28 blur-3xl dark:bg-amber-500/16"}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-28 right-[-10rem] h-[24rem] w-[24rem] rounded-full bg-orange-300/22 blur-3xl dark:bg-orange-500/12"}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -bottom-48 right-[-12rem] h-[30rem] w-[30rem] rounded-full bg-pink-300/18 blur-3xl dark:bg-pink-500/10"}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.88)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_55%,_rgba(15,23,42,1)_100%)]"}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 opacity-[0.035] mix-blend-soft-light dark:opacity-[0.07]",children:(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mx-auto max-w-7xl space-y-5 px-4 py-6 sm:px-6 lg:px-10 lg:py-8",children:[(0,a.jsxs)("section",{className:"jsx-ac095fdd7ad315db flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-50 border border-amber-200 dark:bg-slate-900 dark:border-amber-400/30",children:(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("h-1.5 w-1.5 rounded-full",U?"bg-amber-400 animate-pulse":"bg-orange-400")||"")})}),"Data Intelligence · AvidiaAudit",ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,a.jsxs)("button",{type:"button",onClick:()=>em(ep),title:"Copy ingestionId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:[ep.slice(0,8),"…"]})]}):null,_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,a.jsxs)("button",{type:"button",onClick:()=>em(_),title:"Copy pipelineRunId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:["run:",_.slice(0,8),"…"]})]}):null]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db hidden sm:flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-slate-300 dark:bg-slate-700"}),ej]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[P?(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1.5 text-[11px] text-amber-900 shadow-sm dark:border-amber-500/30 dark:bg-slate-950/70 dark:text-amber-100",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400 animate-pulse"}),P]}):null,(0,a.jsx)("button",{type:"button",onClick:async()=>{try{if(M(null),!_)return;let e=await V(_);R(e),O("Snapshot refreshed"),setTimeout(()=>O(null),1500)}catch(e){M(String(e?.message||e))}},disabled:!_||U,title:"Refresh pipeline snapshot",className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white disabled:opacity-60 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:"Refresh"}),(0,a.jsx)("button",{type:"button",onClick:()=>q(e=>!e),className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:W?"Hide dev panels":"Show dev panels"})]})]}),(0,a.jsx)("section",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 shadow-[0_18px_45px_rgba(148,163,184,0.22)] backdrop-blur dark:border-slate-800 dark:bg-slate-950/55 dark:shadow-[0_18px_45px_rgba(15,23,42,0.75)]",children:(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 p-4 lg:grid-cols-12 lg:gap-5 lg:p-5",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-2",children:[(0,a.jsxs)("h1",{className:"jsx-ac095fdd7ad315db text-xl font-semibold leading-tight text-slate-900 sm:text-2xl dark:text-slate-50",children:["Turn your product rules into a"," ",(0,a.jsx)("span",{style:{backgroundImage:"linear-gradient(90deg, rgba(251,191,36,1), rgba(249,115,22,1), rgba(236,72,153,1), rgba(251,191,36,1))"},className:"jsx-ac095fdd7ad315db audit-title-gradient bg-clip-text text-transparent",children:"measurable, enforceable audit score"}),"."]}),(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db max-w-2xl text-sm text-slate-600 dark:text-slate-300",children:"Run deterministic checks now (v1), persist a structured audit payload, and use it as a guardrail for safe automation. When audit fails, downstream modules can be skipped automatically."})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap gap-2 text-[11px]",children:[(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"URL flow"}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"ingest → extract → seo → audit"})]}),(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"Ingestion flow"}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"audit-only or full chain"})]}),(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-amber-950 dark:border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-100",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400"}),"auditResult JSON per run"]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-white p-3 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Run mode"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,a.jsx)("button",{type:"button",onClick:()=>g("url"),className:"jsx-ac095fdd7ad315db "+(c("px-3 py-1 rounded-full transition","url"===f?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From URL"}),(0,a.jsx)("button",{type:"button",onClick:()=>g("ingestion"),className:"jsx-ac095fdd7ad315db "+(c("px-3 py-1 rounded-full transition","ingestion"===f?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From ingestionId"})]})]}),"url"===f?(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,a.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Manufacturer Product URL"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,a.jsx)("input",{value:k,onChange:e=>w(e.target.value),placeholder:"https://manufacturer.com/product/...",type:"url",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,a.jsx)("button",{type:"button",onClick:et,disabled:U,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:U?"Running…":"Run Audit"})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-500",children:"Creates an ingestion + pipeline run, then persists an audit result to diagnostics."}),(0,a.jsx)("button",{type:"button",onClick:()=>w("https://www.apple.com/iphone-17/"),className:"jsx-ac095fdd7ad315db text-[11px] text-orange-700 hover:text-orange-600 underline underline-offset-4 dark:text-orange-300 dark:hover:text-orange-200",children:"Try demo URL"})]})]}):(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,a.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"ingestionId"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,a.jsx)("input",{value:N,onChange:e=>y(e.target.value),placeholder:"b0324634-1593-4fad-a9de-70215a2deb38",type:"text",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,a.jsx)("button",{type:"button",onClick:es,disabled:U,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:U?"Running…":"Run Audit"})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 text-[11px] text-slate-600 dark:text-slate-300",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"Steps:"}),(0,a.jsxs)("select",{value:h,onChange:e=>j(e.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,a.jsx)("option",{value:"extract_seo_audit",className:"jsx-ac095fdd7ad315db",children:"extract + seo + audit"}),(0,a.jsx)("option",{value:"audit_only",className:"jsx-ac095fdd7ad315db",children:"audit only"})]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:async()=>{try{if(M(null),!N.trim())throw Error("Enter an ingestionId first.");await Q(N.trim()),O("Loaded ingestion")}catch(e){M(String(e?.message||e))}},className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Load existing"}),N?(0,a.jsx)("button",{type:"button",onClick:()=>em(N),className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Copy id"}):null]})]})]})]}),E?(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-800 shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50",children:E}):null]}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5",children:(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/60",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Audit scoreboard"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-2 flex flex-wrap items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-semibold","emerald"===eb?"bg-emerald-500/10 border-emerald-400/60 text-emerald-700 dark:text-emerald-200":"amber"===eb?"bg-amber-500/10 border-amber-400/60 text-amber-700 dark:text-amber-200":"rose"===eb?"bg-rose-500/10 border-rose-400/60 text-rose-700 dark:text-rose-200":"bg-slate-500/10 border-slate-400/60 text-slate-700 dark:text-slate-200")||""),children:null==el.score?"—":`${el.score} / 100`}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",o(el.status??(!0===el.ok?"passed":!1===el.ok?"failed":"unknown")))||""),children:el.status??(!0===el.ok?"passed":!1===el.ok?"failed":"unknown")}),ef?(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-2.5 py-1 text-[11px] text-rose-800 dark:border-rose-500/30 dark:bg-rose-950/40 dark:text-rose-100",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-rose-500"}),ef," blockers"]}):(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-2.5 py-1 text-[11px] text-emerald-800 dark:border-emerald-500/30 dark:bg-emerald-950/35 dark:text-emerald-100",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-emerald-500"}),"No blockers"]}),eg?(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-2.5 py-1 text-[11px] text-amber-800 dark:border-amber-500/30 dark:bg-amber-950/35 dark:text-amber-100",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-500"}),eg," warnings"]}):null]}),(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-2 text-xs text-slate-600 dark:text-slate-300",children:el.summary??"Run an audit to see a score, categories, and structured results."})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col items-end gap-2",children:[(0,a.jsx)(x,{value:I?.modules?.length?eo:0}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-right text-[11px] text-slate-500 dark:text-slate-400",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db",children:"Last audit"}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db font-mono",children:el.lastRunAt?new Date(el.lastRunAt).toLocaleString():"—"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:"Pipeline progress"}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:I?.modules?.length?`${eo}%`:"—"})]}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,a.jsx)("div",{style:{width:`${eo}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]}),el.categories?.length?(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:border-slate-800 dark:bg-slate-950/40",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Category scores"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:[el.categories.length," categories"]})]}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-2 space-y-2",children:el.categories.slice(0,6).map(e=>{let t=null==e.score?0:Math.max(0,Math.min(100,e.score));return(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-1",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px]",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db truncate text-slate-700 dark:text-slate-200",children:e.label}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-500 dark:text-slate-400",children:null==e.score?"—":`${e.score}`})]}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db h-1.5 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,a.jsx)("div",{style:{width:`${t}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]},e.key)})})]}):null,(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-700 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Gate policy"}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-slate-600 dark:text-slate-300",children:["If audit fails: ",(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Import"}),","," ",(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Monitor"}),", and ",(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Price"})," are skipped automatically."]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex flex-wrap gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{var e;let a,t,s;return e=`audit-${ed?.id??N??"unknown"}.json`,a=new Blob([JSON.stringify(eu,null,2)],{type:"application/json"}),t=URL.createObjectURL(a),void((s=document.createElement("a")).href=t,s.download=e,s.click(),URL.revokeObjectURL(t))},className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-900 bg-slate-900 px-3 py-2 text-xs text-slate-50 shadow-sm hover:bg-slate-800 dark:border-white/20 dark:bg-white/5 dark:hover:bg-white/10",children:"Export JSON"}),(0,a.jsx)("button",{type:"button",onClick:()=>F(e=>!e),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-slate-100 px-3 py-2 text-xs text-slate-900 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-100",children:B?"Hide raw":"Show raw"}),_?(0,a.jsx)("button",{type:"button",onClick:()=>em(JSON.stringify(eu,null,2)),title:"Copy full JSON payload",className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:"Copy payload"}):null]}),B?(0,a.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 max-h-[320px] overflow-auto rounded-xl border border-slate-200 bg-slate-900 p-3 text-[11px] text-slate-100 dark:border-slate-800",children:JSON.stringify(eu,null,2)}):null,(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db",children:["Checks: ",eh||"—"]}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:D?`Ingest: ${D}`:en?`Run: ${en}`:""})]})]})})]})}),(0,a.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,a.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Live pipeline"}),(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Status, runtime, output refs — in the order your pipeline executed."})]}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",o(en??"idle"))||""),children:en??"idle"})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 space-y-2",children:[(I?.modules??[]).slice().sort((e,a)=>e.module_index-a.module_index).map(e=>(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db group flex items-start justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 transition hover:bg-white dark:border-slate-800 dark:bg-slate-950/40 dark:hover:bg-slate-950/60",children:(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("h-2 w-2 rounded-full","succeeded"===e.status?"bg-emerald-400":"failed"===e.status?"bg-rose-400":"running"===e.status?"bg-amber-400 animate-pulse":"bg-slate-400")||"")}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db font-semibold text-slate-900 dark:text-slate-50 truncate",children:[e.module_index,". ",function(e){switch(e){case"extract":return"Extract";case"seo":return"SEO";case"audit":return"Audit";case"import":return"Import";case"monitor":return"Monitor";case"price":return"Price";default:return e}}(e.module_name)]}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("ml-auto inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",o(e.status))||""),children:e.status})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1.5 flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400",children:[(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono",children:function(e){if(null==e||Number.isNaN(e))return"—";if(e<1e3)return`${e}ms`;let a=Math.round(e/100)/10;return`${a}s`}(ei.get(e.module_name)??null)}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,a.jsxs)("span",{className:"jsx-ac095fdd7ad315db truncate",children:["output_ref:"," ",(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:e.output_ref??"—"})]}),e.output_ref?(0,a.jsx)("button",{type:"button",onClick:()=>em(String(e.output_ref)),title:"Copy output_ref",className:"jsx-ac095fdd7ad315db ml-auto rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-300 dark:hover:bg-slate-950",children:"Copy"}):null]}),e.error?(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-rose-700 dark:text-rose-200",children:["error: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]}):null]})},`${e.module_index}-${e.module_name}`)),(I?.modules??[]).length?null:(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No pipeline run selected yet. Run an audit to see module telemetry."})]})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,a.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Issues"}),(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Blockers and warnings (v1). Filter, search, and export for workflows."})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[(0,a.jsxs)("select",{value:G,onChange:e=>Z(e.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,a.jsx)("option",{value:"all",className:"jsx-ac095fdd7ad315db",children:"All"}),(0,a.jsx)("option",{value:"errors",className:"jsx-ac095fdd7ad315db",children:"Errors/Blockers"}),(0,a.jsx)("option",{value:"warnings",className:"jsx-ac095fdd7ad315db",children:"Warnings"})]}),(0,a.jsx)("input",{value:H,onChange:e=>K(e.target.value),placeholder:"Search issues…",className:"jsx-ac095fdd7ad315db w-44 rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60"})]})]}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 overflow-auto rounded-2xl border border-slate-200 dark:border-slate-800",children:(0,a.jsxs)("table",{className:"jsx-ac095fdd7ad315db min-w-full text-xs",children:[(0,a.jsx)("thead",{className:"jsx-ac095fdd7ad315db sticky top-0 bg-slate-50 text-slate-600 dark:bg-slate-950/80 dark:text-slate-300",children:(0,a.jsxs)("tr",{className:"jsx-ac095fdd7ad315db",children:[(0,a.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Severity"}),(0,a.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Rule"}),(0,a.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Message"}),(0,a.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Location"})]})}),(0,a.jsx)("tbody",{className:"jsx-ac095fdd7ad315db bg-white dark:bg-slate-900/30",children:ex.length?ex.map((e,t)=>{let s=String(e?.severity??e?.level??"info");return(0,a.jsxs)("tr",{className:"jsx-ac095fdd7ad315db border-t border-slate-200 hover:bg-slate-50/60 dark:border-slate-800 dark:hover:bg-slate-950/40",children:[(0,a.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2",children:(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",i(s))||""),children:s})}),(0,a.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 font-mono text-[11px] text-slate-700 dark:text-slate-200",children:String(e?.rule??e?.key??"—")}),(0,a.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-700 dark:text-slate-200",children:String(e?.message??e?.detail??e?.text??"—")}),(0,a.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-500 dark:text-slate-400",children:String(e?.location??e?.path??"—")})]},t)}):(0,a.jsx)("tr",{className:"jsx-ac095fdd7ad315db",children:(0,a.jsx)("td",{colSpan:4,className:"jsx-ac095fdd7ad315db px-3 py-4 text-slate-500 dark:text-slate-400",children:"No issues found (or run an audit to populate results)."})})})]})}),(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:"Current v1 audit derives issues from blockers/warnings. Future audit can emit richer issue objects."})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,a.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Checks"}),(0,a.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"A per-check view you can trust for “go / no-go”."})]}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:Array.isArray(el.checks)?`${el.checks.length} checks`:"—"})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(el.checks??[]).map((e,t)=>{let s=String(e?.status??"pass"),d="fail"===s?i("error"):"warn"===s?i("warning"):i("ok");return(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 dark:border-slate-800 dark:bg-slate-950/40",children:(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db truncate font-semibold text-slate-900 dark:text-slate-50",children:String(e?.label??e?.key??`Check ${t+1}`)}),e?.detail?(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:String(e.detail)}):null]}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",d)||""),children:s})]})},`${e?.key??t}`)}),(el.checks??[]).length?null:(0,a.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No checks available yet. Run an audit to populate."})]})]})]})]}),W?(0,a.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Normalized payload"}),(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:"Ingestion"})]}),(0,a.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:ed?JSON.stringify(ed.normalized_payload??ed,null,2):"Run an audit to load ingestion data."})]}),(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,a.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Raw /api/v1/ingest"}),D?(0,a.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:D}):null]}),(0,a.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:T?JSON.stringify(T,null,2):"Shown when you run from URL."})]})]}):null]}),(0,a.jsx)(t.default,{id:"ac095fdd7ad315db",children:".audit-title-gradient.jsx-ac095fdd7ad315db{filter:drop-shadow(0 10px 26px #f973162e);background-size:220% 220%;animation:7s ease-in-out infinite auditGradientShift}@keyframes auditGradientShift{0%{background-position:0%;transform:translateZ(0)scale(1)}50%{background-position:100%;transform:translateZ(0)scale(1.01)}to{background-position:0%;transform:translateZ(0)scale(1)}}"})]})}e.s(["default",()=>b])}]);
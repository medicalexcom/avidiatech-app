(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83060,e=>{"use strict";var t=e.i(43476);function s(){return(0,t.jsxs)("a",{href:"/dashboard",onClick:function(e){e.preventDefault();try{window.history.length>1?window.history.back():window.location.href="/dashboard"}catch{window.location.href="/dashboard"}},className:"inline-flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300 hover:underline",children:[(0,t.jsx)("span",{"aria-hidden":!0,children:"←"}),(0,t.jsx)("span",{children:"Back to dashboard"})]})}e.s(["default",()=>s])},78715,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a(){let[e,a]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null);async function c(){n(!0);try{let e=await fetch("/api/developer/keys"),t=await e.json();a(t.keys||[])}catch(e){console.error(e),a([])}finally{n(!1)}}async function h(){r(!0);try{let e=await fetch("/api/developer/keys",{method:"POST"}),t=await e.json();e.ok&&t.key?(d(t.key),await c()):alert(t?.error||"Unable to create key")}catch(e){console.error(e)}finally{r(!1)}}async function x(e){confirm("Revoke this key?")&&(await fetch(`/api/developer/keys/${e}`,{method:"DELETE"}),await c())}function m(e){e&&navigator.clipboard.writeText(e).then(()=>alert("Copied to clipboard"))}return(0,s.useEffect)(()=>{c()},[]),(0,t.jsx)("div",{className:"max-w-4xl",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"API Keys"}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:h,disabled:l,className:"px-3 py-2 bg-indigo-600 text-white rounded",children:l?"Generating…":"Generate new key"})})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Your API keys allow programmatic access. Keep them secret."}),(0,t.jsx)("div",{className:"mt-4",children:i?(0,t.jsx)("p",{children:"Loading…"}):0===e.length?(0,t.jsx)("p",{children:"No keys found"}):(0,t.jsx)("ul",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-800 border rounded p-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-mono text-sm",children:e.keyPreview}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Created ",new Date(e.created_at).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>m(e.keyPreview),className:"text-sm px-2 py-1 border rounded",children:"Copy"}),(0,t.jsx)("button",{onClick:()=>x(e.id),className:"text-sm text-red-600",children:"Revoke"})]})]},e.id))})}),o&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900 border rounded",children:[(0,t.jsx)("div",{className:"font-semibold",children:"New key"}),(0,t.jsx)("div",{className:"font-mono text-sm mt-2 break-all",children:o}),(0,t.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>m(o),className:"px-3 py-2 bg-indigo-600 text-white rounded",children:"Copy key"}),(0,t.jsx)("button",{onClick:()=>d(null),className:"px-3 py-2 border rounded",children:"Close"})]}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-2",children:"Note: This key will only be shown once. Store it securely."})]})]})})}e.s(["default",()=>a])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45540,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let l=[{label:"Avidia Standard",value:"avidia_standard"},{label:"Shopify Conversion",value:"shopify"},{label:"General E-commerce",value:"ecommerce"},{label:"Technical / Industrial",value:"technical"},{label:"Lifestyle / Marketing",value:"lifestyle"}];function a(){let{generate:e,loading:a,error:i}=function(){let[e,t]=(0,s.useState)(!1),[l,a]=(0,s.useState)(null);return{generate:async function(e){t(!0),a(null);try{let s=await fetch("/api/v1/describe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await s.json();if(!s.ok){let e=Error(l?.error||`Status ${s.status}`);return a(e),t(!1),null}try{sessionStorage.setItem("avidia:describe:lastResult",JSON.stringify(l)),window.dispatchEvent(new Event("storage"))}catch(e){}return t(!1),l}catch(e){return a(e),t(!1),null}},loading:e,error:l}}(),[n,r]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[h,p]=(0,s.useState)("avidia_standard"),[v,b]=(0,s.useState)(null);async function f(t){if(t&&t.preventDefault(),!n.trim()||!d.trim())return void alert("Please provide product name and a short description.");let s=function(e){let t=e.split(/\r?\n/).map(e=>e.trim()).filter(Boolean),s={};for(let e of t){let[t,...l]=e.split(":");t&&(s[t.trim()]=l.join(":").trim())}return s}(m),l={name:n.trim(),shortDescription:d.trim(),brand:c.trim()||void 0,specs:Object.keys(s).length?s:void 0,format:h},a=await e(l);a?.normalizedPayload?.id&&b(a.normalizedPayload.id)}return(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4 bg-white dark:bg-slate-900 border rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Product name"}),(0,t.jsx)("input",{value:n,onChange:e=>r(e.target.value),className:"mt-1 w-full border rounded px-3 py-2",placeholder:"e.g. Portable Folding Ramp"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Short manufacturer description"}),(0,t.jsx)("textarea",{value:d,onChange:e=>o(e.target.value),rows:3,className:"mt-1 w-full border rounded px-3 py-2",placeholder:"One or two lines describing the product"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Brand (optional)"}),(0,t.jsx)("input",{value:c,onChange:e=>u(e.target.value),className:"mt-1 w-full border rounded px-3 py-2",placeholder:"Brand name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Specs (optional — key: value per line)"}),(0,t.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),rows:4,className:"mt-1 w-full border rounded px-3 py-2",placeholder:"Weight: 12 kg\\nWidth: 80 cm"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Tip: use key:value per line to give the generator structured info."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Description format"}),(0,t.jsx)("select",{value:h,onChange:e=>p(e.target.value),className:"mt-1 w-full border rounded px-3 py-2",children:l.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)("div",{className:"w-44",children:(0,t.jsx)("button",{type:"submit",disabled:a,className:"mt-6 w-full px-3 py-2 bg-indigo-600 text-white rounded",children:a?"Generating…":"Generate Description"})})]}),i&&(0,t.jsxs)("div",{className:"text-sm text-red-600",children:["Error: ",i.message||String(i)]}),v&&(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Last generated id: ",v]})]})}e.s(["default",()=>a],45540)},43889,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function l(){let{result:e}=function(){let[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{function e(){try{let e=sessionStorage.getItem("avidia:describe:lastResult");if(!e)return t(null);t(JSON.parse(e))}catch{t(null)}}return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),{result:e,setResult:t}}(),[l,a]=(0,s.useState)("overview");(0,s.useEffect)(()=>{a("overview")},[e]);let i=e?.descriptionHtml??"",n=e?.seo??{};return e?(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Preview"}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Generated from: ",e?.normalizedPayload?.source??"Describe"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:function(){navigator.clipboard.writeText(i).then(()=>alert("HTML copied to clipboard"))},className:"px-3 py-1 border rounded text-sm",children:"Copy HTML"}),(0,t.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(n,null,2)).then(()=>alert("SEO copied to clipboard"))},className:"px-3 py-1 border rounded text-sm",children:"Copy SEO"}),(0,t.jsx)("button",{onClick:function(){let t=new Blob([JSON.stringify(e??{},null,2)],{type:"application/json"}),s=URL.createObjectURL(t),l=document.createElement("a");l.href=s,l.download=`describe-${Date.now()}.json`,l.click(),URL.revokeObjectURL(s)},className:"px-3 py-1 border rounded text-sm",children:"Download JSON"}),(0,t.jsx)("button",{onClick:function(){sessionStorage.setItem("avidia:import:payload",JSON.stringify(e??{})),window.location.href="/dashboard/import"},className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm",children:"Send to Import"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 border-b pb-3 mb-3",children:[(0,t.jsx)("button",{onClick:()=>a("overview"),className:`text-sm ${"overview"===l?"font-semibold":"text-slate-500"}`,children:"Overview"}),(0,t.jsx)("button",{onClick:()=>a("features"),className:`text-sm ${"features"===l?"font-semibold":"text-slate-500"}`,children:"Features"}),(0,t.jsx)("button",{onClick:()=>a("specs"),className:`text-sm ${"specs"===l?"font-semibold":"text-slate-500"}`,children:"Specs"}),(0,t.jsx)("button",{onClick:()=>a("included"),className:`text-sm ${"included"===l?"font-semibold":"text-slate-500"}`,children:"Included"}),(0,t.jsx)("button",{onClick:()=>a("manuals"),className:`text-sm ${"manuals"===l?"font-semibold":"text-slate-500"}`,children:"Manuals"}),(0,t.jsx)("button",{onClick:()=>a("seo"),className:`text-sm ${"seo"===l?"font-semibold":"text-slate-500"}`,children:"SEO"})]}),(0,t.jsxs)("div",{children:["overview"===l&&(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:e.sections?.overview??i}}),"features"===l&&(0,t.jsx)("ul",{className:"list-disc pl-5",children:(e.sections?.features??[]).map((e,s)=>(0,t.jsx)("li",{className:"mb-1",children:e},s))}),"specs"===l&&(0,t.jsx)("div",{children:(0,t.jsx)("pre",{className:"text-xs bg-slate-50 dark:bg-slate-800 p-3 rounded",children:JSON.stringify(e.sections?.specsSummary??{},null,2)})}),"included"===l&&(0,t.jsx)("ul",{className:"list-disc pl-5",children:(e.sections?.includedItems??[]).map((e,s)=>(0,t.jsx)("li",{children:e},s))}),"manuals"===l&&(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:e.sections?.manualsSectionHtml??"<em>No manuals found</em>"}}),"seo"===l&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"H1:"})," ",e.seo?.h1]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Page title:"})," ",e.seo?.pageTitle]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Meta description:"})," ",(0,t.jsx)("div",{className:"text-sm text-slate-500",children:e.seo?.metaDescription})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Short SEO:"})," ",(0,t.jsx)("div",{className:"text-sm text-slate-500",children:e.seo?.seoShortDescription})]})]})]})]}):(0,t.jsx)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-6 shadow-sm",children:(0,t.jsx)("div",{className:"text-sm text-slate-500",children:"No generated description yet. Fill the form and click Generate."})})}e.s(["default",()=>l])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56292,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566);function r({job:e,loading:s,error:r,noDataMessage:d}){let x=e?.normalized_payload||e?.raw_payload||e||null,m=!!x?.source_seo,p=!!x?.specs_json||!!x?.specs||!!x?.specs_payload,u=Array.isArray(x?.variants)&&x.variants.length>0,b=x?.normalized_payload??x?.raw_payload??x??null,h=!!b,g=e?.diagnostics||x?.diagnostics||null;if(g&&Object.keys(g).length,!e&&!s)return(0,t.jsx)("div",{children:d});if(s&&!e)return(0,t.jsx)("div",{children:"Waiting for engine to completeâ€¦"});if(r)return(0,t.jsx)("div",{style:{color:"crimson"},children:String(r)});let f="source_seo",j="specs",y="variants",N="diagnostics",v=[{id:f,label:"Source SEO",enabled:m},{id:j,label:"Specs",enabled:p},{id:y,label:"Variants",enabled:u},{id:"raw",label:"Raw JSON",enabled:h},{id:N,label:"Diagnostics",enabled:!0}],k=v.find(e=>e.enabled)?.id||"raw",[w,S]=a.default.useState(k);return a.default.useEffect(()=>{S(v.find(e=>e.enabled)?.id||"raw")},[m,p,u,h]),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:v.map(e=>{let a=w===e.id,s=e.enabled?"bg-white text-slate-700 border-slate-300 hover:bg-slate-100":"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed";return(0,t.jsx)("button",{type:"button",disabled:!e.enabled,onClick:()=>e.enabled&&S(e.id),className:`px-3 py-1.5 text-sm rounded border transition-colors ${a?"bg-slate-900 text-white border-slate-900":s}`,children:e.label},e.id)})}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-slate-50 text-sm overflow-x-auto",children:[w===f&&(0,t.jsx)(l,{payload:x,hasSourceSeo:m}),w===j&&(0,t.jsx)(n,{payload:x,hasSpecs:p}),w===y&&(0,t.jsx)(i,{payload:x,hasVariants:u}),"raw"===w&&(0,t.jsx)(o,{rawJsonSource:b,hasRaw:h}),w===N&&(0,t.jsx)(c,{diagnostics:g})]})]})}function l({payload:e,hasSourceSeo:a}){if(!a)return(0,t.jsx)("div",{className:"text-slate-500",children:"No scraped SEO fields were found on the source site."});let s=e.source_seo||{};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("table",{className:"w-full text-sm border-collapse",children:(0,t.jsxs)("tbody",{children:[(0,t.jsx)(d,{label:"Source H1",value:s.source_h1}),(0,t.jsx)(d,{label:"Title Tag",value:s.source_title_tag}),(0,t.jsx)(d,{label:"Meta Description",value:s.source_meta_description}),(0,t.jsx)(d,{label:"Canonical",value:s.canonical}),(0,t.jsx)(d,{label:"OG Title",value:s.og_title}),(0,t.jsx)(d,{label:"OG Description",value:s.og_description})]})}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["These SEO fields were extracted from the source website. They are"," ",(0,t.jsx)("strong",{children:"not generated or optimized by AvidiaTech"}),"."]})]})}function d({label:e,value:a}){return(0,t.jsxs)("tr",{className:"border-b last:border-none border-slate-200",children:[(0,t.jsx)("td",{className:"font-semibold p-1.5 align-top w-40 text-slate-700",children:e}),(0,t.jsx)("td",{className:"p-1.5 text-slate-800",children:a??(0,t.jsx)("span",{className:"text-slate-400",children:"-"})})]})}function n({payload:e,hasSpecs:a}){if(!a)return(0,t.jsx)("div",{className:"text-slate-500",children:"Specs not present in this extraction."});let s=e.specs_json||e.specs||e.specs_payload;return(0,t.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(s,null,2)})}function i({payload:e,hasVariants:a}){return a?(0,t.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(e.variants,null,2)}):(0,t.jsx)("div",{className:"text-slate-500",children:"No variants detected for this product."})}function o({rawJsonSource:e,hasRaw:a}){return a?(0,t.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(e,null,2)}):(0,t.jsx)("div",{className:"text-slate-500",children:"No raw payload available for this job."})}function c({diagnostics:e}){return e&&0!==Object.keys(e).length?(0,t.jsx)("pre",{className:"bg-amber-950 text-amber-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(e,null,2)}):(0,t.jsx)("div",{className:"text-slate-500",children:"No diagnostics were recorded for this extraction."})}function x({data:e,loading:s,collapsedLevels:r=1}){let[l,d]=a.default.useState({}),[n,i]=a.default.useState(""),[o,c]=a.default.useState(!1),[x,p]=a.default.useState(!1),{displayRoot:u,rootLabel:b,envelope:h}=a.default.useMemo(()=>(function(e){if(e&&"object"==typeof e&&!Array.isArray(e)&&"data"in e&&e.data&&"object"==typeof e.data){let t=e.data;return"normalized_payload"in t&&t.normalized_payload?{displayRoot:t.normalized_payload,rootLabel:"data.normalized_payload",envelope:e}:{displayRoot:t,rootLabel:"data",envelope:e}}return{displayRoot:e,rootLabel:"root",envelope:null}})(e),[e]),g=o&&h?h:u,f=o&&h?"full response":b,j=null!=g&&("object"!=typeof g||null===g||0!==Object.keys(g).length),y=n.trim().toLowerCase();a.default.useEffect(()=>{p(!1)},[g]);let N=a.default.useCallback(()=>{try{let e=JSON.stringify(g,null,2);"undefined"!=typeof navigator&&navigator.clipboard&&(navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),1500))}catch{}},[g]),v=a.default.useCallback(()=>{try{let e=JSON.stringify(g,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="ingestion.json",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch{}},[g]);return s?(0,t.jsx)("div",{className:"text-xs text-neutral-300",children:"Loading JSONâ€¦"}):j?(0,t.jsxs)("div",{className:"text-xs text-neutral-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-neutral-400",children:"Root"}),(0,t.jsx)("code",{className:"px-1.5 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-[11px]",children:f})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Search key or value",className:"bg-neutral-900 border border-neutral-700 rounded px-2 py-1 text-[11px] text-neutral-100 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),h&&(0,t.jsx)("button",{type:"button",onClick:()=>c(e=>!e),className:`px-2 py-1 rounded text-[11px] border ${o?"bg-neutral-200 text-neutral-900 border-neutral-300":"bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800"}`,children:o?"Focused view":"Full response"}),(0,t.jsx)("button",{type:"button",onClick:N,className:"px-2 py-1 rounded text-[11px] border bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800",children:x?"Copied":"Copy JSON"}),(0,t.jsx)("button",{type:"button",onClick:v,className:"px-2 py-1 rounded text-[11px] border bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800",children:"Download JSON"})]})]}),(0,t.jsx)("div",{className:"bg-neutral-900/60 border border-neutral-700 rounded-md p-3 font-mono overflow-auto max-h-[460px]",children:(0,t.jsx)(m,{name:void 0,value:g,path:"$",level:0,expandedState:l,toggle:e=>{d(t=>({...t,[e]:!t[e]}))},defaultExpandedLevels:r,filter:y})})]}):(0,t.jsx)("div",{className:"text-xs text-neutral-400",children:"No JSON data available."})}function m({name:e,value:a,path:s,level:r,expandedState:l,toggle:d,defaultExpandedLevels:n,filter:i}){let o=u(a),c="object"===o||"array"===o,x=14*r,b=l[s]??(!!i||r<n),h=void 0!==e?e:void 0,g=!!i&&function(e,t,a){if(!a)return!1;let s=a.toLowerCase();if(e&&e.toLowerCase().includes(s))return!0;if(null==t)return!1;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return String(t).toLowerCase().includes(s);try{return JSON.stringify(t).toLowerCase().includes(s)}catch{return!1}}(h,a,i);if(!c)return(0,t.jsxs)("div",{style:{paddingLeft:x},className:`leading-5 ${i&&g?"bg-amber-900/60":""}`,children:[void 0!==h&&(0,t.jsxs)("span",{className:"text-sky-300 mr-1",children:[JSON.stringify(h),":"]}),(0,t.jsx)(p,{value:a})]});let f="object"===o?Object.entries(a):a.map((e,t)=>[String(t),e]),j="object"===o?"}":"]",y="object"===o?`${f.length} key${1===f.length?"":"s"}`:`${f.length} item${1===f.length?"":"s"}`;return(0,t.jsxs)("div",{className:"leading-5",children:[(0,t.jsxs)("div",{style:{paddingLeft:x},className:`cursor-pointer select-none flex items-start gap-1 rounded-sm ${i&&g?"bg-amber-900/60":"hover:bg-neutral-800/60"}`,onClick:()=>{c&&d(s)},children:[(0,t.jsx)("span",{className:"mt-[1px] text-neutral-400",children:b?"â–¾":"â–¸"}),(0,t.jsxs)("div",{children:[void 0!==h&&(0,t.jsxs)("span",{className:"text-sky-300 mr-1",children:[JSON.stringify(h),":"]}),(0,t.jsx)("span",{className:"text-neutral-300",children:"object"===o?"{":"["}),(0,t.jsx)("span",{className:"ml-1 text-[11px] text-neutral-500",children:y}),(0,t.jsxs)("span",{className:"text-neutral-300",children:[!b&&f.length>0?" â€¦":"",0===f.length&&j]})]})]}),b&&f.length>0&&(0,t.jsxs)("div",{children:[f.map(([e,a],c)=>{let x=`${s}.${e}`,p=c===f.length-1;return(0,t.jsxs)("div",{children:[(0,t.jsx)(m,{name:"array"===o?void 0:e,value:a,path:x,level:r+1,expandedState:l,toggle:d,defaultExpandedLevels:n,filter:i}),!p&&(0,t.jsx)("span",{style:{paddingLeft:(r+1)*14},className:"text-neutral-500",children:","})]},x)}),(0,t.jsx)("div",{style:{paddingLeft:x},className:"text-neutral-300",children:j})]})]})}function p({value:e}){let a=u(e);return null===e?(0,t.jsx)("span",{className:"text-amber-300",children:"null"}):"string"===a?(0,t.jsx)("span",{className:"text-emerald-300",children:JSON.stringify(e)}):"number"===a?(0,t.jsx)("span",{className:"text-orange-300",children:String(e)}):"boolean"===a?(0,t.jsx)("span",{className:"text-indigo-300",children:String(e)}):(0,t.jsx)("span",{className:"text-neutral-300",children:JSON.stringify(e)})}function u(e){if(null===e)return"null";if(Array.isArray(e))return"array";let t=typeof e;return"string"===t?"string":"number"===t?"number":"boolean"===t?"boolean":"object"===t?"object":"other"}function b({onJobCreated:e}){let[s,r]=(0,a.useState)(""),[l,d]=(0,a.useState)("JSON"),[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null);async function x(){if(!s)return void c("Please enter a URL");c(null),i(!0);try{let t={url:s,export_type:l,correlationId:`corr_${Date.now()}`,fullExtract:!0},a=await fetch("/api/v1/ingest",{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(t)}),r=await a.json().catch(()=>null);if(!a.ok){let e=r?.error||r?.message||`Ingest failed (${a.status})`;c(e);return}let d=r?.jobId||r?.job_id||r?.id;d?e(String(d),s):c("Ingest succeeded but no job id returned")}catch(e){c(String(e?.message||e))}finally{i(!1)}}return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("input",{"aria-label":"Product URL to ingest",value:s,onChange:e=>r(e.target.value),placeholder:"https://manufacturer.com/product/xyz",style:{flex:1,padding:"8px 12px",borderRadius:6,border:"1px solid #d1d5db"},onKeyDown:e=>{"Enter"===e.key&&x()}}),(0,t.jsx)("button",{onClick:x,disabled:n,style:{padding:"8px 14px",background:"#2563eb",color:"white",borderRadius:6},children:n?"Extractingâ€¦":"Extract Product"})]}),(0,t.jsx)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:(0,t.jsxs)("select",{value:l,onChange:e=>d(e.target.value),style:{marginLeft:"auto",padding:6},children:[(0,t.jsx)("option",{value:"JSON",children:"JSON"}),(0,t.jsx)("option",{value:"Shopify",children:"Shopify"}),(0,t.jsx)("option",{value:"BigCommerce",children:"BigCommerce"})]})}),o&&(0,t.jsx)("div",{style:{color:"crimson"},children:o})]})}function h(...e){return e.filter(Boolean).join(" ")}function g(){let e=(0,s.useRouter)(),[l,d]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),{row:o,loading:c,error:m}=function(e,t=1500){let[s,r]=(0,a.useState)(null),[l,d]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let a;if(!e){r(null),d(!1),i(null);return}let s=!0,l=async()=>{d(!0);try{let n=await fetch(`/api/v1/ingest/${encodeURIComponent(e)}`);if(!n.ok){let e=await n.text().catch(()=>"");throw Error(`status fetch failed: ${n.status} ${e}`)}let o=await n.json(),c=o?.job?o.job:o;if(!s)return;r(c),i(null),d(!1),c.status&&"pending"!==c.status||(a=window.setTimeout(l,t))}catch(e){if(!s)return;i(String(e?.message||e)),d(!1),a=window.setTimeout(l,2*t)}};return l(),()=>{s=!1,a&&window.clearTimeout(a)}},[e,t]),{row:s,loading:l,error:n}}(l,1500),[p,u]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1);function N(e){if(!e)return null;let t=e.data??e;return t.normalized_payload??t}let v=(0,a.useMemo)(()=>p?N(p):o?N(o):null,[p,o]),k=v?.name_best??v?.name_raw??v?.name,w=v?.features_html??v?.features_structured??v?.features_raw,S=v?.pdf_manual_urls??v?.pdfs??v?.manuals??[],_=v?.images??[],O=v?.quality_score,J=v?.needs_review;(0,a.useEffect)(()=>{if(!l||!n)return;let e=!0;return(async()=>{y(!0),f(null);try{let t=`/api/v1/ingest/${encodeURIComponent(l)}?url=${encodeURIComponent(n)}`,a=await fetch(t,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}}),s=await a.text().catch(()=>"");if(!e)return;if(!a.ok){let e=`preview fetch failed (${a.status})`;try{let t=JSON.parse(s||"{}");e=t?.error||e}catch{}f(e),y(!1);return}try{let e=JSON.parse(s||"{}");u(e)}catch{f("Preview returned non-JSON response")}}catch(t){if(!e)return;f(String(t?.message||t))}finally{e&&y(!1)}})(),()=>{e=!1}},[l,n]);let C=(0,a.useMemo)(()=>p?N(p)??p:o?N(o)??o:{},[p,o]),L=o?.status??(p?"preview-only":null),R=c||j?"bg-amber-400 animate-pulse":v?"bg-emerald-500 dark:bg-emerald-400":"bg-slate-400",E=c||j?"Fetching extraction previewâ€¦":v?"Extraction ready":"Awaiting first URL";return(0,t.jsxs)("main",{className:"relative min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,t.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute -top-40 -left-32 h-96 w-96 rounded-full bg-cyan-300/25 blur-3xl dark:bg-cyan-500/18"}),(0,t.jsx)("div",{className:"absolute -bottom-44 right-[-10rem] h-[28rem] w-[28rem] rounded-full bg-violet-300/25 blur-3xl dark:bg-violet-500/16"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.92)_58%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_58%,_rgba(15,23,42,1)_100%)]"}),(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.045] dark:opacity-[0.065]",children:(0,t.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,t.jsxs)("div",{className:"relative mx-auto max-w-7xl space-y-6 px-4 pt-4 pb-8 lg:px-8 lg:pt-6 lg:pb-10",children:[(0,t.jsx)("section",{className:"rounded-[28px] bg-gradient-to-r from-cyan-200/60 via-sky-200/35 to-emerald-200/60 p-[1px] shadow-2xl shadow-slate-200/70 dark:from-cyan-500/22 dark:via-sky-500/14 dark:to-emerald-500/22 dark:shadow-slate-950/70",children:(0,t.jsxs)("div",{className:"rounded-[27px] border border-white/50 bg-white/75 p-4 backdrop-blur-xl dark:border-slate-800/60 dark:bg-slate-950/52 lg:p-5",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-cyan-400/60 bg-white/80 px-3 py-1.5 text-[11px] font-medium uppercase tracking-[0.18em] text-cyan-800 shadow-sm dark:border-cyan-500/45 dark:bg-slate-950/55 dark:text-cyan-100",children:[(0,t.jsx)("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full border border-cyan-400/60 bg-slate-100 dark:bg-slate-900",children:(0,t.jsx)("span",{className:"h-2 w-2 animate-pulse rounded-full bg-cyan-500 dark:bg-cyan-400"})}),"AvidiaTech â€¢ AvidiaExtract"]}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),"Ingest engine â€¢ JSON-first"]}),L&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:["Status:",(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase text-cyan-700 dark:text-cyan-200",children:L})]})]}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:[(0,t.jsx)("span",{className:h("h-1.5 w-1.5 rounded-full",R)}),(0,t.jsx)("span",{children:E})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-[minmax(0,1.15fr),minmax(0,0.85fr)] lg:items-start",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h1",{className:"text-2xl font-semibold leading-tight text-slate-900 lg:text-3xl dark:text-slate-50",children:["Extract everything from a"," ",(0,t.jsx)("span",{className:"bg-gradient-to-r from-cyan-500 via-sky-500 to-emerald-400 bg-clip-text text-transparent dark:from-cyan-300 dark:via-sky-400 dark:to-emerald-300",children:"single manufacturer URL"})," ","â€” as clean, normalized JSON."]}),(0,t.jsx)("p",{className:"max-w-2xl text-sm text-slate-600 dark:text-slate-300",children:"Paste any product URL. AvidiaExtract hits your ingest engine, strips noise, standardizes specs, and streams back a JSON-first view that plugs into SEO, Describe, and any ecommerce stack."})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/85 p-4 shadow-xl shadow-slate-200/60 dark:border-slate-700/70 dark:bg-slate-950/60 dark:shadow-slate-950/70",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Extract launcher"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Submit a manufacturer URL; AvidiaExtract handles the rest."})]}),l&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Current job"}),(0,t.jsxs)("p",{className:"font-mono text-[10px] text-cyan-700 dark:text-cyan-200",children:[l.slice(0,10),"â€¦"]})]})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(b,{onJobCreated:function(e,t){d(String(e)),i(t),u(null),f(null)}})}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"Streams into the extraction canvas and JSON viewer below."}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-[10px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-900/50 dark:text-slate-300",children:[(0,t.jsx)("span",{className:h("h-1.5 w-1.5 rounded-full",R)}),c||j?"Pipeline runningâ€¦":"Idle"]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,t.jsx)("p",{className:"mb-2 text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Quick start"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"mt-[1px] flex h-6 w-6 items-center justify-center rounded-lg border border-cyan-400/55 bg-cyan-500/10 text-[12px] font-semibold text-cyan-700 dark:border-cyan-400/40 dark:bg-cyan-500/15 dark:text-cyan-200",children:"1"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Step 1"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:"Paste a URL and submit."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"mt-[1px] flex h-6 w-6 items-center justify-center rounded-lg border border-emerald-400/55 bg-emerald-500/10 text-[12px] font-semibold text-emerald-700 dark:border-emerald-400/40 dark:bg-emerald-500/15 dark:text-emerald-200",children:"2"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Step 2"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:"Review the canvas + JSON viewer in real time."})]})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-cyan-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-cyan-500/30 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,t.jsx)("p",{className:"mb-1 font-semibold uppercase tracking-[0.18em] text-cyan-700 dark:text-cyan-200",children:"Example extraction"}),(0,t.jsx)("p",{className:"leading-relaxed",children:"Unified JSON with name, brand, attributes, features, manuals, images, and normalized specs â€” ready for any downstream module."})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-emerald-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-emerald-400/30 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,t.jsx)("p",{className:"mb-1 font-semibold text-emerald-700 dark:text-emerald-300",children:"Feeds the stack"}),(0,t.jsxs)("ul",{className:"list-inside list-disc space-y-1",children:[(0,t.jsx)("li",{children:"AvidiaDescribe for copy-first flows"}),(0,t.jsx)("li",{children:"AvidiaSEO for URL-first SEO pages"}),(0,t.jsx)("li",{children:"Any external store / PIM as JSON"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid gap-3 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,t.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-cyan-400/70 bg-cyan-500/10 text-[12px] text-cyan-700 dark:bg-cyan-500/15 dark:text-cyan-200",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Opinionated normalization"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Predictable schema for specs, manuals, images, and attributes."})]})]}),(0,t.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,t.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-sky-400/70 bg-sky-500/10 text-[12px] text-sky-700 dark:bg-sky-500/15 dark:text-sky-200",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Debuggable end-to-end"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Canvas, tabs, and JSON viewer reflect the same job state."})]})]}),(0,t.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,t.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-emerald-400/70 bg-emerald-500/10 text-[12px] text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-200",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Built for downstream"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Reuse ingestionId with SEO, Describe, and any exporter."})]})]})]})]})}),(0,t.jsxs)("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[minmax(0,1.6fr),minmax(0,1.1fr)]",children:[(0,t.jsxs)("section",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-4 shadow-2xl shadow-slate-200/70 lg:p-5 dark:border-slate-700/70 dark:bg-slate-900/90 dark:shadow-slate-950/80",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Extraction canvas"}),(0,t.jsx)("p",{className:"mt-1 max-w-xl text-[11px] text-slate-600 dark:text-slate-400",children:"A human-readable view of the current extraction. Preview reflects the ingest engine directly; Tabs under this section expose raw and normalized variants from your DB."})]}),l&&(0,t.jsxs)("div",{className:"ml-auto flex flex-col items-end gap-1",children:[(0,t.jsxs)("button",{onClick:()=>e.push(`/dashboard/seo?ingestionId=${encodeURIComponent(l)}`),className:"inline-flex items-center gap-1.5 rounded-lg bg-cyan-500 px-3 py-2 text-xs font-semibold text-slate-50 shadow-lg shadow-cyan-500/30 transition-transform hover:-translate-y-[1px] hover:bg-cyan-400 dark:text-slate-950",children:[(0,t.jsx)("span",{children:"Send to AvidiaSEO"}),(0,t.jsx)("span",{className:"text-[13px]",children:"â†—"})]}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"Reuses this ingestionId downstream."})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-slate-600 shadow-sm dark:border-slate-700 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,t.jsx)("span",{className:h("h-1.5 w-1.5 rounded-full",R)}),(0,t.jsx)("span",{children:E})]}),m&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-rose-300 bg-rose-50 px-3 py-1.5 text-rose-700 shadow-sm dark:border-rose-500/40 dark:bg-rose-950/70 dark:text-rose-100",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500 dark:bg-rose-400"}),"DB error: ",String(m)]}),g&&!j&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-amber-300 bg-amber-50 px-3 py-1.5 text-amber-700 shadow-sm dark:border-amber-500/40 dark:bg-amber-950/70 dark:text-amber-100",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-400"}),"Preview: ",g]})]}),(0,t.jsx)("div",{className:"mt-1",children:j?(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 shadow-sm dark:border-slate-700 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-cyan-400/50 border-t-transparent"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Loading preview from ingest engineâ€¦"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Tabs and JSON viewer update as soon as it returns."})]})]}):g&&!v?(0,t.jsxs)("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 p-4 text-sm text-amber-800 shadow-sm dark:border-amber-500/40 dark:bg-amber-950/55 dark:text-amber-50",children:["Preview error: ",g]}):v?(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 shadow-sm dark:border-slate-700 dark:bg-slate-950/70",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:k??"Untitled extraction"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-3 text-[11px] text-slate-600 dark:text-slate-300",children:[void 0!==O&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-300 bg-emerald-50 px-2.5 py-1 text-emerald-700 shadow-sm dark:border-emerald-400/40 dark:bg-slate-900/70 dark:text-emerald-100",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),"Quality score: ",(0,t.jsx)("span",{className:"font-semibold",children:O})]}),void 0!==J&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-300 bg-amber-50 px-2.5 py-1 text-amber-700 shadow-sm dark:border-amber-400/40 dark:bg-slate-900/70 dark:text-amber-100",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-400"}),"Needs manual review:"," ",(0,t.jsx)("span",{className:"font-semibold",children:String(!!J)})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Features (preview)"}),Array.isArray(w)?(0,t.jsxs)("ul",{className:"mt-2 space-y-1 text-xs text-slate-700 dark:text-slate-200",children:[w.slice(0,10).map((e,a)=>(0,t.jsx)("li",{className:"list-inside list-disc",children:"string"==typeof e?e:JSON.stringify(e)},a)),w.length>10&&(0,t.jsx)("li",{className:"text-slate-400",children:"â€¦truncated"})]}):"string"==typeof w?(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-700 dark:text-slate-200",children:w}):(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-400 dark:text-slate-500",children:"No features extracted yet."})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"mb-1 text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Images"}),(0,t.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2 sm:grid-cols-4",children:Array.isArray(_)&&_.length>0?_.slice(0,8).map((e,a)=>(0,t.jsx)("img",{src:e?.url??e,alt:`img-${a}`,className:"h-20 w-full rounded-lg border border-slate-200 bg-slate-100 object-cover dark:border-slate-700 dark:bg-slate-900"},a)):(0,t.jsx)("div",{className:"col-span-full text-xs text-slate-400 dark:text-slate-500",children:"No images detected."})})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"mb-1 text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Manuals & PDFs"}),(0,t.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:Array.isArray(S)&&S.length>0?S.slice(0,8).map((e,a)=>(0,t.jsxs)("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-full border border-cyan-300 bg-cyan-50 px-3 py-1.5 text-[11px] text-cyan-800 shadow-sm hover:border-cyan-400 hover:text-cyan-900 dark:border-cyan-400/40 dark:bg-slate-900/70 dark:text-cyan-200 dark:hover:border-cyan-300",children:[(0,t.jsx)("span",{className:"text-[13px]",children:"ðŸ“„"}),(0,t.jsxs)("span",{children:["PDF ",a+1]})]},a)):(0,t.jsx)("span",{className:"ml-1 text-xs text-slate-400 dark:text-slate-500",children:"No manuals or PDFs found."})})]})]}):(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-500 shadow-sm dark:border-slate-700 dark:bg-slate-950/55 dark:text-slate-400",children:"Submit a product URL using the Extract launcher above. AvidiaExtract will display a human-friendly preview here and a full JSON view on the right."})}),(0,t.jsxs)("div",{id:"extract-results",className:"mt-2",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Ingest row & raw views"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Tabs expose different slices of the same ingest row (normalized, raw HTML, logs, etc) to help you debug."})]}),(0,t.jsx)(r,{job:o,loading:c,error:m,noDataMessage:"Submit a URL to extract raw data"})]})]}),(0,t.jsxs)("aside",{className:"rounded-3xl border border-slate-200 bg-white p-4 shadow-2xl shadow-slate-200/80 lg:p-5 dark:border-slate-700/70 dark:bg-slate-900/95 dark:shadow-slate-950/80",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Normalized JSON viewer"}),(0,t.jsx)("p",{className:"mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"The exact payload your automations consume. Preferentially shows the normalized preview; falls back to the DB row when needed."})]}),(0,t.jsxs)("div",{className:"text-right text-[11px] text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("div",{children:l?(0,t.jsxs)(t.Fragment,{children:["Job:"," ",(0,t.jsxs)("span",{className:"font-mono text-[10px] text-cyan-700 dark:text-cyan-200",children:[l.slice(0,10),"â€¦"]})]}):"No job yet"}),(0,t.jsx)("div",{className:"mt-1",children:o?.status?`Status: ${o.status}`:""})]})]}),(0,t.jsxs)("div",{className:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-950/70",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-3 py-2 text-[11px] dark:border-slate-800",children:[(0,t.jsx)("span",{className:"uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Payload explorer"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:p?"Preview â€¢ normalized":o?"DB row â€¢ normalized":"Awaiting first extraction"})]}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(x,{data:C,loading:!o&&!!l&&!p})})]})]})]})]})]})}e.s(["default",()=>g,"dynamic",0,"force-dynamic"],56292)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98184,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(27085),a=e.i(18566);function i(){let{isLoaded:e,isSignedIn:i}=(0,r.useUser)(),n=(0,a.useRouter)(),[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);async function h(t){if(e){if(!i)return void n.push("/sign-in?redirect=/dashboard");o(!0),d(null);try{let e=await fetch("/api/checkout/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:t})}),s=await e.json();if(!e.ok||!s?.url)throw Error(s?.error||"Failed to create checkout session");window.location.href=s.url}catch(e){d(e.message||"Unknown error"),console.error("choosePlan error",e)}finally{o(!1)}}}return e?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Choose a plan"}),c&&(0,t.jsx)("div",{className:"mt-4 text-red-600",children:c}),i?(0,t.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,t.jsx)("button",{className:"btn",onClick:()=>h("starter"),disabled:l,children:l?"...":"Start Starter — 14‑day trial"}),(0,t.jsx)("button",{className:"btn",onClick:()=>h("growth"),disabled:l,children:"Start Growth — 14‑day trial"}),(0,t.jsx)("button",{className:"btn",onClick:()=>h("pro"),disabled:l,children:"Start Pro — 14‑day trial"})]}):(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"mb-2",children:"Sign in to pick a plan."}),(0,t.jsx)("button",{className:"btn-primary",onClick:()=>n.push("/sign-in?redirect=/dashboard"),disabled:!e,children:"Sign in / Sign up"})]})]}):null}e.s(["default",()=>i])}]);
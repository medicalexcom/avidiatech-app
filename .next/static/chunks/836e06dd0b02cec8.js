(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35018,e=>{"use strict";var n=e.i(43476),l=e.i(71645);let t=[{code:"es",label:"Spanish"},{code:"fr",label:"French"},{code:"de",label:"German"},{code:"it",label:"Italian"},{code:"pt",label:"Portuguese"},{code:"zh_CN",label:"Chinese (Simplified)"}];function s({params:e}){let s=e.productId,[i,r]=(0,l.useState)(null),[d,a]=(0,l.useState)(["es"]),[c,o]=(0,l.useState)(["name","description_html"]),[h,u]=(0,l.useState)(!1),[p,j]=(0,l.useState)(null),[x,g]=(0,l.useState)(null);async function m(){g(null),u(!0),j(null);try{let e=await fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:s,languages:d,fields:c})}),n=await e.json();e.ok?j(n.translations??null):g(n.error||"translation_failed")}catch(e){g(e?.message||"network_error")}finally{u(!1)}}return(0,l.useEffect)(()=>{g(null),fetch(`/api/translate/product?productId=${s}`).then(e=>e.json()).then(e=>r(e.product??null)).catch(()=>g("Failed to load product"))},[s]),(0,n.jsxs)("main",{style:{padding:20},children:[(0,n.jsx)("h1",{children:"Translate Product"}),!i&&(0,n.jsx)("p",{children:"Loading product..."}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Source"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:i.name_raw||"(no name)"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:i.description_html||i.description_raw||""}})]}),(0,n.jsxs)("div",{style:{marginTop:16},children:[(0,n.jsx)("label",{children:"Languages"}),(0,n.jsx)("div",{children:t.map(e=>(0,n.jsxs)("label",{style:{marginRight:12},children:[(0,n.jsx)("input",{type:"checkbox",checked:d.includes(e.code),onChange:n=>{a(n.target.checked?[...d,e.code]:d.filter(n=>n!==e.code))}})," ",e.label]},e.code))})]}),(0,n.jsxs)("div",{style:{marginTop:12},children:[(0,n.jsx)("label",{children:"Fields"}),(0,n.jsx)("div",{children:["name","description_html","features","specs"].map(e=>(0,n.jsxs)("label",{style:{marginRight:12},children:[(0,n.jsx)("input",{type:"checkbox",checked:c.includes(e),onChange:n=>{o(n.target.checked?[...c,e]:c.filter(n=>n!==e))}})," ",e]},e))})]}),(0,n.jsxs)("div",{style:{marginTop:12},children:[(0,n.jsx)("button",{onClick:m,disabled:h,children:"Translate Selected"}),(0,n.jsx)("button",{onClick:()=>{if(!p)return;let e=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),l=document.createElement("a");l.href=n,l.download=`${s}-translations.json`,l.click(),URL.revokeObjectURL(n)},style:{marginLeft:8},children:"Export JSON"})]}),h&&(0,n.jsx)("p",{children:"Translatingâ€¦"}),x&&(0,n.jsx)("p",{style:{color:"red"},children:x}),p&&(0,n.jsxs)("div",{style:{marginTop:20},children:[(0,n.jsx)("h3",{children:"Results"}),Object.entries(p).map(([e,l])=>(0,n.jsxs)("div",{style:{borderTop:"1px solid #eee",paddingTop:12},children:[(0,n.jsx)("h4",{children:e}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Name"}),(0,n.jsx)("div",{children:l?.name??"(none)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Description"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:l?.description_html??""}})]})]},e))]})]})]})}e.s(["default",()=>s],35018)}]);
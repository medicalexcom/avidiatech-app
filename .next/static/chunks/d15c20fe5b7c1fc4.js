(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,a)=>{},98547,(e,t,a)=>{var s=e.i(47167);e.r(16015);var d=e.r(71645),r=d&&"object"==typeof d&&"default"in d?d:{default:d},l=void 0!==s.default&&s.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,d=t.optimizeForSpeed,r=void 0===d?l:d;o(n(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",o("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var i="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=i?i.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(o(n(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var a="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];o(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},a.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];o(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&o(n(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var d=document.head||document.getElementsByTagName("head")[0];return a?d.insertBefore(s,a):d.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function o(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},x={};function u(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return x[s]||(x[s]="jsx-"+c(e+"-"+a)),x[s]}function b(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return x[a]||(x[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),x[a]}var m=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,d=t.optimizeForSpeed,r=void 0!==d&&d;this._sheet=s||new i({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),s&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,d=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var r=d.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=r,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var d=u(s,a);return{styleId:d,rules:Array.isArray(t)?t.map(function(e){return b(d,e)}):[b(d,t)]}}return{styleId:u(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=d.createContext(null);function p(){return new m}function h(){return d.useContext(f)}f.displayName="StyleSheetContext";var g=r.default.useInsertionEffect||r.default.useLayoutEffect,j="undefined"!=typeof window?p():void 0;function k(e){var t=j||h();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}k.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,s=d.useContext(f),l=d.useState(function(){return s||t||p()})[0];return r.default.createElement(f.Provider,{value:l},a)},a.createStyleRegistry=p,a.style=k,a.useStyleRegistry=h},37902,(e,t,a)=>{t.exports=e.r(98547).style},23396,e=>{"use strict";var t=e.i(43476),a=e.i(37902),s=e.i(71645),d=e.i(18566);let r=["extract","seo","audit"],l=["audit"];function n(e){return new Promise(t=>setTimeout(t,e))}function i(e){let t=(e||"").toLowerCase();return"critical"===t||"blocker"===t||"high"===t||"error"===t?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"warn"===t||"warning"===t||"medium"===t?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40"}function o(e){let t=(e||"").toLowerCase();return"running"===t?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"failed"===t?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"succeeded"===t||"completed"===t?"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-950/40 dark:text-slate-300 dark:border-slate-800"}function c(...e){return e.filter(Boolean).join(" ")}function x({value:e}){let a=Math.max(0,Math.min(100,e));return(0,t.jsxs)("div",{className:"relative h-12 w-12 shrink-0 rounded-full border border-slate-200 bg-white/80 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",style:{background:`conic-gradient(from 225deg, rgba(249,115,22,0.95) ${a}%, rgba(226,232,240,1) 0)`},"aria-label":`Progress ${a}%`,title:`Progress ${a}%`,children:[(0,t.jsx)("div",{className:"absolute inset-1.5 rounded-full bg-slate-50 dark:bg-slate-950"}),(0,t.jsxs)("div",{className:"absolute inset-0 grid place-items-center text-[10px] font-semibold text-slate-700 dark:text-slate-200",children:[a,"%"]})]})}function u(){let e=(0,d.useSearchParams)(),u=(0,d.useRouter)(),b=e?.get("ingestionId")||"",m=e?.get("url")||"",f=e?.get("pipelineRunId")||"",[p,h]=(0,s.useState)(m?"url":"ingestion"),[g,j]=(0,s.useState)("extract_seo_audit"),[k,y]=(0,s.useState)(m||""),[v,w]=(0,s.useState)(b||""),[N,_]=(0,s.useState)(null),[S,R]=(0,s.useState)(f||""),[C,I]=(0,s.useState)(null),[A,$]=(0,s.useState)(!1),[F,z]=(0,s.useState)(!1),[E,O]=(0,s.useState)(null),[T,P]=(0,s.useState)(null),[L,U]=(0,s.useState)(null),[M,J]=(0,s.useState)(null),[D,B]=(0,s.useState)(!1),[q,G]=(0,s.useState)("all"),[H,Z]=(0,s.useState)(""),[K,W]=(0,s.useState)(!1),Q=(0,s.useCallback)(async e=>{$(!0);try{let t=await fetch(`/api/v1/ingest/${encodeURIComponent(e)}`),a=await t.json();if(!t.ok)throw Error(a?.error?.message||a?.error||`Ingest fetch failed: ${t.status}`);return _(a?.data??a),a?.data??a}finally{$(!1)}},[]),V=(0,s.useCallback)(async e=>{let t=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(e)}`),a=await t.json().catch(()=>null);if(!t.ok)throw Error(a?.error?.message||a?.error||`Pipeline fetch failed: ${t.status}`);return a},[]);async function X(e,t=3e5,a=2e3){let s=Date.now();for(P("Pipeline running");Date.now()-s<t;){let t=await V(e);I(t);let s=t?.run?.status;if("succeeded"===s||"failed"===s)return t;await n(a)}throw Error("Pipeline did not complete within timeout")}async function Y(e,t=12e4,a=3e3){let s=Date.now();for(J(`polling job ${e}`),P("Scraping & normalizing");Date.now()-s<t;){let t=await fetch(`/api/v1/ingest/job/${encodeURIComponent(e)}`);if(200===t.status){let e=await t.json();return J(`completed: ingestionId=${e.ingestionId}`),P("Ingestion completed"),e}let d=Math.floor((Date.now()-s)/1e3);J(`waiting... ${d}s`),await n(a)}throw J("timeout"),P(null),Error("Ingestion did not complete within timeout")}async function ee(e){if(!e)throw Error("Please enter a URL");U(null),J(null),P("Submitting ingestion");let t=await fetch("/api/v1/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,persist:!0,options:{includeSeo:!0}})}),a=await t.json().catch(()=>null);if(U({status:t.status,body:a}),!t.ok)throw Error(a?.error?.message||a?.error||`Ingest failed: ${t.status}`);let s=a?.ingestionId??a?.id??a?.data?.id??a?.data?.ingestionId??null;if(s){if(a?.status==="accepted"||202===t.status){let e=a?.jobId??a?.ingestionId??s,t=await Y(e,12e4,3e3);return t?.ingestionId??s}return s}let d=a?.jobId??a?.job?.id??null;if(!d)throw Error("Ingest did not return an ingestionId or jobId. See debug.");let r=await Y(d,12e4,3e3),l=r?.ingestionId??r?.id??null;if(!l)throw Error("Polling returned no ingestionId.");return l}async function et(e,t){P("Starting pipeline");let a=await fetch("/api/v1/pipeline/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingestionId:e,triggerModule:"audit",steps:t,options:{}})}),s=await a.json().catch(()=>null);if(!a.ok)throw Error(s?.error?.message||s?.error||`Pipeline start failed: ${a.status}`);let d=String(s?.pipelineRunId??"");if(!d)throw Error("Pipeline start did not return pipelineRunId");return R(d),d}async function ea(){if(!F){z(!0),O(null),P(null),I(null);try{let e=await ee(k);w(e),u.push(`/dashboard/audit?url=${encodeURIComponent(k)}&ingestionId=${encodeURIComponent(e)}`),await Q(e);let t=await et(e,[...r]);u.push(`/dashboard/audit?url=${encodeURIComponent(k)}&ingestionId=${encodeURIComponent(e)}&pipelineRunId=${encodeURIComponent(t)}`),await X(t,3e5,2e3),await Q(e),P("Audit completed")}catch(e){O(String(e?.message||e)),P(null)}finally{z(!1),J(null)}}}async function es(){if(!F){z(!0),O(null),P(null),I(null);try{let e=v.trim();if(!e)throw Error("Please enter an ingestionId");u.push(`/dashboard/audit?ingestionId=${encodeURIComponent(e)}`),await Q(e);let t="audit_only"===g?[...l]:[...r],a=await et(e,t);u.push(`/dashboard/audit?ingestionId=${encodeURIComponent(e)}&pipelineRunId=${encodeURIComponent(a)}`),await X(a,3e5,2e3),await Q(e),P("Audit completed")}catch(e){O(String(e?.message||e)),P(null)}finally{z(!1),J(null)}}}(0,s.useEffect)(()=>{b&&(async()=>{try{await Q(b)}catch(e){O(String(e?.message||e))}})()},[b]),(0,s.useEffect)(()=>{f&&(async()=>{try{let e=await V(f);I(e)}catch(e){O(String(e?.message||e))}})()},[f]);let ed=(0,s.useMemo)(()=>N?N?.data?.data?N.data.data:N?.data?N.data:N:null,[N]),er=ed?.diagnostics?.audit??null,el=(0,s.useMemo)(()=>(function(e){let t=e??null;if(!t||"object"!=typeof t)return{ok:null,status:null,score:null,summary:null,blockers:[],warnings:[],checks:[],categories:[],issues:[],raw:e??null,lastRunAt:null};let a="number"==typeof t.score?t.score:null,s="string"==typeof t.status?t.status:"string"==typeof t.state?t.state:null,d="boolean"==typeof t.ok?t.ok:s?["passed","ok","success","completed"].includes(s.toLowerCase()):null,r=Array.isArray(t.blockers)?t.blockers:[],l=Array.isArray(t.warnings)?t.warnings:[],n=Array.isArray(t.issues)?t.issues:Array.isArray(t.findings)?t.findings:[],i=Array.isArray(t.checks)?t.checks:[],o=t.categories||t.categoryScores||null,c=Array.isArray(o)?o.map((e,t)=>({key:String(e.key??e.name??t),label:String(e.label??e.name??e.key??`Category ${t+1}`),score:"number"==typeof e.score?e.score:null,status:"string"==typeof e.status?e.status:null})):[],x="string"==typeof t.summary?t.summary:null,u="string"==typeof t.last_run_at?t.last_run_at:"string"==typeof t.lastRunAt?t.lastRunAt:"string"==typeof t.updated_at?t.updated_at:null;return{ok:d,status:s,score:a,summary:x,blockers:r,warnings:l,checks:i,categories:c,issues:n,raw:t,lastRunAt:u}})(er),[er]),en=C?.run?.status??null,ei=(0,s.useMemo)(()=>{let e=new Map;for(let t of C?.modules??[])if(t.started_at&&t.finished_at){let a=new Date(t.finished_at).getTime()-new Date(t.started_at).getTime();!Number.isNaN(a)&&a>=0&&e.set(t.module_name,a)}return e},[C]),eo=(0,s.useMemo)(()=>{let e=C?.modules??[];if(!e.length)return 0;let t=0;for(let a of e)["succeeded","failed","skipped"].includes(a.status)&&t++;return Math.round(t/e.length*100)},[C]),ec=(0,s.useMemo)(()=>{let e=[];for(let t of el.blockers??[])e.push({severity:"blocker",rule:"blocker",message:t,location:"audit"});for(let t of el.warnings??[])e.push({severity:"warning",rule:"warning",message:t,location:"audit"});for(let t of el.issues??[])e.push(t);return e},[el.blockers,el.issues,el.warnings]),ex=(0,s.useMemo)(()=>{let e=H.trim().toLowerCase();return ec.filter(t=>{let a=String(t?.severity??t?.level??"").toLowerCase();return("errors"!==q||!!(a.includes("block")||a.includes("crit")||a.includes("high")||a.includes("error")||a.includes("fail")))&&("warnings"!==q||!!(a.includes("warn")||a.includes("medium")))&&(!e||`${t?.rule??""} ${t?.message??""} ${t?.location??""}`.toLowerCase().includes(e))})},[ec,q,H]),eu=null==el.score?"slate":el.score>=90?"emerald":el.score>=75?"amber":"rose",eb=(0,s.useMemo)(()=>({ingestionId:ed?.id??v??null,pipelineRunId:S||null,audit:el.raw??null,diagnostics_audit:er??null,pipeline:C??null}),[el.raw,er,v,ed?.id,S,C]),em=async e=>{try{await navigator.clipboard.writeText(e),P("Copied to clipboard"),setTimeout(()=>P(null),1500)}catch{}},ef=String(ed?.id??v??""),ep=(el.blockers??[]).length,eh=(el.warnings??[]).length,eg=Array.isArray(el.checks)?el.checks.length:0,ej=F||A||M||"running"===en?"Running…":S?"Ready":"Idle";return(0,t.jsxs)("main",{className:"jsx-ac095fdd7ad315db relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db pointer-events-none absolute inset-0 -z-10",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-36 -left-28 h-[26rem] w-[26rem] rounded-full bg-amber-300/28 blur-3xl dark:bg-amber-500/16"}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-28 right-[-10rem] h-[24rem] w-[24rem] rounded-full bg-orange-300/22 blur-3xl dark:bg-orange-500/12"}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -bottom-48 right-[-12rem] h-[30rem] w-[30rem] rounded-full bg-pink-300/18 blur-3xl dark:bg-pink-500/10"}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.88)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_55%,_rgba(15,23,42,1)_100%)]"}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 opacity-[0.035] mix-blend-soft-light dark:opacity-[0.07]",children:(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mx-auto max-w-7xl space-y-5 px-4 py-6 sm:px-6 lg:px-10 lg:py-8",children:[(0,t.jsxs)("section",{className:"jsx-ac095fdd7ad315db flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-50 border border-amber-200 dark:bg-slate-900 dark:border-amber-400/30",children:(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("h-1.5 w-1.5 rounded-full",F?"bg-amber-400 animate-pulse":"bg-orange-400")||"")})}),"Data Intelligence · AvidiaAudit",ef?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,t.jsxs)("button",{type:"button",onClick:()=>em(ef),title:"Copy ingestionId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:[ef.slice(0,8),"…"]})]}):null,S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,t.jsxs)("button",{type:"button",onClick:()=>em(S),title:"Copy pipelineRunId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:["run:",S.slice(0,8),"…"]})]}):null]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db hidden sm:flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-slate-300 dark:bg-slate-700"}),ej]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[T?(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1.5 text-[11px] text-amber-900 shadow-sm dark:border-amber-500/30 dark:bg-slate-950/70 dark:text-amber-100",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400 animate-pulse"}),T]}):null,(0,t.jsx)("button",{type:"button",onClick:async()=>{try{if(O(null),!S)return;let e=await V(S);I(e),P("Snapshot refreshed"),setTimeout(()=>P(null),1500)}catch(e){O(String(e?.message||e))}},disabled:!S||F,title:"Refresh pipeline snapshot",className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white disabled:opacity-60 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:"Refresh"}),(0,t.jsx)("button",{type:"button",onClick:()=>W(e=>!e),className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:K?"Hide dev panels":"Show dev panels"})]})]}),(0,t.jsx)("section",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 shadow-[0_18px_45px_rgba(148,163,184,0.22)] backdrop-blur dark:border-slate-800 dark:bg-slate-950/55 dark:shadow-[0_18px_45px_rgba(15,23,42,0.75)]",children:(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 p-4 lg:grid-cols-12 lg:gap-5 lg:p-5",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-2",children:[(0,t.jsxs)("h1",{className:"jsx-ac095fdd7ad315db text-xl font-semibold leading-tight text-slate-900 sm:text-2xl dark:text-slate-50",children:["Turn your product rules into a"," ",(0,t.jsx)("span",{style:{backgroundImage:"linear-gradient(90deg, rgba(251,191,36,1), rgba(249,115,22,1), rgba(236,72,153,1), rgba(251,191,36,1))"},className:"jsx-ac095fdd7ad315db audit-title-gradient bg-clip-text text-transparent",children:"measurable, enforceable audit score"}),"."]}),(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db max-w-2xl text-sm text-slate-600 dark:text-slate-300",children:"Run deterministic checks now (v1), persist a structured audit payload, and use it as a guardrail for safe automation. When audit fails, downstream modules can be skipped automatically."})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap gap-2 text-[11px]",children:[(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"URL flow"}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"ingest → extract → seo → audit"})]}),(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"Ingestion flow"}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"audit-only or full chain"})]}),(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-amber-950 dark:border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-100",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400"}),"auditResult JSON per run"]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-white p-3 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Run mode"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,t.jsx)("button",{type:"button",onClick:()=>h("url"),className:"jsx-ac095fdd7ad315db "+(c("px-3 py-1 rounded-full transition","url"===p?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From URL"}),(0,t.jsx)("button",{type:"button",onClick:()=>h("ingestion"),className:"jsx-ac095fdd7ad315db "+(c("px-3 py-1 rounded-full transition","ingestion"===p?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From ingestionId"})]})]}),"url"===p?(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,t.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Manufacturer Product URL"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)("input",{value:k,onChange:e=>y(e.target.value),placeholder:"https://manufacturer.com/product/...",type:"url",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,t.jsx)("button",{type:"button",onClick:ea,disabled:F,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:F?"Running…":"Run Audit"})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-500",children:"Creates an ingestion + pipeline run, then persists an audit result to diagnostics."}),(0,t.jsx)("button",{type:"button",onClick:()=>y("https://www.apple.com/iphone-17/"),className:"jsx-ac095fdd7ad315db text-[11px] text-orange-700 hover:text-orange-600 underline underline-offset-4 dark:text-orange-300 dark:hover:text-orange-200",children:"Try demo URL"})]})]}):(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,t.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"ingestionId"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)("input",{value:v,onChange:e=>w(e.target.value),placeholder:"b0324634-1593-4fad-a9de-70215a2deb38",type:"text",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,t.jsx)("button",{type:"button",onClick:es,disabled:F,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:F?"Running…":"Run Audit"})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 text-[11px] text-slate-600 dark:text-slate-300",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"Steps:"}),(0,t.jsxs)("select",{value:g,onChange:e=>j(e.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,t.jsx)("option",{value:"extract_seo_audit",className:"jsx-ac095fdd7ad315db",children:"extract + seo + audit"}),(0,t.jsx)("option",{value:"audit_only",className:"jsx-ac095fdd7ad315db",children:"audit only"})]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:async()=>{try{if(O(null),!v.trim())throw Error("Enter an ingestionId first.");await Q(v.trim()),P("Loaded ingestion")}catch(e){O(String(e?.message||e))}},className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Load existing"}),v?(0,t.jsx)("button",{type:"button",onClick:()=>em(v),className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Copy id"}):null]})]})]})]}),E?(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-800 shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50",children:E}):null]}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5",children:(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/60",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Audit scoreboard"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-2 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-semibold","emerald"===eu?"bg-emerald-500/10 border-emerald-400/60 text-emerald-700 dark:text-emerald-200":"amber"===eu?"bg-amber-500/10 border-amber-400/60 text-amber-700 dark:text-amber-200":"rose"===eu?"bg-rose-500/10 border-rose-400/60 text-rose-700 dark:text-rose-200":"bg-slate-500/10 border-slate-400/60 text-slate-700 dark:text-slate-200")||""),children:null==el.score?"—":`${el.score} / 100`}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",o(el.status??(!0===el.ok?"passed":!1===el.ok?"failed":"unknown")))||""),children:el.status??(!0===el.ok?"passed":!1===el.ok?"failed":"unknown")}),ep?(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-2.5 py-1 text-[11px] text-rose-800 dark:border-rose-500/30 dark:bg-rose-950/40 dark:text-rose-100",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-rose-500"}),ep," blockers"]}):(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-2.5 py-1 text-[11px] text-emerald-800 dark:border-emerald-500/30 dark:bg-emerald-950/35 dark:text-emerald-100",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-emerald-500"}),"No blockers"]}),eh?(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-2.5 py-1 text-[11px] text-amber-800 dark:border-amber-500/30 dark:bg-amber-950/35 dark:text-amber-100",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-500"}),eh," warnings"]}):null]}),(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-2 text-xs text-slate-600 dark:text-slate-300",children:el.summary??"Run an audit to see a score, categories, and structured results."})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col items-end gap-2",children:[(0,t.jsx)(x,{value:C?.modules?.length?eo:0}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-right text-[11px] text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db",children:"Last audit"}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db font-mono",children:el.lastRunAt?new Date(el.lastRunAt).toLocaleString():"—"})]})]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:"Pipeline progress"}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:C?.modules?.length?`${eo}%`:"—"})]}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,t.jsx)("div",{style:{width:`${eo}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]}),el.categories?.length?(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:border-slate-800 dark:bg-slate-950/40",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Category scores"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:[el.categories.length," categories"]})]}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-2 space-y-2",children:el.categories.slice(0,6).map(e=>{let a=null==e.score?0:Math.max(0,Math.min(100,e.score));return(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-1",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px]",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db truncate text-slate-700 dark:text-slate-200",children:e.label}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-500 dark:text-slate-400",children:null==e.score?"—":`${e.score}`})]}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db h-1.5 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,t.jsx)("div",{style:{width:`${a}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]},e.key)})})]}):null,(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-700 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Gate policy"}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-slate-600 dark:text-slate-300",children:["If audit fails: ",(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Import"}),","," ",(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Monitor"}),", and ",(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Price"})," are skipped automatically."]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{var e;let t,a,s;return e=`audit-${ed?.id??v??"unknown"}.json`,t=new Blob([JSON.stringify(eb,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),void((s=document.createElement("a")).href=a,s.download=e,s.click(),URL.revokeObjectURL(a))},className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-900 bg-slate-900 px-3 py-2 text-xs text-slate-50 shadow-sm hover:bg-slate-800 dark:border-white/20 dark:bg-white/5 dark:hover:bg-white/10",children:"Export JSON"}),(0,t.jsx)("button",{type:"button",onClick:()=>B(e=>!e),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-slate-100 px-3 py-2 text-xs text-slate-900 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-100",children:D?"Hide raw":"Show raw"}),S?(0,t.jsx)("button",{type:"button",onClick:()=>em(JSON.stringify(eb,null,2)),title:"Copy full JSON payload",className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:"Copy payload"}):null]}),D?(0,t.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 max-h-[320px] overflow-auto rounded-xl border border-slate-200 bg-slate-900 p-3 text-[11px] text-slate-100 dark:border-slate-800",children:JSON.stringify(eb,null,2)}):null,(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db",children:["Checks: ",eg||"—"]}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:M?`Ingest: ${M}`:en?`Run: ${en}`:""})]})]})})]})}),(0,t.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,t.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Live pipeline"}),(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Status, runtime, output refs — in the order your pipeline executed."})]}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",o(en??"idle"))||""),children:en??"idle"})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 space-y-2",children:[(C?.modules??[]).slice().sort((e,t)=>e.module_index-t.module_index).map(e=>(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db group flex items-start justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 transition hover:bg-white dark:border-slate-800 dark:bg-slate-950/40 dark:hover:bg-slate-950/60",children:(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("h-2 w-2 rounded-full","succeeded"===e.status?"bg-emerald-400":"failed"===e.status?"bg-rose-400":"running"===e.status?"bg-amber-400 animate-pulse":"bg-slate-400")||"")}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db font-semibold text-slate-900 dark:text-slate-50 truncate",children:[e.module_index,". ",function(e){switch(e){case"extract":return"Extract";case"seo":return"SEO";case"audit":return"Audit";case"import":return"Import";case"monitor":return"Monitor";case"price":return"Price";default:return e}}(e.module_name)]}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("ml-auto inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",o(e.status))||""),children:e.status})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1.5 flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono",children:function(e){if(null==e||Number.isNaN(e))return"—";if(e<1e3)return`${e}ms`;let t=Math.round(e/100)/10;return`${t}s`}(ei.get(e.module_name)??null)}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,t.jsxs)("span",{className:"jsx-ac095fdd7ad315db truncate",children:["output_ref:"," ",(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:e.output_ref??"—"})]}),e.output_ref?(0,t.jsx)("button",{type:"button",onClick:()=>em(String(e.output_ref)),title:"Copy output_ref",className:"jsx-ac095fdd7ad315db ml-auto rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-300 dark:hover:bg-slate-950",children:"Copy"}):null]}),e.error?(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-rose-700 dark:text-rose-200",children:["error: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]}):null]})},`${e.module_index}-${e.module_name}`)),(C?.modules??[]).length?null:(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No pipeline run selected yet. Run an audit to see module telemetry."})]})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,t.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Issues"}),(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Blockers and warnings (v1). Filter, search, and export for workflows."})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("select",{value:q,onChange:e=>G(e.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,t.jsx)("option",{value:"all",className:"jsx-ac095fdd7ad315db",children:"All"}),(0,t.jsx)("option",{value:"errors",className:"jsx-ac095fdd7ad315db",children:"Errors/Blockers"}),(0,t.jsx)("option",{value:"warnings",className:"jsx-ac095fdd7ad315db",children:"Warnings"})]}),(0,t.jsx)("input",{value:H,onChange:e=>Z(e.target.value),placeholder:"Search issues…",className:"jsx-ac095fdd7ad315db w-44 rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60"})]})]}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 overflow-auto rounded-2xl border border-slate-200 dark:border-slate-800",children:(0,t.jsxs)("table",{className:"jsx-ac095fdd7ad315db min-w-full text-xs",children:[(0,t.jsx)("thead",{className:"jsx-ac095fdd7ad315db sticky top-0 bg-slate-50 text-slate-600 dark:bg-slate-950/80 dark:text-slate-300",children:(0,t.jsxs)("tr",{className:"jsx-ac095fdd7ad315db",children:[(0,t.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Severity"}),(0,t.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Rule"}),(0,t.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Message"}),(0,t.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Location"})]})}),(0,t.jsx)("tbody",{className:"jsx-ac095fdd7ad315db bg-white dark:bg-slate-900/30",children:ex.length?ex.map((e,a)=>{let s=String(e?.severity??e?.level??"info");return(0,t.jsxs)("tr",{className:"jsx-ac095fdd7ad315db border-t border-slate-200 hover:bg-slate-50/60 dark:border-slate-800 dark:hover:bg-slate-950/40",children:[(0,t.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2",children:(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",i(s))||""),children:s})}),(0,t.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 font-mono text-[11px] text-slate-700 dark:text-slate-200",children:String(e?.rule??e?.key??"—")}),(0,t.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-700 dark:text-slate-200",children:String(e?.message??e?.detail??e?.text??"—")}),(0,t.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-500 dark:text-slate-400",children:String(e?.location??e?.path??"—")})]},a)}):(0,t.jsx)("tr",{className:"jsx-ac095fdd7ad315db",children:(0,t.jsx)("td",{colSpan:4,className:"jsx-ac095fdd7ad315db px-3 py-4 text-slate-500 dark:text-slate-400",children:"No issues found (or run an audit to populate results)."})})})]})}),(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:"Current v1 audit derives issues from blockers/warnings. Future audit can emit richer issue objects."})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,t.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Checks"}),(0,t.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"A per-check view you can trust for “go / no-go”."})]}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:Array.isArray(el.checks)?`${el.checks.length} checks`:"—"})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(el.checks??[]).map((e,a)=>{let s=String(e?.status??"pass"),d="fail"===s?i("error"):"warn"===s?i("warning"):i("ok");return(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 dark:border-slate-800 dark:bg-slate-950/40",children:(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db truncate font-semibold text-slate-900 dark:text-slate-50",children:String(e?.label??e?.key??`Check ${a+1}`)}),e?.detail?(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:String(e.detail)}):null]}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(c("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",d)||""),children:s})]})},`${e?.key??a}`)}),(el.checks??[]).length?null:(0,t.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No checks available yet. Run an audit to populate."})]})]})]})]}),K?(0,t.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Normalized payload"}),(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:"Ingestion"})]}),(0,t.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:ed?JSON.stringify(ed.normalized_payload??ed,null,2):"Run an audit to load ingestion data."})]}),(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,t.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Raw /api/v1/ingest"}),M?(0,t.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:M}):null]}),(0,t.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:L?JSON.stringify(L,null,2):"Shown when you run from URL."})]})]}):null]}),(0,t.jsx)(a.default,{id:"ac095fdd7ad315db",children:".audit-title-gradient.jsx-ac095fdd7ad315db{filter:drop-shadow(0 10px 26px #f973162e);background-size:220% 220%;animation:7s ease-in-out infinite auditGradientShift}@keyframes auditGradientShift{0%{background-position:0%;transform:translateZ(0)scale(1)}50%{background-position:100%;transform:translateZ(0)scale(1.01)}to{background-position:0%;transform:translateZ(0)scale(1)}}"})]})}e.s(["default",()=>u])}]);
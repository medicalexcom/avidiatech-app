{"version":3,"sources":["../../../node_modules/%40clerk/backend/dist/jwt/index.mjs","../../../src/lib/billing.ts","../../../src/lib/errors.ts","../../../src/lib/owners.ts","../../../src/lib/clerk-utils.ts","../../../node_modules/%40clerk/nextjs/dist/esm/utils/debugLogger.js","../../../node_modules/%40clerk/nextjs/dist/esm/utils/logFormatter.js","../../../node_modules/%40clerk/nextjs/dist/esm/app-router/server/auth.js","../../../node_modules/%40clerk/nextjs/dist/esm/server/nextErrors.js","../../../node_modules/%40clerk/nextjs/dist/esm/server/nextFetcher.js","../../../node_modules/%40clerk/nextjs/dist/esm/server/createGetAuth.js","../../../node_modules/%40clerk/nextjs/dist/esm/server/protect.js","../../../node_modules/%40clerk/nextjs/dist/esm/server/data/getAuthDataFromRequest.js"],"sourcesContent":["import {\n  withLegacyReturn,\n  withLegacySyncReturn\n} from \"../chunk-P263NW7Z.mjs\";\nimport {\n  base64url,\n  decodeJwt,\n  getCryptoAlgorithm,\n  hasValidSignature,\n  importKey,\n  runtime,\n  verifyJwt\n} from \"../chunk-7X3P2E3X.mjs\";\nimport {\n  SignJWTError\n} from \"../chunk-TCIXZLLW.mjs\";\nimport \"../chunk-RPS7XK5K.mjs\";\n\n// src/jwt/signJwt.ts\nfunction encodeJwtData(value) {\n  const stringified = JSON.stringify(value);\n  const encoder = new TextEncoder();\n  const encoded = encoder.encode(stringified);\n  return base64url.stringify(encoded, { pad: false });\n}\nasync function signJwt(payload, key, options) {\n  if (!options.algorithm) {\n    throw new Error(\"No algorithm specified\");\n  }\n  const encoder = new TextEncoder();\n  const algorithm = getCryptoAlgorithm(options.algorithm);\n  if (!algorithm) {\n    return {\n      errors: [new SignJWTError(`Unsupported algorithm ${options.algorithm}`)]\n    };\n  }\n  const cryptoKey = await importKey(key, algorithm, \"sign\");\n  const header = options.header || { typ: \"JWT\" };\n  header.alg = options.algorithm;\n  payload.iat = Math.floor(Date.now() / 1e3);\n  const encodedHeader = encodeJwtData(header);\n  const encodedPayload = encodeJwtData(payload);\n  const firstPart = `${encodedHeader}.${encodedPayload}`;\n  try {\n    const signature = await runtime.crypto.subtle.sign(algorithm, cryptoKey, encoder.encode(firstPart));\n    const encodedSignature = `${firstPart}.${base64url.stringify(new Uint8Array(signature), { pad: false })}`;\n    return { data: encodedSignature };\n  } catch (error) {\n    return { errors: [new SignJWTError(error?.message)] };\n  }\n}\n\n// src/jwt/index.ts\nvar verifyJwt2 = withLegacyReturn(verifyJwt);\nvar decodeJwt2 = withLegacySyncReturn(decodeJwt);\nvar signJwt2 = withLegacyReturn(signJwt);\nvar hasValidSignature2 = withLegacyReturn(hasValidSignature);\nexport {\n  decodeJwt2 as decodeJwt,\n  hasValidSignature2 as hasValidSignature,\n  signJwt2 as signJwt,\n  verifyJwt2 as verifyJwt\n};\n//# sourceMappingURL=index.mjs.map","import { NextResponse } from 'next/server';\nimport { clerkClient } from '@clerk/nextjs/server';\nimport { HttpError } from './errors';\nimport { getServiceSupabaseClient } from './supabase';\nimport { getOwnerEmails, normalizeEmail } from './owners';\n\nexport type TenantRole = 'owner' | 'admin' | 'member';\nexport type UsageFeature = 'ingestion' | 'seo' | 'variants' | 'match';\n\nconst FEATURE_COLUMNS: Record<UsageFeature, { column: string; quotaKey: keyof SubscriptionStatus['quotas'] }> = {\n  ingestion: { column: 'ingestion_count', quotaKey: 'ingestion' },\n  seo: { column: 'seo_count', quotaKey: 'seo' },\n  variants: { column: 'variants_count', quotaKey: 'variants' },\n  match: { column: 'match_count', quotaKey: 'match' },\n};\n\nexport interface SubscriptionStatus {\n  planName: string | null;\n  status: string | null;\n  currentPeriodEnd: string | null;\n  quotas: {\n    ingestion: number | null;\n    seo: number | null;\n    variants: number | null;\n    match: number | null;\n  };\n  isActive: boolean;\n}\n\nexport interface UsageSnapshot {\n  id: string;\n  tenant_id: string;\n  period_start: string;\n  ingestion_count: number;\n  seo_count: number;\n  variants_count: number;\n  match_count: number;\n  updated_at?: string;\n}\n\nexport interface TenantContext {\n  tenantId: string;\n  role: TenantRole;\n  subscription: SubscriptionStatus;\n  usage: UsageSnapshot;\n}\n\nasync function resolveOwnerOverride(userId: string, userEmail?: string): Promise<boolean> {\n  const ownerEmails = getOwnerEmails();\n  if (ownerEmails.length === 0) {\n    return false;\n  }\n\n  const normalizedEmail = normalizeEmail(userEmail);\n  if (normalizedEmail) {\n    return ownerEmails.includes(normalizedEmail);\n  }\n\n  try {\n    const clerk = await clerkClient(); \n    const user = await clerk.users.getUser(userId);\n   \n    const primary =\n      normalizeEmail(user.primaryEmailAddress?.emailAddress) ||\n      normalizeEmail(user.emailAddresses?.[0]?.emailAddress);\n    if (!primary) {\n      return false;\n    }\n    return ownerEmails.includes(primary);\n  } catch (error) {\n    console.error('Failed to resolve owner override', error);\n    return false;\n  }\n}\n\nfunction isSubscriptionActive(status: string | null | undefined): boolean {\n  if (!status) return false;\n  return ['active', 'trialing', 'paid'].includes(status);\n}\n\nexport function tenantFromRequest(req: Request): string | undefined {\n  const headerTenant = req.headers.get('x-tenant-id');\n  if (headerTenant) return headerTenant;\n  const url = new URL(req.url);\n  return url.searchParams.get('tenant_id') ?? undefined;\n}\n\nasync function resolveTenantMembership(userId: string, requestedTenantId?: string): Promise<{ tenantId: string; role: TenantRole }> {\n  const supabase = getServiceSupabaseClient();\n  let query = supabase\n    .from('team_members')\n    .select('tenant_id, role')\n    .eq('user_id', userId)\n    .order('created_at', { ascending: true })\n    .limit(1);\n\n  if (requestedTenantId) {\n    query = query.eq('tenant_id', requestedTenantId);\n  }\n\n  const { data, error } = await query;\n  if (error) {\n    throw new Error(error.message);\n  }\n  const membership = data?.[0];\n  if (!membership) {\n    throw new HttpError(403, 'No tenant membership found for user.');\n  }\n  return { tenantId: membership.tenant_id, role: membership.role as TenantRole };\n}\n\nasync function fetchSubscription(tenantId: string): Promise<SubscriptionStatus> {\n  const supabase = getServiceSupabaseClient();\n  const { data, error } = await supabase\n    .from('tenant_subscriptions')\n    .select(\n      'plan_name, status, current_period_end, ingestion_quota, seo_quota, variant_quota, match_quota',\n    )\n    .eq('tenant_id', tenantId)\n    .order('current_period_end', { ascending: false })\n    .limit(1);\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  const row = data?.[0];\n  return {\n    planName: row?.plan_name ?? null,\n    status: row?.status ?? null,\n    currentPeriodEnd: row?.current_period_end ?? null,\n    quotas: {\n      ingestion: row?.ingestion_quota ?? null,\n      seo: row?.seo_quota ?? null,\n      variants: row?.variant_quota ?? null,\n      match: row?.match_quota ?? null,\n    },\n    isActive: isSubscriptionActive(row?.status ?? null),\n  };\n}\n\nasync function getOrCreateUsageRow(tenantId: string): Promise<UsageSnapshot> {\n  const supabase = getServiceSupabaseClient();\n  const { data, error } = await supabase\n    .from('usage_counters')\n    .select('id, tenant_id, period_start, ingestion_count, seo_count, variants_count, match_count, updated_at')\n    .eq('tenant_id', tenantId)\n    .order('period_start', { ascending: false })\n    .limit(1);\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  if (data && data.length > 0) {\n    const row = data[0];\n    return {\n      id: row.id,\n      tenant_id: row.tenant_id,\n      period_start: row.period_start,\n      ingestion_count: row.ingestion_count ?? 0,\n      seo_count: row.seo_count ?? 0,\n      variants_count: row.variants_count ?? 0,\n      match_count: row.match_count ?? 0,\n      updated_at: row.updated_at ?? undefined,\n    };\n  }\n\n  const today = new Date().toISOString().slice(0, 10);\n  const { data: inserted, error: insertError } = await supabase\n    .from('usage_counters')\n    .insert({ tenant_id: tenantId, period_start: today })\n    .select('id, tenant_id, period_start, ingestion_count, seo_count, variants_count, match_count, updated_at')\n    .limit(1);\n\n  if (insertError) {\n    throw new Error(insertError.message);\n  }\n\n  const insertedRow = inserted?.[0];\n  return {\n    id: insertedRow.id,\n    tenant_id: insertedRow.tenant_id,\n    period_start: insertedRow.period_start,\n    ingestion_count: insertedRow.ingestion_count ?? 0,\n    seo_count: insertedRow.seo_count ?? 0,\n    variants_count: insertedRow.variants_count ?? 0,\n    match_count: insertedRow.match_count ?? 0,\n    updated_at: insertedRow.updated_at ?? undefined,\n  };\n}\n\nasync function incrementUsage(usage: UsageSnapshot, feature: UsageFeature, amount: number): Promise<UsageSnapshot> {\n  const supabase = getServiceSupabaseClient();\n  const { column } = FEATURE_COLUMNS[feature];\n  const newValue = (usage[column as keyof UsageSnapshot] as number) + amount;\n\n  const { error } = await supabase\n    .from('usage_counters')\n    .update({ [column]: newValue, updated_at: new Date().toISOString() })\n    .eq('id', usage.id);\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  return {\n    ...usage,\n    [column]: newValue,\n  } as UsageSnapshot;\n}\n\nexport async function getTenantContextForUser({\n  userId,\n  requestedTenantId,\n  userEmail,\n}: {\n  userId: string;\n  requestedTenantId?: string;\n  userEmail?: string;\n}): Promise<TenantContext> {\n  const membership = await resolveTenantMembership(userId, requestedTenantId);\n  const subscription = await fetchSubscription(membership.tenantId);\n  const usage = await getOrCreateUsageRow(membership.tenantId);\n  const hasOwnerOverride =\n    membership.role === 'owner' ? true : await resolveOwnerOverride(userId, userEmail);\n  const role: TenantRole = hasOwnerOverride ? 'owner' : membership.role;\n\n  return {\n    tenantId: membership.tenantId,\n    role,\n    subscription,\n    usage,\n  };\n}\n\nexport async function requireSubscriptionAndUsage({\n  userId,\n  requestedTenantId,\n  feature,\n  increment = 1,\n  userEmail,\n}: {\n  userId: string;\n  requestedTenantId?: string;\n  feature?: UsageFeature;\n  increment?: number;\n  userEmail?: string;\n}): Promise<TenantContext> {\n  const context = await getTenantContextForUser({ userId, requestedTenantId, userEmail });\n  const isOwner = context.role === 'owner';\n\n  if (!isOwner && !context.subscription.isActive) {\n    throw new HttpError(402, 'An active subscription is required for this action.');\n  }\n\n  if (feature) {\n    const { quotaKey } = FEATURE_COLUMNS[feature];\n    const quota = context.subscription.quotas[quotaKey];\n    const currentUsage = context.usage[FEATURE_COLUMNS[feature].column as keyof UsageSnapshot] as number;\n    const projected = currentUsage + increment;\n\n    if (!isOwner && quota !== null && projected > quota) {\n      throw new HttpError(402, 'Quota exceeded for this plan. Please upgrade to continue.');\n    }\n\n    const updatedUsage = await incrementUsage(context.usage, feature, increment);\n    return {\n      ...context,\n      usage: updatedUsage,\n    };\n  }\n\n  return context;\n}\n\nexport function handleRouteError(error: unknown) {\n  if (error instanceof HttpError) {\n    return NextResponse.json({ error: error.message }, { status: error.status });\n  }\n  console.error(error);\n  return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n}\n","export class HttpError extends Error {\n  status: number;\n\n  constructor(status: number, message: string) {\n    super(message);\n    this.status = status;\n    this.name = 'HttpError';\n  }\n}\n","export function normalizeEmail(email?: string | null): string | undefined {\n  if (!email) {\n    return undefined;\n  }\n  const normalized = email.trim().toLowerCase();\n  return normalized.length ? normalized : undefined;\n}\n\nexport function getOwnerEmails(): string[] {\n  const source = process.env.OWNER_EMAILS;\n  if (!source) {\n    return [];\n  }\n  return source\n    .split(',')\n    .map((email) => normalizeEmail(email) ?? '')\n    .filter((email): email is string => Boolean(email));\n}\n","export function extractEmailFromSessionClaims(\n  sessionClaims: Record<string, unknown> | null | undefined,\n): string | undefined {\n  if (!sessionClaims) {\n    return undefined;\n  }\n\n  const claims = sessionClaims as Record<string, unknown>;\n  const keys = ['email', 'email_address'];\n  for (const key of keys) {\n    const value = claims[key];\n    if (typeof value === 'string' && value.length > 0) {\n      return value;\n    }\n  }\n\n  const addressList = claims['email_addresses'];\n  if (Array.isArray(addressList)) {\n    const first = addressList.find((value) => typeof value === 'string') as string | undefined;\n    if (first) {\n      return first;\n    }\n  }\n\n  return undefined;\n}\n","import \"../chunk-BUSYA2B4.js\";\nimport nextPkg from \"next/package.json\";\nimport { logFormatter } from \"./logFormatter\";\nconst createDebugLogger = (name, formatter) => () => {\n  const entries = [];\n  let isEnabled = false;\n  return {\n    enable: () => {\n      isEnabled = true;\n    },\n    debug: (...args) => {\n      if (isEnabled) {\n        entries.push(args.map((arg) => typeof arg === \"function\" ? arg() : arg));\n      }\n    },\n    commit: () => {\n      if (isEnabled) {\n        console.log(debugLogHeader(name));\n        for (const log of entries) {\n          let output = formatter(log);\n          output = output.split(\"\\n\").map((l) => `  ${l}`).join(\"\\n\");\n          if (process.env.VERCEL) {\n            output = truncate(output, 4096);\n          }\n          console.log(output);\n        }\n        console.log(debugLogFooter(name));\n      }\n    }\n  };\n};\nconst withLogger = (loggerFactoryOrName, handlerCtor) => {\n  return ((...args) => {\n    const factory = typeof loggerFactoryOrName === \"string\" ? createDebugLogger(loggerFactoryOrName, logFormatter) : loggerFactoryOrName;\n    const logger = factory();\n    const handler = handlerCtor(logger);\n    try {\n      const res = handler(...args);\n      if (typeof res === \"object\" && \"then\" in res && typeof res.then === \"function\") {\n        return res.then((val) => {\n          logger.commit();\n          return val;\n        }).catch((err) => {\n          logger.commit();\n          throw err;\n        });\n      }\n      logger.commit();\n      return res;\n    } catch (err) {\n      logger.commit();\n      throw err;\n    }\n  });\n};\nfunction debugLogHeader(name) {\n  return `[clerk debug start: ${name}]`;\n}\nfunction debugLogFooter(name) {\n  return `[clerk debug end: ${name}] (@clerk/nextjs=${\"6.36.2\"},next=${nextPkg.version},timestamp=${Math.round((/* @__PURE__ */ new Date()).getTime() / 1e3)})`;\n}\nfunction truncate(str, maxLength) {\n  const encoder = new TextEncoder();\n  const decoder = new TextDecoder(\"utf-8\");\n  const encodedString = encoder.encode(str);\n  const truncatedString = encodedString.slice(0, maxLength);\n  return decoder.decode(truncatedString).replace(/\\uFFFD/g, \"\");\n}\nexport {\n  createDebugLogger,\n  withLogger\n};\n//# sourceMappingURL=debugLogger.js.map","import \"../chunk-BUSYA2B4.js\";\nconst maskSecretKey = (str) => {\n  if (!str || typeof str !== \"string\") {\n    return str;\n  }\n  try {\n    return (str || \"\").replace(/^(sk_(live|test)_)(.+?)(.{3})$/, \"$1*********$4\");\n  } catch {\n    return \"\";\n  }\n};\nconst logFormatter = (entry) => {\n  return (Array.isArray(entry) ? entry : [entry]).map((entry2) => {\n    if (typeof entry2 === \"string\") {\n      return maskSecretKey(entry2);\n    }\n    const masked = Object.fromEntries(Object.entries(entry2).map(([k, v]) => [k, maskSecretKey(v)]));\n    return JSON.stringify(masked, null, 2);\n  }).join(\", \");\n};\nexport {\n  logFormatter\n};\n//# sourceMappingURL=logFormatter.js.map","import \"../../chunk-BUSYA2B4.js\";\nimport { constants, createClerkRequest, createRedirect, TokenType } from \"@clerk/backend/internal\";\nimport { notFound, redirect } from \"next/navigation\";\nimport { PUBLISHABLE_KEY, SIGN_IN_URL, SIGN_UP_URL } from \"../../server/constants\";\nimport { createAsyncGetAuth } from \"../../server/createGetAuth\";\nimport { authAuthHeaderMissing } from \"../../server/errors\";\nimport { getAuthKeyFromRequest, getHeader } from \"../../server/headers-utils\";\nimport { unauthorized } from \"../../server/nextErrors\";\nimport { createProtect } from \"../../server/protect\";\nimport { decryptClerkRequestData } from \"../../server/utils\";\nimport { isNextWithUnstableServerActions } from \"../../utils/sdk-versions\";\nimport { buildRequestLike } from \"./utils\";\nconst auth = (async (options) => {\n  var _a;\n  require(\"server-only\");\n  const request = await buildRequestLike();\n  const stepsBasedOnSrcDirectory = async () => {\n    if (isNextWithUnstableServerActions) {\n      return [];\n    }\n    try {\n      const isSrcAppDir = await import(\"../../server/fs/middleware-location.js\").then((m) => m.hasSrcAppDir());\n      return [`Your Middleware exists at ./${isSrcAppDir ? \"src/\" : \"\"}middleware.(ts|js)`];\n    } catch {\n      return [];\n    }\n  };\n  const authObject = await createAsyncGetAuth({\n    debugLoggerName: \"auth()\",\n    noAuthStatusMessage: authAuthHeaderMissing(\"auth\", await stepsBasedOnSrcDirectory())\n  })(request, {\n    treatPendingAsSignedOut: options == null ? void 0 : options.treatPendingAsSignedOut,\n    acceptsToken: (_a = options == null ? void 0 : options.acceptsToken) != null ? _a : TokenType.SessionToken\n  });\n  const clerkUrl = getAuthKeyFromRequest(request, \"ClerkUrl\");\n  const createRedirectForRequest = (...args) => {\n    const { returnBackUrl } = args[0] || {};\n    const clerkRequest = createClerkRequest(request);\n    const devBrowserToken = clerkRequest.clerkUrl.searchParams.get(constants.QueryParameters.DevBrowser) || clerkRequest.cookies.get(constants.Cookies.DevBrowser);\n    const encryptedRequestData = getHeader(request, constants.Headers.ClerkRequestData);\n    const decryptedRequestData = decryptClerkRequestData(encryptedRequestData);\n    return [\n      createRedirect({\n        redirectAdapter: redirect,\n        devBrowserToken,\n        baseUrl: clerkRequest.clerkUrl.toString(),\n        publishableKey: decryptedRequestData.publishableKey || PUBLISHABLE_KEY,\n        signInUrl: decryptedRequestData.signInUrl || SIGN_IN_URL,\n        signUpUrl: decryptedRequestData.signUpUrl || SIGN_UP_URL,\n        sessionStatus: authObject.tokenType === TokenType.SessionToken ? authObject.sessionStatus : null\n      }),\n      returnBackUrl === null ? \"\" : returnBackUrl || (clerkUrl == null ? void 0 : clerkUrl.toString())\n    ];\n  };\n  const redirectToSignIn = (opts = {}) => {\n    const [r, returnBackUrl] = createRedirectForRequest(opts);\n    return r.redirectToSignIn({\n      returnBackUrl\n    });\n  };\n  const redirectToSignUp = (opts = {}) => {\n    const [r, returnBackUrl] = createRedirectForRequest(opts);\n    return r.redirectToSignUp({\n      returnBackUrl\n    });\n  };\n  if (authObject.tokenType === TokenType.SessionToken) {\n    return Object.assign(authObject, { redirectToSignIn, redirectToSignUp });\n  }\n  return authObject;\n});\nauth.protect = async (...args) => {\n  var _a, _b;\n  require(\"server-only\");\n  const request = await buildRequestLike();\n  const requestedToken = ((_a = args == null ? void 0 : args[0]) == null ? void 0 : _a.token) || ((_b = args == null ? void 0 : args[1]) == null ? void 0 : _b.token) || TokenType.SessionToken;\n  const authObject = await auth({ acceptsToken: requestedToken });\n  const protect = createProtect({\n    request,\n    authObject,\n    redirectToSignIn: authObject.redirectToSignIn,\n    notFound,\n    redirect,\n    unauthorized\n  });\n  return protect(...args);\n};\nexport {\n  auth\n};\n//# sourceMappingURL=auth.js.map","import \"../chunk-BUSYA2B4.js\";\nconst CONTROL_FLOW_ERROR = {\n  REDIRECT_TO_URL: \"CLERK_PROTECT_REDIRECT_TO_URL\",\n  REDIRECT_TO_SIGN_IN: \"CLERK_PROTECT_REDIRECT_TO_SIGN_IN\",\n  REDIRECT_TO_SIGN_UP: \"CLERK_PROTECT_REDIRECT_TO_SIGN_UP\"\n};\nconst LEGACY_NOT_FOUND_ERROR_CODE = \"NEXT_NOT_FOUND\";\nfunction isLegacyNextjsNotFoundError(error) {\n  if (typeof error !== \"object\" || error === null || !(\"digest\" in error)) {\n    return false;\n  }\n  return error.digest === LEGACY_NOT_FOUND_ERROR_CODE;\n}\nconst HTTPAccessErrorStatusCodes = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401\n};\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatusCodes));\nconst HTTP_ERROR_FALLBACK_ERROR_CODE = \"NEXT_HTTP_ERROR_FALLBACK\";\nfunction isHTTPAccessFallbackError(error) {\n  if (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n    return false;\n  }\n  const [prefix, httpStatus] = error.digest.split(\";\");\n  return prefix === HTTP_ERROR_FALLBACK_ERROR_CODE && ALLOWED_CODES.has(Number(httpStatus));\n}\nfunction whichHTTPAccessFallbackError(error) {\n  if (!isHTTPAccessFallbackError(error)) {\n    return void 0;\n  }\n  const [, httpStatus] = error.digest.split(\";\");\n  return Number(httpStatus);\n}\nfunction isNextjsNotFoundError(error) {\n  return isLegacyNextjsNotFoundError(error) || // Checks for the error thrown from `notFound()` for canary versions of next@15\n  whichHTTPAccessFallbackError(error) === HTTPAccessErrorStatusCodes.NOT_FOUND;\n}\nconst REDIRECT_ERROR_CODE = \"NEXT_REDIRECT\";\nfunction nextjsRedirectError(url, extra, type = \"replace\", statusCode = 307) {\n  const error = new Error(REDIRECT_ERROR_CODE);\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`;\n  error.clerk_digest = CONTROL_FLOW_ERROR.REDIRECT_TO_URL;\n  Object.assign(error, extra);\n  throw error;\n}\nfunction buildReturnBackUrl(url, returnBackUrl) {\n  return returnBackUrl === null ? \"\" : returnBackUrl || url;\n}\nfunction redirectToSignInError(url, returnBackUrl) {\n  nextjsRedirectError(url, {\n    clerk_digest: CONTROL_FLOW_ERROR.REDIRECT_TO_SIGN_IN,\n    returnBackUrl: buildReturnBackUrl(url, returnBackUrl)\n  });\n}\nfunction redirectToSignUpError(url, returnBackUrl) {\n  nextjsRedirectError(url, {\n    clerk_digest: CONTROL_FLOW_ERROR.REDIRECT_TO_SIGN_UP,\n    returnBackUrl: buildReturnBackUrl(url, returnBackUrl)\n  });\n}\nfunction isNextjsRedirectError(error) {\n  if (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n    return false;\n  }\n  const digest = error.digest.split(\";\");\n  const [errorCode, type] = digest;\n  const destination = digest.slice(2, -2).join(\";\");\n  const status = digest.at(-2);\n  const statusCode = Number(status);\n  return errorCode === REDIRECT_ERROR_CODE && (type === \"replace\" || type === \"push\") && typeof destination === \"string\" && !isNaN(statusCode) && statusCode === 307;\n}\nfunction isRedirectToSignInError(error) {\n  if (isNextjsRedirectError(error) && \"clerk_digest\" in error) {\n    return error.clerk_digest === CONTROL_FLOW_ERROR.REDIRECT_TO_SIGN_IN;\n  }\n  return false;\n}\nfunction isRedirectToSignUpError(error) {\n  if (isNextjsRedirectError(error) && \"clerk_digest\" in error) {\n    return error.clerk_digest === CONTROL_FLOW_ERROR.REDIRECT_TO_SIGN_UP;\n  }\n  return false;\n}\nfunction isNextjsUnauthorizedError(error) {\n  return whichHTTPAccessFallbackError(error) === HTTPAccessErrorStatusCodes.UNAUTHORIZED;\n}\nfunction unauthorized() {\n  const error = new Error(HTTP_ERROR_FALLBACK_ERROR_CODE);\n  error.digest = `${HTTP_ERROR_FALLBACK_ERROR_CODE};${HTTPAccessErrorStatusCodes.UNAUTHORIZED}`;\n  throw error;\n}\nexport {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  isHTTPAccessFallbackError,\n  isLegacyNextjsNotFoundError,\n  isNextjsNotFoundError,\n  isNextjsRedirectError,\n  isNextjsUnauthorizedError,\n  isRedirectToSignInError,\n  isRedirectToSignUpError,\n  nextjsRedirectError,\n  redirectToSignInError,\n  redirectToSignUpError,\n  unauthorized,\n  whichHTTPAccessFallbackError\n};\n//# sourceMappingURL=nextErrors.js.map","import \"../chunk-BUSYA2B4.js\";\nfunction isNextFetcher(fetch) {\n  return \"__nextPatched\" in fetch && fetch.__nextPatched === true;\n}\nexport {\n  isNextFetcher\n};\n//# sourceMappingURL=nextFetcher.js.map","import \"../chunk-BUSYA2B4.js\";\nimport { constants } from \"@clerk/backend/internal\";\nimport { isTruthy } from \"@clerk/shared/underscore\";\nimport { withLogger } from \"../utils/debugLogger\";\nimport { isNextWithUnstableServerActions } from \"../utils/sdk-versions\";\nimport {\n  getAuthDataFromRequest as getAuthDataFromRequestOriginal,\n  getSessionAuthDataFromRequest as getSessionAuthDataFromRequestOriginal\n} from \"./data/getAuthDataFromRequest\";\nimport { getAuthAuthHeaderMissing } from \"./errors\";\nimport { detectClerkMiddleware, getHeader } from \"./headers-utils\";\nimport { assertAuthStatus } from \"./utils\";\nconst createAsyncGetAuth = ({\n  debugLoggerName,\n  noAuthStatusMessage\n}) => withLogger(debugLoggerName, (logger) => {\n  return async (req, opts) => {\n    if (isTruthy(getHeader(req, constants.Headers.EnableDebug))) {\n      logger.enable();\n    }\n    if (!detectClerkMiddleware(req)) {\n      if (isNextWithUnstableServerActions) {\n        assertAuthStatus(req, noAuthStatusMessage);\n      }\n      const missConfiguredMiddlewareLocation = await import(\"./fs/middleware-location.js\").then((m) => m.suggestMiddlewareLocation()).catch(() => void 0);\n      if (missConfiguredMiddlewareLocation) {\n        throw new Error(missConfiguredMiddlewareLocation);\n      }\n      assertAuthStatus(req, noAuthStatusMessage);\n    }\n    const getAuthDataFromRequest = (req2, opts2 = {}) => {\n      return getAuthDataFromRequestOriginal(req2, { ...opts2, logger, acceptsToken: opts2 == null ? void 0 : opts2.acceptsToken });\n    };\n    return getAuthDataFromRequest(req, { ...opts, logger, acceptsToken: opts == null ? void 0 : opts.acceptsToken });\n  };\n});\nconst createSyncGetAuth = ({\n  debugLoggerName,\n  noAuthStatusMessage\n}) => withLogger(debugLoggerName, (logger) => {\n  return (req, opts) => {\n    if (isTruthy(getHeader(req, constants.Headers.EnableDebug))) {\n      logger.enable();\n    }\n    assertAuthStatus(req, noAuthStatusMessage);\n    const getAuthDataFromRequest = (req2, opts2 = {}) => {\n      return getSessionAuthDataFromRequestOriginal(req2, { ...opts2, logger, acceptsToken: opts2 == null ? void 0 : opts2.acceptsToken });\n    };\n    return getAuthDataFromRequest(req, { ...opts, logger, acceptsToken: opts == null ? void 0 : opts.acceptsToken });\n  };\n});\nconst getAuth = createSyncGetAuth({\n  debugLoggerName: \"getAuth()\",\n  noAuthStatusMessage: getAuthAuthHeaderMissing()\n});\nexport {\n  createAsyncGetAuth,\n  createSyncGetAuth,\n  getAuth\n};\n//# sourceMappingURL=createGetAuth.js.map","import \"../chunk-BUSYA2B4.js\";\nimport { constants, isTokenTypeAccepted, TokenType } from \"@clerk/backend/internal\";\nimport { constants as nextConstants } from \"../constants\";\nimport { isNextFetcher } from \"./nextFetcher\";\nfunction createProtect(opts) {\n  const { redirectToSignIn, authObject, redirect, notFound, request, unauthorized } = opts;\n  return (async (...args) => {\n    var _a, _b, _c, _d, _e, _f;\n    const paramsOrFunction = getAuthorizationParams(args[0]);\n    const unauthenticatedUrl = ((_a = args[0]) == null ? void 0 : _a.unauthenticatedUrl) || ((_b = args[1]) == null ? void 0 : _b.unauthenticatedUrl);\n    const unauthorizedUrl = ((_c = args[0]) == null ? void 0 : _c.unauthorizedUrl) || ((_d = args[1]) == null ? void 0 : _d.unauthorizedUrl);\n    const requestedToken = ((_e = args[0]) == null ? void 0 : _e.token) || ((_f = args[1]) == null ? void 0 : _f.token) || TokenType.SessionToken;\n    const handleUnauthenticated = () => {\n      if (unauthenticatedUrl) {\n        return redirect(unauthenticatedUrl);\n      }\n      if (isPageRequest(request)) {\n        return redirectToSignIn();\n      }\n      return notFound();\n    };\n    const handleUnauthorized = () => {\n      if (authObject.tokenType !== TokenType.SessionToken) {\n        return unauthorized();\n      }\n      if (unauthorizedUrl) {\n        return redirect(unauthorizedUrl);\n      }\n      return notFound();\n    };\n    if (!isTokenTypeAccepted(authObject.tokenType, requestedToken)) {\n      return handleUnauthorized();\n    }\n    if (authObject.tokenType !== TokenType.SessionToken) {\n      if (!authObject.isAuthenticated) {\n        return handleUnauthorized();\n      }\n      return authObject;\n    }\n    if (authObject.sessionStatus === \"pending\") {\n      return handleUnauthenticated();\n    }\n    if (!authObject.userId) {\n      return handleUnauthenticated();\n    }\n    if (!paramsOrFunction) {\n      return authObject;\n    }\n    if (typeof paramsOrFunction === \"function\") {\n      if (paramsOrFunction(authObject.has)) {\n        return authObject;\n      }\n      return handleUnauthorized();\n    }\n    if (authObject.has(paramsOrFunction)) {\n      return authObject;\n    }\n    return handleUnauthorized();\n  });\n}\nconst getAuthorizationParams = (arg) => {\n  if (!arg) {\n    return void 0;\n  }\n  if (arg.unauthenticatedUrl || arg.unauthorizedUrl || arg.token) {\n    return void 0;\n  }\n  if (Object.keys(arg).length === 1 && \"token\" in arg) {\n    return void 0;\n  }\n  return arg;\n};\nconst isServerActionRequest = (req) => {\n  var _a, _b;\n  return !!req.headers.get(nextConstants.Headers.NextUrl) && (((_a = req.headers.get(constants.Headers.Accept)) == null ? void 0 : _a.includes(\"text/x-component\")) || ((_b = req.headers.get(constants.Headers.ContentType)) == null ? void 0 : _b.includes(\"multipart/form-data\")) || !!req.headers.get(nextConstants.Headers.NextAction));\n};\nconst isPageRequest = (req) => {\n  var _a;\n  return req.headers.get(constants.Headers.SecFetchDest) === \"document\" || req.headers.get(constants.Headers.SecFetchDest) === \"iframe\" || ((_a = req.headers.get(constants.Headers.Accept)) == null ? void 0 : _a.includes(\"text/html\")) || isAppRouterInternalNavigation(req) || isPagesRouterInternalNavigation(req);\n};\nconst isAppRouterInternalNavigation = (req) => !!req.headers.get(nextConstants.Headers.NextUrl) && !isServerActionRequest(req) || isPagePathAvailable();\nconst isPagePathAvailable = () => {\n  const __fetch = globalThis.fetch;\n  if (!isNextFetcher(__fetch)) {\n    return false;\n  }\n  const { page, pagePath } = __fetch.__nextGetStaticStore().getStore() || {};\n  return Boolean(\n    // available on next@14\n    pagePath || // available on next@15\n    page\n  );\n};\nconst isPagesRouterInternalNavigation = (req) => !!req.headers.get(nextConstants.Headers.NextjsData);\nexport {\n  createProtect\n};\n//# sourceMappingURL=protect.js.map","import \"../../chunk-BUSYA2B4.js\";\nimport {\n  AuthStatus,\n  constants,\n  getAuthObjectForAcceptedToken,\n  getAuthObjectFromJwt,\n  invalidTokenAuthObject,\n  isMachineTokenByPrefix,\n  isTokenTypeAccepted,\n  signedOutAuthObject,\n  TokenType\n} from \"@clerk/backend/internal\";\nimport { decodeJwt } from \"@clerk/backend/jwt\";\nimport { API_URL, API_VERSION, PUBLISHABLE_KEY, SECRET_KEY } from \"../constants\";\nimport { getAuthKeyFromRequest, getHeader } from \"../headers-utils\";\nimport { assertTokenSignature, decryptClerkRequestData } from \"../utils\";\nconst getAuthHeaders = (req) => {\n  return {\n    authStatus: getAuthKeyFromRequest(req, \"AuthStatus\"),\n    authToken: getAuthKeyFromRequest(req, \"AuthToken\"),\n    authMessage: getAuthKeyFromRequest(req, \"AuthMessage\"),\n    authReason: getAuthKeyFromRequest(req, \"AuthReason\"),\n    authSignature: getAuthKeyFromRequest(req, \"AuthSignature\")\n  };\n};\nconst createAuthOptions = (req, opts, treatPendingAsSignedOut = true) => {\n  const encryptedRequestData = getHeader(req, constants.Headers.ClerkRequestData);\n  const decryptedRequestData = decryptClerkRequestData(encryptedRequestData);\n  return {\n    secretKey: (opts == null ? void 0 : opts.secretKey) || decryptedRequestData.secretKey || SECRET_KEY,\n    publishableKey: decryptedRequestData.publishableKey || PUBLISHABLE_KEY,\n    apiUrl: API_URL,\n    apiVersion: API_VERSION,\n    authStatus: getAuthKeyFromRequest(req, \"AuthStatus\"),\n    authMessage: getAuthKeyFromRequest(req, \"AuthMessage\"),\n    authReason: getAuthKeyFromRequest(req, \"AuthReason\"),\n    treatPendingAsSignedOut\n  };\n};\nconst getSessionAuthDataFromRequest = (req, { treatPendingAsSignedOut = true, ...opts } = {}) => {\n  var _a, _b;\n  const { authStatus, authMessage, authReason, authToken, authSignature } = getAuthHeaders(req);\n  (_a = opts.logger) == null ? void 0 : _a.debug(\"headers\", { authStatus, authMessage, authReason });\n  const options = createAuthOptions(req, opts, treatPendingAsSignedOut);\n  if (!isTokenTypeAccepted(TokenType.SessionToken, opts.acceptsToken || TokenType.SessionToken)) {\n    return signedOutAuthObject(options);\n  }\n  let authObject;\n  if (!authStatus || authStatus !== AuthStatus.SignedIn) {\n    authObject = signedOutAuthObject(options);\n  } else {\n    assertTokenSignature(authToken, options.secretKey, authSignature);\n    const jwt = decodeJwt(authToken);\n    (_b = opts.logger) == null ? void 0 : _b.debug(\"jwt\", jwt.raw);\n    return getAuthObjectFromJwt(jwt, options);\n  }\n  return authObject;\n};\nconst getAuthDataFromRequest = (req, opts = {}) => {\n  var _a, _b;\n  const { authStatus, authMessage, authReason } = getAuthHeaders(req);\n  (_a = opts.logger) == null ? void 0 : _a.debug(\"headers\", { authStatus, authMessage, authReason });\n  const encryptedRequestData = getHeader(req, constants.Headers.ClerkRequestData);\n  const decryptedRequestData = decryptClerkRequestData(encryptedRequestData);\n  const bearerToken = (_b = getHeader(req, constants.Headers.Authorization)) == null ? void 0 : _b.replace(\"Bearer \", \"\");\n  const acceptsToken = opts.acceptsToken || TokenType.SessionToken;\n  const options = createAuthOptions(req, opts);\n  const machineAuthObject = handleMachineToken(\n    bearerToken,\n    decryptedRequestData.machineAuthObject,\n    acceptsToken,\n    options\n  );\n  if (machineAuthObject) {\n    return machineAuthObject;\n  }\n  if (bearerToken && Array.isArray(acceptsToken) && !acceptsToken.includes(TokenType.SessionToken)) {\n    return invalidTokenAuthObject();\n  }\n  return getSessionAuthDataFromRequest(req, opts);\n};\nconst handleMachineToken = (bearerToken, rawAuthObject, acceptsToken, options) => {\n  const hasMachineToken = bearerToken && isMachineTokenByPrefix(bearerToken);\n  const acceptsOnlySessionToken = acceptsToken === TokenType.SessionToken || Array.isArray(acceptsToken) && acceptsToken.length === 1 && acceptsToken[0] === TokenType.SessionToken;\n  if (hasMachineToken && rawAuthObject && !acceptsOnlySessionToken) {\n    const authObject = getAuthObjectForAcceptedToken({\n      authObject: {\n        ...rawAuthObject,\n        debug: () => options\n      },\n      acceptsToken\n    });\n    return {\n      ...authObject,\n      getToken: () => authObject.isAuthenticated ? Promise.resolve(bearerToken) : Promise.resolve(null),\n      has: () => false\n    };\n  }\n  return null;\n};\nexport {\n  getAuthDataFromRequest,\n  getSessionAuthDataFromRequest\n};\n//# sourceMappingURL=getAuthDataFromRequest.js.map"],"names":[],"mappings":"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","ignoreList":[0,5,6,7,8,9,10,11,12]}
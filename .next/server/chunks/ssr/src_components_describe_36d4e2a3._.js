module.exports=[10926,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=[{label:"Avidia Standard",value:"avidia_standard"},{label:"Shopify Conversion",value:"shopify"},{label:"General E-commerce",value:"ecommerce"},{label:"Technical / Industrial",value:"technical"},{label:"Lifestyle / Marketing",value:"lifestyle"}];function e(){let{generate:a,loading:e,error:f}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(null);return{generate:async function(a){b(!0),e(null);try{let c=await fetch("/api/v1/describe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),d=await c.json();if(!c.ok){let a=Error(d?.error||`Status ${c.status}`);return e(a),b(!1),null}try{sessionStorage.setItem("avidia:describe:lastResult",JSON.stringify(d)),window.dispatchEvent(new Event("storage"))}catch(a){}return b(!1),d}catch(a){return e(a),b(!1),null}},loading:a,error:d}}(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("avidia_standard"),[q,r]=(0,c.useState)(null);async function s(b){if(b&&b.preventDefault(),!g.trim()||!i.trim())return void alert("Please provide product name and a short description.");let c=function(a){let b=a.split(/\r?\n/).map(a=>a.trim()).filter(Boolean),c={};for(let a of b){let[b,...d]=a.split(":");b&&(c[b.trim()]=d.join(":").trim())}return c}(m),d={name:g.trim(),shortDescription:i.trim(),brand:k.trim()||void 0,specs:Object.keys(c).length?c:void 0,format:o},e=await a(d);e?.normalizedPayload?.id&&r(e.normalizedPayload.id)}return(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4 bg-white dark:bg-slate-900 border rounded-lg p-4 shadow-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"Product name"}),(0,b.jsx)("input",{value:g,onChange:a=>h(a.target.value),className:"mt-1 w-full border rounded px-3 py-2",placeholder:"e.g. Portable Folding Ramp"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"Short manufacturer description"}),(0,b.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),rows:3,className:"mt-1 w-full border rounded px-3 py-2",placeholder:"One or two lines describing the product"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"Brand (optional)"}),(0,b.jsx)("input",{value:k,onChange:a=>l(a.target.value),className:"mt-1 w-full border rounded px-3 py-2",placeholder:"Brand name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"Specs (optional — key: value per line)"}),(0,b.jsx)("textarea",{value:m,onChange:a=>n(a.target.value),rows:4,className:"mt-1 w-full border rounded px-3 py-2",placeholder:"Weight: 12 kg\\nWidth: 80 cm"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Tip: use key:value per line to give the generator structured info."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"Description format"}),(0,b.jsx)("select",{value:o,onChange:a=>p(a.target.value),className:"mt-1 w-full border rounded px-3 py-2",children:d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)("div",{className:"w-44",children:(0,b.jsx)("button",{type:"submit",disabled:e,className:"mt-6 w-full px-3 py-2 bg-indigo-600 text-white rounded",children:e?"Generating…":"Generate Description"})})]}),f&&(0,b.jsxs)("div",{className:"text-sm text-red-600",children:["Error: ",f.message||String(f)]}),q&&(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Last generated id: ",q]})]})}a.s(["default",()=>e],10926)},9812,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let{result:a}=function(){let[a,b]=(0,c.useState)(null);return(0,c.useEffect)(()=>{function a(){try{let a=sessionStorage.getItem("avidia:describe:lastResult");if(!a)return b(null);b(JSON.parse(a))}catch{b(null)}}return a(),window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),{result:a,setResult:b}}(),[d,e]=(0,c.useState)("overview");(0,c.useEffect)(()=>{e("overview")},[a]);let f=a?.descriptionHtml??"",g=a?.seo??{};return a?(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Preview"}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Generated from: ",a?.normalizedPayload?.source??"Describe"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:function(){navigator.clipboard.writeText(f).then(()=>alert("HTML copied to clipboard"))},className:"px-3 py-1 border rounded text-sm",children:"Copy HTML"}),(0,b.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(g,null,2)).then(()=>alert("SEO copied to clipboard"))},className:"px-3 py-1 border rounded text-sm",children:"Copy SEO"}),(0,b.jsx)("button",{onClick:function(){let b=new Blob([JSON.stringify(a??{},null,2)],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`describe-${Date.now()}.json`,d.click(),URL.revokeObjectURL(c)},className:"px-3 py-1 border rounded text-sm",children:"Download JSON"}),(0,b.jsx)("button",{onClick:function(){sessionStorage.setItem("avidia:import:payload",JSON.stringify(a??{})),window.location.href="/dashboard/import"},className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm",children:"Send to Import"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 border-b pb-3 mb-3",children:[(0,b.jsx)("button",{onClick:()=>e("overview"),className:`text-sm ${"overview"===d?"font-semibold":"text-slate-500"}`,children:"Overview"}),(0,b.jsx)("button",{onClick:()=>e("features"),className:`text-sm ${"features"===d?"font-semibold":"text-slate-500"}`,children:"Features"}),(0,b.jsx)("button",{onClick:()=>e("specs"),className:`text-sm ${"specs"===d?"font-semibold":"text-slate-500"}`,children:"Specs"}),(0,b.jsx)("button",{onClick:()=>e("included"),className:`text-sm ${"included"===d?"font-semibold":"text-slate-500"}`,children:"Included"}),(0,b.jsx)("button",{onClick:()=>e("manuals"),className:`text-sm ${"manuals"===d?"font-semibold":"text-slate-500"}`,children:"Manuals"}),(0,b.jsx)("button",{onClick:()=>e("seo"),className:`text-sm ${"seo"===d?"font-semibold":"text-slate-500"}`,children:"SEO"})]}),(0,b.jsxs)("div",{children:["overview"===d&&(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:a.sections?.overview??f}}),"features"===d&&(0,b.jsx)("ul",{className:"list-disc pl-5",children:(a.sections?.features??[]).map((a,c)=>(0,b.jsx)("li",{className:"mb-1",children:a},c))}),"specs"===d&&(0,b.jsx)("div",{children:(0,b.jsx)("pre",{className:"text-xs bg-slate-50 dark:bg-slate-800 p-3 rounded",children:JSON.stringify(a.sections?.specsSummary??{},null,2)})}),"included"===d&&(0,b.jsx)("ul",{className:"list-disc pl-5",children:(a.sections?.includedItems??[]).map((a,c)=>(0,b.jsx)("li",{children:a},c))}),"manuals"===d&&(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:a.sections?.manualsSectionHtml??"<em>No manuals found</em>"}}),"seo"===d&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"H1:"})," ",a.seo?.h1]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Page title:"})," ",a.seo?.pageTitle]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Meta description:"})," ",(0,b.jsx)("div",{className:"text-sm text-slate-500",children:a.seo?.metaDescription})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Short SEO:"})," ",(0,b.jsx)("div",{className:"text-sm text-slate-500",children:a.seo?.seoShortDescription})]})]})]})]}):(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-6 shadow-sm",children:(0,b.jsx)("div",{className:"text-sm text-slate-500",children:"No generated description yet. Fill the form and click Generate."})})}a.s(["default",()=>d])}];

//# sourceMappingURL=src_components_describe_36d4e2a3._.js.map
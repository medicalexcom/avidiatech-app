{"version":3,"sources":["../../../../src/app/dashboard/monitor/events/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\n\n/**\n * All Events - viewport-safe, responsive, colorful top cards\n * Path: src/app/dashboard/monitor/events/page.tsx\n */\n\ntype SortKey = \"created_at\" | \"event_type\" | \"severity\";\ntype SortDir = \"asc\" | \"desc\";\n\nconst PAGE_SIZE = 50;\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nfunction safeStringify(obj: any) {\n  try {\n    return JSON.stringify(obj ?? {}, null, 2);\n  } catch {\n    return \"{}\";\n  }\n}\n\nfunction fmtCompactDate(iso?: string | null) {\n  if (!iso) return \"—\";\n  const d = new Date(iso);\n  try {\n    return d.toLocaleString(undefined, {\n      month: \"short\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  } catch {\n    return d.toLocaleString();\n  }\n}\n\nfunction Pill({\n  children,\n  className,\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <span\n      className={cx(\n        \"inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-medium whitespace-nowrap\",\n        className\n      )}\n    >\n      {children}\n    </span>\n  );\n}\n\nfunction TypePill({ t }: { t?: string | null }) {\n  const s = String(t ?? \"event\");\n  const tone =\n    s === \"change_detected\"\n      ? \"border-emerald-200/70 bg-emerald-50 text-emerald-700 dark:border-emerald-400/25 dark:bg-emerald-500/10 dark:text-emerald-100\"\n      : s === \"no_change\"\n      ? \"border-sky-200/70 bg-sky-50 text-sky-700 dark:border-sky-400/25 dark:bg-sky-500/10 dark:text-sky-100\"\n      : s === \"scrape_failed\" || s === \"error\"\n      ? \"border-red-200/70 bg-red-50 text-red-700 dark:border-red-400/25 dark:bg-red-500/10 dark:text-red-100\"\n      : \"border-slate-200/70 bg-white/75 text-slate-600 dark:border-slate-700/70 dark:bg-slate-950/45 dark:text-slate-300\";\n\n  return <Pill className={tone}>{s}</Pill>;\n}\n\nfunction SeverityPill({ sev }: { sev?: string | null }) {\n  const s = String(sev ?? \"info\").toLowerCase();\n  const tone =\n    s === \"critical\"\n      ? \"border-red-200/70 bg-red-50 text-red-700 dark:border-red-400/25 dark:bg-red-500/10 dark:text-red-100\"\n      : s === \"warning\"\n      ? \"border-amber-200/70 bg-amber-50 text-amber-700 dark:border-amber-400/25 dark:bg-amber-500/10 dark:text-amber-100\"\n      : \"border-slate-200/70 bg-white/75 text-slate-600 dark:border-slate-700/70 dark:bg-slate-950/45 dark:text-slate-300\";\n\n  return <Pill className={tone}>{s}</Pill>;\n}\n\n/** Colorful metric cards (like earlier dashboard) + Title Case labels */\nfunction MetricCard({\n  label,\n  value,\n  sub,\n  tone = \"sky\",\n}: {\n  label: string;\n  value: React.ReactNode;\n  sub?: string;\n  tone?: \"sky\" | \"violet\" | \"emerald\" | \"amber\";\n}) {\n  const toneTop: Record<string, string> = {\n    sky: \"from-sky-400/55 via-sky-300/30 to-transparent dark:from-sky-300/35 dark:via-sky-400/15\",\n    violet:\n      \"from-violet-400/55 via-violet-300/30 to-transparent dark:from-violet-300/35 dark:via-violet-400/15\",\n    emerald:\n      \"from-emerald-400/55 via-emerald-300/30 to-transparent dark:from-emerald-300/35 dark:via-emerald-400/15\",\n    amber:\n      \"from-amber-400/60 via-amber-300/30 to-transparent dark:from-amber-300/40 dark:via-amber-400/15\",\n  };\n\n  const orb: Record<string, string> = {\n    sky: \"bg-sky-300/18 dark:bg-sky-500/10\",\n    violet: \"bg-violet-300/18 dark:bg-violet-500/10\",\n    emerald: \"bg-emerald-300/16 dark:bg-emerald-500/10\",\n    amber: \"bg-amber-300/18 dark:bg-amber-500/10\",\n  };\n\n  return (\n    <div\n      className={cx(\n        \"group relative min-w-0 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/85 p-4\",\n        \"shadow-[0_10px_30px_-20px_rgba(2,6,23,0.35)] backdrop-blur-xl\",\n        \"dark:border-slate-800/60 dark:bg-slate-950/45\"\n      )}\n    >\n      {/* top gradient line */}\n      <div\n        className={cx(\n          \"pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r\",\n          toneTop[tone]\n        )}\n      />\n      {/* soft orbs */}\n      <div\n        className={cx(\n          \"pointer-events-none absolute -right-12 -top-14 h-28 w-28 rounded-full blur-2xl\",\n          orb[tone]\n        )}\n      />\n      <div\n        className={cx(\n          \"pointer-events-none absolute -left-10 -bottom-14 h-28 w-28 rounded-full blur-2xl\",\n          orb[tone]\n        )}\n      />\n\n      <div className=\"relative min-w-0\">\n        <div className=\"truncate text-[11px] font-medium tracking-[0.02em] text-slate-600 dark:text-slate-300\">\n          {label}\n        </div>\n        <div className=\"mt-2 flex items-end justify-between gap-3 min-w-0\">\n          <div className=\"text-[28px] font-semibold leading-none tracking-tight text-slate-900 dark:text-slate-50\">\n            {value}\n          </div>\n        </div>\n        {sub ? (\n          <div className=\"mt-2\">\n            <span className=\"block truncate whitespace-nowrap text-[11px] leading-none text-slate-500 dark:text-slate-400\">\n              {sub}\n            </span>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nexport default function AllEventsPage() {\n  const [events, setEvents] = useState<any[] | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const [query, setQuery] = useState(\"\");\n  const [eventTypeFilter, setEventTypeFilter] = useState<string>(\"any\");\n  const [severityFilter, setSeverityFilter] = useState<string>(\"any\");\n  const [processedFilter, setProcessedFilter] = useState<string>(\"any\");\n\n  const [sortKey, setSortKey] = useState<SortKey>(\"created_at\");\n  const [sortDir, setSortDir] = useState<SortDir>(\"desc\");\n\n  const [page, setPage] = useState(1);\n  const [expanded, setExpanded] = useState<Record<string, boolean>>({});\n\n  async function load() {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/monitor/events\");\n      const j = await res.json().catch(() => null);\n      if (res.ok && j?.ok) setEvents(j.events ?? []);\n      else setEvents([]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  const allTypes = useMemo(() => {\n    const list = events ?? [];\n    const set = new Set<string>();\n    for (const e of list) if (e?.event_type) set.add(String(e.event_type));\n    return Array.from(set).sort();\n  }, [events]);\n\n  const allSeverities = useMemo(() => {\n    const list = events ?? [];\n    const set = new Set<string>();\n    for (const e of list) if (e?.severity) set.add(String(e.severity));\n    const arr = Array.from(set);\n    const order = [\"info\", \"warning\", \"critical\"];\n    arr.sort(\n      (a, b) =>\n        (order.indexOf(a) === -1 ? 99 : order.indexOf(a)) -\n        (order.indexOf(b) === -1 ? 99 : order.indexOf(b))\n    );\n    return arr;\n  }, [events]);\n\n  const filteredAndSorted = useMemo(() => {\n    const list = events ?? [];\n    const q = String(query || \"\").trim().toLowerCase();\n\n    let out = list.filter((ev) => {\n      if (eventTypeFilter !== \"any\" && (ev.event_type ?? \"\") !== eventTypeFilter)\n        return false;\n      if (severityFilter !== \"any\" && (ev.severity ?? \"\") !== severityFilter)\n        return false;\n\n      if (processedFilter !== \"any\") {\n        const proc = !!ev.processed;\n        if (processedFilter === \"yes\" && !proc) return false;\n        if (processedFilter === \"no\" && proc) return false;\n      }\n\n      if (q) {\n        const title = ev.payload?.snapshot?.title ?? \"\";\n        const url = ev.payload?.snapshot?.url ?? \"\";\n        const watch = ev.watch_id ?? \"\";\n        const hay = `${title} ${url} ${watch} ${\n          ev.payload ? safeStringify(ev.payload) : \"\"\n        }`.toLowerCase();\n        if (!hay.includes(q)) return false;\n      }\n\n      return true;\n    });\n\n    out.sort((a: any, b: any) => {\n      let av: any = a[sortKey];\n      let bv: any = b[sortKey];\n\n      if (sortKey === \"created_at\") {\n        av = a.created_at ? new Date(a.created_at).getTime() : 0;\n        bv = b.created_at ? new Date(b.created_at).getTime() : 0;\n      } else {\n        av = String(av ?? \"\");\n        bv = String(bv ?? \"\");\n      }\n\n      if (av === bv) return 0;\n      return sortDir === \"asc\" ? (av < bv ? -1 : 1) : av > bv ? -1 : 1;\n    });\n\n    return out;\n  }, [events, query, eventTypeFilter, severityFilter, processedFilter, sortKey, sortDir]);\n\n  const total = filteredAndSorted.length;\n  const pages = Math.max(1, Math.ceil(total / PAGE_SIZE));\n  const pageItems = filteredAndSorted.slice((page - 1) * PAGE_SIZE, page * PAGE_SIZE);\n\n  useEffect(() => {\n    setPage(1);\n  }, [query, eventTypeFilter, severityFilter, processedFilter, sortKey, sortDir]);\n\n  const metrics = useMemo(() => {\n    const list = events ?? [];\n    if (!list.length) {\n      return {\n        eventsPerDay: \"—\" as const,\n        uniqueWatches: 0,\n        processedPct: \"—\" as const,\n        topTypes: [] as [string, number][],\n      };\n    }\n\n    const now = Date.now();\n    const last7 = list.filter(\n      (ev) => now - new Date(ev.created_at).getTime() < 7 * 24 * 60 * 60 * 1000\n    );\n    const eventsPerDay = Math.round((last7.length / 7) * 10) / 10;\n\n    const uniqueWatches = new Set(\n      list.map((e) => e.watch_id).filter(Boolean)\n    ).size;\n\n    const processed = list.filter((e) => e.processed).length;\n    const processedPct = Math.round((processed / list.length) * 100);\n\n    const typeCounts: Record<string, number> = {};\n    list.forEach((e) => {\n      const k = String(e.event_type ?? \"event\");\n      typeCounts[k] = (typeCounts[k] ?? 0) + 1;\n    });\n    const topTypes = Object.entries(typeCounts)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 5);\n\n    return { eventsPerDay, uniqueWatches, processedPct, topTypes };\n  }, [events]);\n\n  return (\n    <main className=\"relative min-h-screen w-full max-w-[100vw] overflow-x-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50\">\n      {/* Background (clipped so it cannot cause horizontal overflow) */}\n      <div className=\"pointer-events-none absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -top-44 -left-36 h-96 w-96 rounded-full bg-sky-300/20 blur-3xl dark:bg-sky-500/15\" />\n        <div className=\"absolute -bottom-44 right-[-12rem] h-[28rem] w-[28rem] rounded-full bg-amber-300/20 blur-3xl dark:bg-amber-500/14\" />\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.92)_58%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_58%,_rgba(15,23,42,1)_100%)]\" />\n      </div>\n\n      <div className=\"relative mx-auto w-full max-w-7xl overflow-x-hidden px-4 pt-4 pb-10 sm:px-6 lg:px-8 lg:pt-6 space-y-6\">\n        {/* Header */}\n        <header className=\"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between min-w-0\">\n          <div className=\"min-w-0\">\n            <h1 className=\"text-2xl font-semibold leading-tight text-slate-900 lg:text-3xl dark:text-slate-50\">\n              All{\" \"}\n              <span className=\"bg-gradient-to-r from-amber-500 via-orange-500 to-sky-500 bg-clip-text text-transparent dark:from-amber-300 dark:via-orange-300 dark:to-sky-300\">\n                Monitor Events\n              </span>\n            </h1>\n            <p className=\"mt-1 max-w-2xl text-sm text-slate-600 dark:text-slate-300\">\n              Audit, filter, and inspect events produced by the Monitor worker & scraper.\n            </p>\n          </div>\n\n          <div className=\"flex flex-wrap gap-2\">\n            <a\n              href=\"/dashboard/monitor\"\n              className=\"inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold whitespace-nowrap bg-gradient-to-r from-amber-400 via-amber-500 to-orange-500 text-slate-950 shadow-sm\"\n            >\n              Open Monitor\n            </a>\n            <a\n              href=\"/dashboard\"\n              className=\"inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold whitespace-nowrap border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200\"\n            >\n              Back\n            </a>\n          </div>\n        </header>\n\n        {/* Metrics (colorful + Title Case labels) */}\n        <section className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 min-w-0\">\n          <MetricCard\n            tone=\"violet\"\n            label=\"Events per Day (7d)\"\n            value={metrics.eventsPerDay}\n            sub=\"Rolling 7-day average\"\n          />\n          <MetricCard\n            tone=\"emerald\"\n            label=\"Unique Watches\"\n            value={metrics.uniqueWatches}\n            sub=\"Distinct watch_id values\"\n          />\n          <MetricCard\n            tone=\"sky\"\n            label=\"Processed Rate\"\n            value={metrics.processedPct === \"—\" ? \"—\" : `${metrics.processedPct}%`}\n            sub=\"processed=true share\"\n          />\n          <MetricCard\n            tone=\"amber\"\n            label=\"Top Event Types\"\n            value={metrics.topTypes.length ? metrics.topTypes[0][0] : \"—\"}\n            sub={\n              metrics.topTypes.length\n                ? metrics.topTypes\n                    .slice(0, 2)\n                    .map(([t, c]) => `${t} · ${c}`)\n                    .join(\"  •  \")\n                : \"—\"\n            }\n          />\n        </section>\n\n        {/* Filters (grid-based so it never exceeds viewport) */}\n        <section className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45 overflow-x-hidden\">\n          <div className=\"grid grid-cols-1 gap-3 lg:grid-cols-12 min-w-0\">\n            <div className=\"lg:col-span-6 min-w-0\">\n              <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                Search\n              </div>\n              <input\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Search title / URL / watch_id / payload…\"\n                className={cx(\n                  \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-3 py-2 text-sm shadow-sm\",\n                  \"placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                  \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:placeholder:text-slate-500 dark:focus:ring-sky-500/40\"\n                )}\n              />\n            </div>\n\n            <div className=\"lg:col-span-2 min-w-0\">\n              <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                Type\n              </div>\n              <select\n                value={eventTypeFilter}\n                onChange={(e) => setEventTypeFilter(e.target.value)}\n                className={cx(\n                  \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-2.5 py-2 text-sm shadow-sm\",\n                  \"focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                  \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:focus:ring-sky-500/40\"\n                )}\n              >\n                <option value=\"any\">Any</option>\n                {(allTypes.length\n                  ? allTypes\n                  : [\"change_detected\", \"no_change\", \"scrape_failed\", \"error\"]\n                ).map((t) => (\n                  <option key={t} value={t}>\n                    {t}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"lg:col-span-2 min-w-0\">\n              <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                Severity\n              </div>\n              <select\n                value={severityFilter}\n                onChange={(e) => setSeverityFilter(e.target.value)}\n                className={cx(\n                  \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-2.5 py-2 text-sm shadow-sm\",\n                  \"focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                  \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:focus:ring-sky-500/40\"\n                )}\n              >\n                <option value=\"any\">Any</option>\n                {(allSeverities.length ? allSeverities : [\"info\", \"warning\", \"critical\"]).map(\n                  (s) => (\n                    <option key={s} value={s}>\n                      {s}\n                    </option>\n                  )\n                )}\n              </select>\n            </div>\n\n            <div className=\"lg:col-span-2 min-w-0\">\n              <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                Processed\n              </div>\n              <select\n                value={processedFilter}\n                onChange={(e) => setProcessedFilter(e.target.value)}\n                className={cx(\n                  \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-2.5 py-2 text-sm shadow-sm\",\n                  \"focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                  \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:focus:ring-sky-500/40\"\n                )}\n              >\n                <option value=\"any\">Any</option>\n                <option value=\"yes\">Processed</option>\n                <option value=\"no\">Unprocessed</option>\n              </select>\n            </div>\n\n            <div className=\"lg:col-span-12 min-w-0\">\n              <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-3 lg:grid-cols-6\">\n                <div className=\"min-w-0\">\n                  <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                    Sort By\n                  </div>\n                  <select\n                    value={sortKey}\n                    onChange={(e) => setSortKey(e.target.value as SortKey)}\n                    className={cx(\n                      \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-2.5 py-2 text-sm shadow-sm\",\n                      \"focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:focus:ring-sky-500/40\"\n                    )}\n                  >\n                    <option value=\"created_at\">Created</option>\n                    <option value=\"event_type\">Event Type</option>\n                    <option value=\"severity\">Severity</option>\n                  </select>\n                </div>\n\n                <div className=\"min-w-0\">\n                  <div className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n                    Direction\n                  </div>\n                  <select\n                    value={sortDir}\n                    onChange={(e) => setSortDir(e.target.value as SortDir)}\n                    className={cx(\n                      \"mt-1 w-full min-w-0 max-w-full rounded-xl border border-slate-200/80 bg-white/70 px-2.5 py-2 text-sm shadow-sm\",\n                      \"focus:outline-none focus:ring-2 focus:ring-sky-300/60\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-50 dark:focus:ring-sky-500/40\"\n                    )}\n                  >\n                    <option value=\"desc\">desc</option>\n                    <option value=\"asc\">asc</option>\n                  </select>\n                </div>\n\n                <div className=\"sm:col-span-1 lg:col-span-2\" />\n\n                <button\n                  onClick={() => {\n                    setPage(1);\n                    load();\n                  }}\n                  className={cx(\n                    \"h-[42px] w-full rounded-full px-4 text-sm font-semibold whitespace-nowrap\",\n                    \"border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm\",\n                    \"hover:bg-white hover:text-slate-900\",\n                    \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                  )}\n                >\n                  Reload\n                </button>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* List */}\n        <section className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45 overflow-x-hidden\">\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between min-w-0\">\n            <div className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">\n              Events\n            </div>\n            <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n              Showing{\" \"}\n              <span className=\"font-medium text-slate-700 dark:text-slate-200\">\n                {total === 0 ? 0 : Math.min(PAGE_SIZE, total - (page - 1) * PAGE_SIZE)}\n              </span>{\" \"}\n              of{\" \"}\n              <span className=\"font-medium text-slate-700 dark:text-slate-200\">\n                {total}\n              </span>{\" \"}\n              (page{\" \"}\n              <span className=\"font-medium text-slate-700 dark:text-slate-200\">\n                {page}/{pages}\n              </span>\n              )\n            </div>\n          </div>\n\n          <div className=\"mt-3 space-y-2 min-w-0\">\n            {events === null ? (\n              <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n                Loading…\n              </div>\n            ) : loading && events.length === 0 ? (\n              <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n                Loading…\n              </div>\n            ) : pageItems.length === 0 ? (\n              <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n                No events\n              </div>\n            ) : (\n              pageItems.map((ev) => {\n                const id = String(\n                  ev.id ?? `${ev.watch_id ?? \"w\"}-${ev.created_at ?? Math.random()}`\n                );\n                const title =\n                  ev.payload?.snapshot?.title ??\n                  ev.payload?.snapshot?.url ??\n                  ev.event_type ??\n                  \"Event\";\n                const url = ev.payload?.snapshot?.url ?? \"\";\n                const watchId = ev.watch_id ? String(ev.watch_id) : \"\";\n                const isExpanded = !!expanded[id];\n\n                return (\n                  <div\n                    key={id}\n                    className={cx(\n                      \"min-w-0 max-w-full rounded-xl border border-slate-200/70 bg-white/70 p-3 shadow-sm\",\n                      \"dark:border-slate-800/60 dark:bg-slate-950/35\"\n                    )}\n                  >\n                    <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-12 min-w-0\">\n                      <div className=\"sm:col-span-9 min-w-0\">\n                        <div className=\"flex flex-wrap items-center gap-2 min-w-0\">\n                          <TypePill t={ev.event_type} />\n                          <SeverityPill sev={ev.severity} />\n                          <Pill\n                            className={\n                              ev.processed\n                                ? \"border-emerald-200/70 bg-emerald-50 text-emerald-700 dark:border-emerald-400/25 dark:bg-emerald-500/10 dark:text-emerald-100\"\n                                : \"border-slate-200/70 bg-white/75 text-slate-600 dark:border-slate-700/70 dark:bg-slate-950/45 dark:text-slate-300\"\n                            }\n                          >\n                            {ev.processed ? \"processed\" : \"unprocessed\"}\n                          </Pill>\n\n                          <span className=\"ml-auto text-[11px] text-slate-500 dark:text-slate-400 whitespace-nowrap\">\n                            {fmtCompactDate(ev.created_at)}\n                          </span>\n                        </div>\n\n                        <div className=\"mt-2 min-w-0\">\n                          <div className=\"min-w-0 truncate text-sm font-semibold text-slate-900 dark:text-slate-50\">\n                            {title}\n                          </div>\n\n                          {/* Watch and URL each on one line with label + value on same line */}\n                          <div className=\"mt-1 space-y-1 text-xs text-slate-500 dark:text-slate-400 min-w-0\">\n                            {watchId ? (\n                              <div className=\"flex items-baseline gap-2 min-w-0\">\n                                <span className=\"shrink-0 text-slate-400 dark:text-slate-500\">\n                                  watch:\n                                </span>\n                                <span className=\"min-w-0 truncate\">{watchId}</span>\n                              </div>\n                            ) : null}\n\n                            {url ? (\n                              <div className=\"flex items-baseline gap-2 min-w-0\">\n                                <span className=\"shrink-0 text-slate-400 dark:text-slate-500\">\n                                  url:\n                                </span>\n                                <span className=\"min-w-0 truncate\">{url}</span>\n                              </div>\n                            ) : null}\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"sm:col-span-3 min-w-0\">\n                        <div className=\"flex flex-wrap gap-2 sm:justify-end\">\n                          <button\n                            onClick={() => {\n                              navigator.clipboard?.writeText(\n                                safeStringify(ev.payload ?? ev)\n                              );\n                              alert(\"Copied payload\");\n                            }}\n                            className={cx(\n                              \"rounded-full px-3 py-1 text-xs font-semibold whitespace-nowrap\",\n                              \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                              \"hover:bg-white hover:text-slate-900\",\n                              \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                            )}\n                          >\n                            Copy\n                          </button>\n\n                          <button\n                            onClick={() =>\n                              setExpanded((s) => ({ ...s, [id]: !s[id] }))\n                            }\n                            className={cx(\n                              \"rounded-full px-3 py-1 text-xs font-semibold whitespace-nowrap\",\n                              \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                              \"hover:bg-white hover:text-slate-900\",\n                              \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                            )}\n                          >\n                            {isExpanded ? \"Hide\" : \"Details\"}\n                          </button>\n\n                          <a\n                            href={\n                              watchId\n                                ? `/dashboard/monitor/watches?filter=${encodeURIComponent(\n                                    watchId\n                                  )}`\n                                : \"/dashboard/monitor\"\n                            }\n                            className={cx(\n                              \"inline-flex items-center justify-center rounded-full px-3 py-1 text-xs font-semibold whitespace-nowrap\",\n                              \"bg-gradient-to-r from-sky-400 via-sky-500 to-indigo-500 text-slate-950\",\n                              \"hover:from-sky-300 hover:via-sky-500 hover:to-indigo-400 shadow-sm\"\n                            )}\n                          >\n                            Open watch\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n\n                    {isExpanded ? (\n                      <div className=\"mt-3 min-w-0 max-w-full\">\n                        <div className=\"rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 text-xs text-slate-700 dark:border-slate-800/60 dark:bg-slate-900/30 dark:text-slate-200 overflow-hidden\">\n                          <div className=\"mb-2 text-[11px] font-semibold text-slate-600 dark:text-slate-300\">\n                            Payload JSON\n                          </div>\n                          <pre className=\"max-h-56 max-w-full overflow-x-auto overflow-y-auto whitespace-pre-wrap break-all\">\n                            {safeStringify(ev.payload ?? {})}\n                          </pre>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                );\n              })\n            )}\n          </div>\n\n          <div className=\"mt-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between min-w-0\">\n            <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n              Page{\" \"}\n              <span className=\"font-medium text-slate-700 dark:text-slate-200\">\n                {page}\n              </span>{\" \"}\n              of{\" \"}\n              <span className=\"font-medium text-slate-700 dark:text-slate-200\">\n                {pages}\n              </span>\n            </div>\n\n            <div className=\"flex flex-wrap gap-2\">\n              <button\n                onClick={() => setPage(1)}\n                disabled={page === 1}\n                className=\"rounded-full px-3 py-1.5 text-sm font-semibold whitespace-nowrap border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm hover:bg-white disabled:opacity-50 dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65\"\n              >\n                First\n              </button>\n              <button\n                onClick={() => setPage((p) => Math.max(1, p - 1))}\n                disabled={page === 1}\n                className=\"rounded-full px-3 py-1.5 text-sm font-semibold whitespace-nowrap border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm hover:bg-white disabled:opacity-50 dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65\"\n              >\n                Prev\n              </button>\n              <button\n                onClick={() => setPage((p) => Math.min(pages, p + 1))}\n                disabled={page === pages}\n                className=\"rounded-full px-3 py-1.5 text-sm font-semibold whitespace-nowrap border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm hover:bg-white disabled:opacity-50 dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65\"\n              >\n                Next\n              </button>\n              <button\n                onClick={() => setPage(pages)}\n                disabled={page === pages}\n                className=\"rounded-full px-3 py-1.5 text-sm font-semibold whitespace-nowrap border border-slate-200/80 bg-white/70 text-slate-800 shadow-sm hover:bg-white disabled:opacity-50 dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65\"\n              >\n                Last\n              </button>\n            </div>\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAYA,SAAS,EAAG,GAAG,CAA+C,EAC5D,OAAO,EAAM,MAAM,CAAC,SAAS,IAAI,CAAC,IACpC,CAEA,SAAS,EAAc,CAAQ,EAC7B,GAAI,CACF,OAAO,KAAK,SAAS,CAAC,GAAO,CAAC,EAAG,KAAM,EACzC,CAAE,KAAM,CACN,MAAO,IACT,CACF,CAiBA,SAAS,EAAK,UACZ,CAAQ,WACR,CAAS,CAIV,EACC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,EACT,qGACA,YAGD,GAGP,CAEA,SAAS,EAAS,GAAE,CAAC,CAAyB,EAC5C,IAAM,EAAI,OAAO,GAAK,SAUtB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UARL,CAQgB,mBARtB,EACI,+HACM,cAAN,EACA,uGACM,kBAAN,GAAyB,AAAM,YAC/B,uGACA,4HAEyB,GACjC,CAEA,SAAS,EAAa,KAAE,CAAG,CAA2B,EACpD,IAAM,EAAI,OAAO,GAAO,QAAQ,WAAW,GAQ3C,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UANL,CAMgB,YANtB,EACI,uGACM,YAAN,EACA,mHACA,4HAEyB,GACjC,CAGA,SAAS,EAAW,OAClB,CAAK,OACL,CAAK,CACL,KAAG,MACH,EAAO,KAAK,CAMb,EAWC,IAAM,EAA8B,CAClC,IAAK,mCACL,OAAQ,yCACR,QAAS,2CACT,MAAO,sCACT,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,EACT,gGACA,gEACA,2DAIF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,EACT,qEA5BgC,AA6BhC,CA5BN,IAAK,yFACL,OACE,qGACF,QACE,yGACF,MACE,gGACJ,CAqBe,CAAC,EAAK,IAIjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,EACT,iFACA,CAAG,CAAC,EAAK,IAGb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,EACT,mFACA,CAAG,CAAC,EAAK,IAIb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iGACZ,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACZ,MAGJ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wGACb,MAGH,UAIZ,CAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,MAC7C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OACzD,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OACvD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OAEzD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,cAC1C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,QAE1C,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,CAAC,GAEnE,eAAe,IACb,GAAW,GACX,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,uBAClB,EAAI,MAAM,EAAI,IAAI,GAAG,KAAK,CAAC,IAAM,KACnC,GAAI,EAAE,EAAI,GAAG,GAAI,EAAU,EAAE,MAAM,EAAI,EAAE,EACxC,EAAU,EAAE,CACnB,QAAU,CACR,GAAW,EACb,CACF,CAEA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACvB,IAAM,EAAO,GAAU,EAAE,CACnB,EAAM,IAAI,IAChB,IAAK,IAAM,KAAK,EAAU,GAAJ,AAAO,YAAY,EAAI,GAAG,CAAC,OAAO,EAAE,UAAU,GACpE,OAAO,MAAM,IAAI,CAAC,GAAK,IAAI,EAC7B,EAAG,CAAC,EAAO,EAEL,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC5B,IAAM,EAAO,GAAU,EAAE,CACnB,EAAM,IAAI,IAChB,IAAK,IAAM,KAAK,EAAU,GAAJ,AAAO,UAAU,EAAI,GAAG,CAAC,OAAO,EAAE,QAAQ,GAChE,IAAM,EAAM,MAAM,IAAI,CAAC,GACjB,EAAQ,CAAC,OAAQ,UAAW,WAAW,CAM7C,OALA,EAAI,IAAI,CACN,CAAC,EAAG,IACF,CAAsB,CAAC,IAAtB,EAAM,OAAO,CAAC,GAAY,GAAK,EAAM,OAAO,CAAC,EAAA,CAAE,EAC1B,CAAC,CAAvB,GAAC,EAAM,OAAO,CAAC,GAAY,GAAK,EAAM,OAAO,CAAC,EAAA,CAAE,EAE7C,CACT,EAAG,CAAC,EAAO,EAEL,EAAoB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAChC,IAAM,EAAO,GAAU,EAAE,CACnB,EAAI,OAAO,GAAS,IAAI,IAAI,GAAG,WAAW,GAE5C,EAAM,EAAK,MAAM,CAAC,AAAC,IACrB,GAAwB,QAApB,GAA6B,AAAC,GAAG,UAAU,EAAI,EAAA,CAAE,GAAM,GAEvD,AAAmB,WAAS,CAAC,EAAG,QAAQ,EAAI,EAAA,CAAE,GAAM,EADtD,OAAO,EAIT,GAAwB,EAFtB,MAEE,CAFK,CAEsB,CAC7B,IAAM,EAAO,CAAC,CAAC,EAAG,SAAS,CAC3B,GAAwB,QAApB,GAA6B,CAAC,GACV,OAApB,GAA4B,EADQ,IACF,GADS,CAEjD,CAEA,EAH+C,CAG3C,EAAG,CACL,IAAM,EAAQ,EAAG,OAAO,EAAE,UAAU,OAAS,GACvC,EAAM,EAAG,OAAO,EAAE,UAAU,KAAO,GACnC,EAAQ,EAAG,QAAQ,EAAI,GAI7B,GAAI,CAAC,AAHO,CAAA,EAAG,EAAM,CAAC,EAAE,EAAI,CAAC,EAAE,EAAM,CAAC,EACpC,EAAG,OAAO,CAAG,EAAc,EAAG,OAAO,EAAI,GAAA,CACzC,CAAC,WAAW,GACL,QAAQ,CAAC,GAAI,MAAO,EAC/B,CAEA,OAAO,CACT,GAkBA,OAhBA,EAAI,IAAI,CAAC,CAAC,EAAQ,KAChB,IAAI,EAAU,CAAC,CAAC,EAAQ,CACpB,EAAU,CAAC,CAAC,EAAQ,OAUxB,CARgB,cAAc,CAA1B,GACF,EAAK,EAAE,UAAU,CAAG,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,GAAK,EACvD,EAAK,EAAE,UAAU,CAAG,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,GAAK,IAEvD,EAAK,OAAO,GAAM,IAClB,EAAK,OAAO,GAAM,KAGhB,IAAO,GAAW,CAAP,CACI,QAAZ,EAAqB,EAAK,EAAK,CAAC,EAAI,EAAK,EAAK,EAAK,CAAC,EAAI,CACjE,GAEO,CACT,EAAG,CAAC,EAAQ,EAAO,EAAiB,EAAgB,EAAiB,EAAS,EAAQ,EAEhF,EAAQ,EAAkB,MAAM,CAChC,EAAQ,KAAK,GAAG,CAAC,EAAG,KAAK,IAAI,CAAC,OAC9B,CADsC,CAC1B,EAAkB,KAAK,CAAC,CAAC,GAAO,CAAC,IAAI,GAAW,GAElE,CAAA,EAAA,CAFyE,CAEzE,SAAA,AAAS,EAAC,KACR,EAAQ,EACV,EAAG,CAAC,EAAO,EAAiB,EAAgB,EAAiB,EAAS,EAAQ,EAE9E,IAAM,EAAU,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACtB,IAAM,EAAO,GAAU,EAAE,CACzB,GAAI,CAAC,EAAK,MAAM,CACd,CADgB,KACT,CACL,aAAc,IACd,cAAe,EACf,aAAc,IACd,SAAU,EAAE,AACd,EAGF,IAAM,EAAM,KAAK,GAAG,GAId,EAAe,KAAK,KAAK,CAAE,AAHnB,EAAK,MAAM,CACvB,AAAC,GAAO,EAAM,IAAI,KAAK,EAAG,UAAU,EAAE,OAAO,GAAK,IAAI,IAEjB,CAFsB,KAEhB,AAFqB,CAElB,EAAK,EAFkB,EAEZ,GAErD,EAAgB,IAAI,IACxB,EAAK,GAAG,CAAE,AAAD,GAAO,EAAE,QAAQ,EAAE,MAAM,CAAC,UACnC,IAAI,CAGA,EAAe,KAAK,KAAK,CADb,AACe,EADV,MAAM,CAAC,AAAC,GAAM,EAAE,SAAS,EAAE,MAAM,CACX,EAAK,MAAM,CAAI,KAEtD,EAAqC,CAAC,EAS5C,OARA,EAAK,OAAO,CAAC,AAAC,IACZ,IAAM,EAAI,OAAO,EAAE,UAAU,EAAI,SACjC,CAAU,CAAC,EAAE,CAAG,CAAC,CAAU,CAAC,EAAE,GAAI,CAAC,CAAI,CACzC,GAKO,cAAE,EAAc,6BAAe,EAAc,SAJnC,OAAO,OAAO,CAAC,GAC7B,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,EAC1B,KAAK,CAAC,EAAG,EAEiD,CAC/D,EAAG,CAAC,EAAO,EAEX,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,yIAEd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+FACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sHACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sPAGjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kHAEb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,oFAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,+FAAqF,MAC7F,IACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2JAAkJ,sBAIpK,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qEAA4D,mFAK3E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,qBACL,UAAU,uMACX,iBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,aACL,UAAU,oPACX,eAOL,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,yEACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAK,SACL,MAAM,sBACN,MAAO,EAAQ,YAAY,CAC3B,IAAI,0BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAK,UACL,MAAM,iBACN,MAAO,EAAQ,aAAa,CAC5B,IAAI,6BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAK,MACL,MAAM,iBACN,MAAgC,MAAzB,EAAQ,YAAY,CAAW,IAAM,CAAA,EAAG,EAAQ,YAAY,CAAC,CAAC,CAAC,CACtE,IAAI,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAK,QACL,MAAM,kBACN,MAAO,EAAQ,QAAQ,CAAC,MAAM,CAAG,EAAQ,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAG,IAC1D,IACE,EAAQ,QAAQ,CAAC,MAAM,CACnB,EAAQ,QAAQ,CACb,KAAK,CAAC,EAAG,GACT,GAAG,CAAC,CAAC,CAAC,EAAG,EAAE,GAAK,CAAA,EAAG,EAAE,MAAG,EAAE,EAAA,CAAG,EAC7B,IAAI,CAAC,SACR,SAMV,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,6LACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,WAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,YAAY,2CACZ,UAAW,EACT,+GACA,mFACA,oIAKN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,SAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAW,EACT,iHACA,wDACA,yGAGF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,QACnB,CAAC,EAAS,MAAM,CACb,EACA,CAAC,kBAAmB,YAAa,gBAAiB,QACtD,EAAE,GAAG,CAAE,AAAD,GACJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WACpB,GADU,UAOnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,aAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAkB,EAAE,MAAM,CAAC,KAAK,EACjD,UAAW,EACT,iHACA,wDACA,yGAGF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,QACnB,CAAC,EAAc,MAAM,CAAG,EAAgB,CAAC,OAAQ,UAAW,WAAW,EAAE,GAAG,CAC3E,AAAC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WACpB,GADU,UAQrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,cAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAW,EACT,iHACA,wDACA,yGAGF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,QACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,cACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,cAAK,sBAIvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,YAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,UAAW,EACT,iHACA,wDACA,yGAGF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,sBAAa,YAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,sBAAa,eAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,mBAI7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAAyD,cAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,UAAW,EACT,iHACA,wDACA,yGAGF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,SACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,cAIxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAEf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAQ,GACR,GACF,EACA,UAAW,EACT,4EACA,kEACA,sCACA,kIAEH,qBAST,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,8LACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEAA0D,WAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAA6C,UAClD,IACR,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DACH,IAAV,EAAc,EAAI,KAAK,GAAG,CAAC,GAAW,EAAQ,CAAC,GAAO,CAAC,CAhhBtD,GAghB0D,GACtD,IAAI,KACT,IACH,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DACb,IACK,IAAI,QACN,IACN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,2DACb,EAAK,IAAE,KACH,UAKX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACD,OAAX,GAIG,GAA6B,IAAlB,EAAO,EAHpB,IAG0B,CAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBAJd,mCAI2D,aAGrC,IAArB,EAAU,MAAM,CAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDAA6C,cAI5D,EAAU,GAAG,CAAE,AAAD,IACZ,IAAM,EAAK,OACT,EAAG,EAAE,EAAI,CAAA,EAAG,EAAG,QAAQ,EAAI,IAAI,CAAC,EAAE,EAAG,UAAU,EAAI,KAAK,MAAM,GAAA,CAAI,EAE9D,EACJ,EAAG,OAAO,EAAE,UAAU,OACtB,EAAG,OAAO,EAAE,UAAU,KACtB,EAAG,UAAU,EACb,QACI,EAAM,EAAG,OAAO,EAAE,UAAU,KAAO,GACnC,EAAU,EAAG,QAAQ,CAAG,OAAO,EAAG,QAAQ,EAAI,GAC9C,EAAa,CAAC,CAAC,CAAQ,CAAC,EAAG,CAEjC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAW,EACT,qFACA,2DAGF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,EAAG,EAAG,UAAU,GAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,IAAK,EAAG,QAAQ,GAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UACE,EAAG,SAAS,CACR,+HACA,4HAGL,EAAG,SAAS,CAAG,YAAc,gBAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oFAlkB1C,AAmkB6B,SAnkBL,AAAf,CAAkC,EACzC,GAAI,CAAC,EAAK,MAAO,IACjB,IAAM,EAAI,IAAI,KAAK,GACnB,GAAI,CACF,OAAO,EAAE,cAAc,MAAC,EAAW,CACjC,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,SACV,EACF,CAAE,KAAM,CACN,OAAO,EAAE,cAAc,EACzB,CACF,EAsjB4C,EAAG,UAAU,OAIjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oFACZ,IAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACZ,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uDAA8C,WAG9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAoB,OAEpC,KAEH,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uDAA8C,SAG9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAoB,OAEpC,cAKV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,UAAU,SAAS,EAAE,UACnB,EAAc,EAAG,OAAO,EAAI,IAE9B,MAAM,iBACR,EACA,UAAW,EACT,iEACA,kEACA,sCACA,kIAEH,SAID,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IACP,EAAY,AAAC,IAAM,AAAC,CAAE,GAAG,CAAC,CAAE,CAAC,EAAG,CAAE,CAAC,CAAC,CAAC,EAAG,CAAC,CAAC,EAE5C,UAAW,EACT,iEACA,kEACA,sCACA,kIAGD,EAAa,OAAS,YAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KACE,EACI,CAAC,kCAAkC,EAAE,mBACnC,GAAA,CACC,CACH,qBAEN,UAAW,EACT,yGACA,yEACA,+EAEH,uBAON,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8KACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EAAoE,iBAGnF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6FACZ,EAAc,EAAG,OAAO,EAAI,CAAC,UAIlC,OAtHC,EAyHX,KAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAA6C,OACrD,IACL,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DACb,IACK,IAAI,KACT,IACH,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DACb,OAIL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,GACvB,SAAmB,IAAT,EACV,UAAU,4QACX,UAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,AAAC,GAAM,KAAK,GAAG,CAAC,EAAG,EAAI,IAC9C,SAAmB,IAAT,EACV,UAAU,4QACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,AAAC,GAAM,KAAK,GAAG,CAAC,EAAO,EAAI,IAClD,SAAU,IAAS,EACnB,UAAU,4QACX,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,GACvB,SAAU,IAAS,EACnB,UAAU,4QACX,uBASf"}
module.exports=[488,a=>{"use strict";var b=a.i(75582),c=a.i(82943),d=a.i(37936);a.i(44721);var e=a.i(5246),f=a.i(13095);async function g(){var a,b,c,d,f,g;let i,j=await (0,e.headers)();return{nodeVersion:process.version,nextVersion:function(){var a;try{return null!=(a=process.title)?a:"unknown-process-title"}catch{return}}(),npmConfigUserAgent:process.env.npm_config_user_agent,userAgent:null!=(a=j.get("User-Agent"))?a:"unknown user-agent",port:process.env.PORT,host:null!=(b=j.get("host"))?b:"unknown host",xPort:null!=(c=j.get("x-forwarded-port"))?c:"unknown x-forwarded-port",xHost:null!=(d=j.get("x-forwarded-host"))?d:"unknown x-forwarded-host",xProtocol:null!=(f=j.get("x-forwarded-proto"))?f:"unknown x-forwarded-proto",xClerkAuthStatus:null!=(g=j.get("x-clerk-auth-status"))?g:"unknown x-clerk-auth-status",isCI:(i=new Set(["","false","0","no"]),h.some(a=>{let b=process.env[a];if(void 0===b)return!1;let c=b.trim().toLowerCase();return!i.has(c)}))}}let h=["CI","CONTINUOUS_INTEGRATION","BUILD_NUMBER","BUILD_ID","BUILDKITE","CIRCLECI","GITHUB_ACTIONS","GITLAB_CI","JENKINS_URL","TRAVIS","APPVEYOR","WERCKER","DRONE","CODESHIP","SEMAPHORE","SHIPPABLE","TEAMCITY_VERSION","BAMBOO_BUILDKEY","GO_PIPELINE_NAME","TF_BUILD","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI","BITBUCKET_BUILD_NUMBER","HEROKU_TEST_RUN_ID","VERCEL","NETLIFY"];function i(a){let b=new Headers;return a.nodeVersion&&b.set("Clerk-Node-Version",a.nodeVersion),a.nextVersion&&b.set("Clerk-Next-Version",a.nextVersion),a.npmConfigUserAgent&&b.set("Clerk-NPM-Config-User-Agent",a.npmConfigUserAgent),a.userAgent&&b.set("Clerk-Client-User-Agent",a.userAgent),a.port&&b.set("Clerk-Node-Port",a.port),a.host&&b.set("Clerk-Client-Host",a.host),a.xPort&&b.set("Clerk-X-Port",a.xPort),a.xHost&&b.set("Clerk-X-Host",a.xHost),a.xProtocol&&b.set("Clerk-X-Protocol",a.xProtocol),a.xClerkAuthStatus&&b.set("Clerk-Auth-Status",a.xClerkAuthStatus),a.isCI&&b.set("Clerk-Is-CI","true"),b}(0,f.ensureServerEntryExports)([g,i]),(0,d.registerServerReference)(g,"7f5fcdd460b465a5589141bf08e06e3234fe9ef7b3",null),(0,d.registerServerReference)(i,"7f0a128a5c3c4aa36983a15c70bb0e6303d4bea13f",null);let j=".clerk",k="clerk.lock",l=(...a)=>{let b=(0,c.nodePathOrThrow)(),d=(0,c.nodeCwdOrThrow)();return b.join(d(),j,...a)},m=".tmp",n=!1;function o(){let{readFileSync:a}=(0,c.nodeFsOrThrow)();try{let b,c=l(m,"keyless.json");try{b=a(c,{encoding:"utf-8"})||"{}"}catch{b="{}"}return JSON.parse(b)}catch{return}}let p=()=>{let{writeFileSync:a}=(0,c.nodeFsOrThrow)();n=!0,a(k,"This file can be deleted. Please delete this file and refresh your application",{encoding:"utf8",mode:"0777",flag:"w"})},q=()=>{let{rmSync:a}=(0,c.nodeFsOrThrow)();try{a(k,{force:!0,recursive:!0})}catch{}n=!1},r=()=>{let{existsSync:a}=(0,c.nodeFsOrThrow)();return n||a(k)};async function s(){let{writeFileSync:a,mkdirSync:d}=(0,c.nodeFsOrThrow)();if(r())return null;p();let e=l(m,"keyless.json"),f=l(m,"README.md");d(l(m),{recursive:!0}),function(){let{existsSync:a,writeFileSync:b,readFileSync:d,appendFileSync:e}=(0,c.nodeFsOrThrow)(),f=(0,c.nodePathOrThrow)(),g=(0,c.nodeCwdOrThrow)(),h=f.join(g(),".gitignore");a(h)||b(h,""),d(h,"utf-8").includes(j+"/")||e(h,`
# clerk configuration (can include secrets)
/${j}/
`)}();let h=o();if((null==h?void 0:h.publishableKey)&&(null==h?void 0:h.secretKey))return q(),h;let k=(0,b.createClerkClientWithOptions)({}),n=await g().then(i).catch(()=>new Headers),s=await k.__experimental_accountlessApplications.createAccountlessApplication({requestHeaders:n}).catch(()=>null);return s&&(a(e,JSON.stringify(s),{encoding:"utf8",mode:"0777",flag:"w"}),a(f,`
## DO NOT COMMIT
This directory is auto-generated from \`@clerk/nextjs\` because you are running in Keyless mode. Avoid committing the \`.clerk/\` directory as it includes the secret key of the unclaimed instance.
  `,{encoding:"utf8",mode:"0777",flag:"w"})),q(),s}function t(){let{rmSync:a}=(0,c.nodeFsOrThrow)();if(!r()){p();try{a(l(),{force:!0,recursive:!0})}catch{}q()}}a.s(["createOrReadKeyless",()=>s,"removeKeyless",()=>t,"safeParseClerkFile",()=>o],488)}];

//# sourceMappingURL=node_modules_%40clerk_nextjs_dist_esm_server_keyless-node_9fa3bf9c.js.map
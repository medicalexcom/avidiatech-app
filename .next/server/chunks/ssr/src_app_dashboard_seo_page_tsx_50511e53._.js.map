{"version":3,"sources":["../../../../src/app/dashboard/seo/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\n\n/**\n * AvidiaSEO page (client)\n *\n * Modes:\n * - Quick SEO: ingest → poll → pipeline(extract+seo) → refresh ingestion\n * - Full Pipeline: ingest → poll → pipeline(extract+seo+audit+import+monitor+price) → refresh ingestion\n *\n * Notes:\n * - We no longer call /api/v1/seo directly from this page.\n * - Both modes still create pipeline_runs + module_runs so there is always traceability and durable artifacts.\n */\n\ntype AnyObj = Record<string, any>;\n\ntype PipelineRunStatus = \"queued\" | \"running\" | \"succeeded\" | \"failed\";\ntype ModuleRunStatus = \"queued\" | \"running\" | \"succeeded\" | \"failed\" | \"skipped\";\n\ntype PipelineModule = {\n  id?: string;\n  module_index: number;\n  module_name: string;\n  status: ModuleRunStatus;\n  started_at?: string | null;\n  finished_at?: string | null;\n  output_ref?: string | null;\n  error?: any;\n};\n\ntype PipelineSnapshot = {\n  run?: { id: string; status: PipelineRunStatus } & Record<string, any>;\n  modules?: PipelineModule[];\n};\n\ntype Mode = \"quick\" | \"full\";\n\nconst QUICK_STEPS = [\"extract\", \"seo\"] as const;\nconst FULL_STEPS = [\"extract\", \"seo\", \"audit\", \"import\", \"monitor\", \"price\"] as const;\n\nfunction sleep(ms: number) {\n  return new Promise((r) => setTimeout(r, ms));\n}\n\nfunction safeDateMs(v?: string | null) {\n  if (!v) return null;\n  const ms = Date.parse(v);\n  return Number.isFinite(ms) ? ms : null;\n}\n\nfunction formatDuration(ms: number) {\n  if (!Number.isFinite(ms) || ms < 0) return \"—\";\n  const s = Math.floor(ms / 1000);\n  if (s < 60) return `${s}s`;\n  const m = Math.floor(s / 60);\n  const r = s % 60;\n  return `${m}m ${r}s`;\n}\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, n));\n}\n\nexport default function AvidiaSeoPage() {\n  const params = useSearchParams();\n  const router = useRouter();\n  const ingestionIdParam = params?.get(\"ingestionId\") || null;\n  const urlParam = params?.get(\"url\") || null;\n  const pipelineRunIdParam = params?.get(\"pipelineRunId\") || null;\n\n  const ingestionId = ingestionIdParam;\n\n  const [urlInput, setUrlInput] = useState<string>(urlParam || \"\");\n  const [job, setJob] = useState<AnyObj | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [statusMessage, setStatusMessage] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [copyState, setCopyState] = useState<\"idle\" | \"copied\" | \"error\">(\"idle\");\n  const [showRawExtras, setShowRawExtras] = useState(false);\n\n  // Debug / polling state\n  const [rawIngestResponse, setRawIngestResponse] = useState<any | null>(null);\n  const [pollingState, setPollingState] = useState<string | null>(null);\n\n  // We no longer support front-end \"preview persist:false\" for /api/v1/seo\n  const [isPreviewResult] = useState(false);\n\n  // Pipeline state\n  const [pipelineRunId, setPipelineRunId] = useState<string | null>(pipelineRunIdParam);\n  const [pipelineSnapshot, setPipelineSnapshot] = useState<PipelineSnapshot | null>(null);\n  const [lastMode, setLastMode] = useState<Mode>(\"quick\");\n\n  // Live UI\n  const [autoRefresh, setAutoRefresh] = useState(true);\n  const [lastUpdatedAt, setLastUpdatedAt] = useState<number | null>(null);\n  const [nowTick, setNowTick] = useState(() => Date.now());\n  const [localRunStartMs, setLocalRunStartMs] = useState<number | null>(null);\n  const [recentUrls, setRecentUrls] = useState<string[]>([]);\n\n  // Remember the URL that came from query params; used to decide if we should reuse ingestionId\n  const [initialUrl] = useState(urlParam || \"\");\n\n  // keep a steady clock for elapsed timers + “last updated”\n  useEffect(() => {\n    const t = setInterval(() => setNowTick(Date.now()), 1000);\n    return () => clearInterval(t);\n  }, []);\n\n  // recent URLs (localStorage)\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(\"avidia:seo:recentUrls\");\n      if (!raw) return;\n      const parsed = JSON.parse(raw);\n      if (Array.isArray(parsed)) setRecentUrls(parsed.filter((x) => typeof x === \"string\").slice(0, 6));\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  const rememberUrl = (u: string) => {\n    const cleaned = (u || \"\").trim();\n    if (!cleaned) return;\n    setRecentUrls((prev) => {\n      const next = [cleaned, ...prev.filter((x) => x !== cleaned)].slice(0, 6);\n      try {\n        localStorage.setItem(\"avidia:seo:recentUrls\", JSON.stringify(next));\n      } catch {\n        // ignore\n      }\n      return next;\n    });\n  };\n\n  const fetchIngestionData = useCallback(\n    async (id: string, isCancelled: () => boolean = () => false) => {\n      setLoading(true);\n      setError(null);\n      setStatusMessage(\"Refreshing ingestion\");\n      try {\n        const res = await fetch(`/api/v1/ingest/${encodeURIComponent(id)}`);\n        const json = await res.json();\n        if (!res.ok) {\n          throw new Error(json?.error?.message || json?.error || `Ingest fetch failed: ${res.status}`);\n        }\n        if (!isCancelled()) {\n          setJob(json?.data ?? json);\n          setStatusMessage(\"Ingestion ready\");\n        }\n      } catch (err: any) {\n        if (!isCancelled()) {\n          setError(String(err?.message || err));\n          setStatusMessage(null);\n        }\n      } finally {\n        if (!isCancelled()) setLoading(false);\n      }\n    },\n    []\n  );\n\n  const fetchPipelineSnapshot = useCallback(async (runId: string) => {\n    const res = await fetch(`/api/v1/pipeline/run/${encodeURIComponent(runId)}`);\n    const json = await res.json().catch(() => null);\n    if (!res.ok) {\n      const msg = json?.error?.message || json?.error || `Pipeline fetch failed: ${res.status}`;\n      throw new Error(msg);\n    }\n    return json as PipelineSnapshot;\n  }, []);\n\n  async function pollPipeline(runId: string, timeoutMs = 180_000, intervalMs = 2000) {\n    const start = Date.now();\n    setStatusMessage(\"Pipeline running\");\n    while (Date.now() - start < timeoutMs) {\n      const snap = await fetchPipelineSnapshot(runId);\n      setPipelineSnapshot(snap);\n      setLastUpdatedAt(Date.now());\n\n      const status = snap?.run?.status;\n      if (status === \"succeeded\" || status === \"failed\") return snap;\n\n      await sleep(intervalMs);\n    }\n    throw new Error(\"Pipeline did not complete within timeout\");\n  }\n\n  async function startPipelineRun(ingestionIdToUse: string, mode: Mode) {\n    setLastMode(mode);\n    setGenerating(true);\n    setError(null);\n\n    const steps = mode === \"quick\" ? [...QUICK_STEPS] : [...FULL_STEPS];\n    setStatusMessage(mode === \"quick\" ? \"Starting Quick SEO pipeline\" : \"Starting Full pipeline\");\n\n    // local clock start (helps even if API doesn’t include started_at yet)\n    setLocalRunStartMs(Date.now());\n\n    const res = await fetch(\"/api/v1/pipeline/run\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        ingestionId: ingestionIdToUse,\n        triggerModule: \"seo\",\n        steps,\n        options: {\n          seo: {\n            profile: \"medicalex_v1\",\n            strict: true,\n            model: null,\n          },\n        },\n      }),\n    });\n\n    const json = await res.json().catch(() => null);\n    if (!res.ok) {\n      throw new Error(json?.error?.message || json?.error || `Pipeline start failed: ${res.status}`);\n    }\n\n    const newRunId = json?.pipelineRunId?.toString?.() || \"\";\n    if (!newRunId) throw new Error(\"Pipeline start did not return pipelineRunId\");\n\n    setPipelineRunId(newRunId);\n    setLastUpdatedAt(Date.now());\n\n    router.push(\n      `/dashboard/seo?ingestionId=${encodeURIComponent(ingestionIdToUse)}&pipelineRunId=${encodeURIComponent(newRunId)}`\n    );\n\n    return newRunId;\n  }\n\n  useEffect(() => {\n    if (!ingestionId) return;\n    let cancelled = false;\n    setStatusMessage(\"Loading ingestion\");\n    fetchIngestionData(ingestionId, () => cancelled);\n    return () => {\n      cancelled = true;\n    };\n  }, [fetchIngestionData, ingestionId]);\n\n  useEffect(() => {\n    if (!pipelineRunId) return;\n    let cancelled = false;\n\n    (async () => {\n      try {\n        setStatusMessage(\"Loading pipeline run\");\n        const snap = await fetchPipelineSnapshot(pipelineRunId);\n        if (!cancelled) {\n          setPipelineSnapshot(snap);\n          setLastUpdatedAt(Date.now());\n        }\n      } catch (e: any) {\n        if (!cancelled) setError(String(e?.message || e));\n      }\n    })();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [fetchPipelineSnapshot, pipelineRunId]);\n\n  // Auto-refresh pipeline snapshot when running\n  useEffect(() => {\n    if (!pipelineRunId) return;\n    if (!autoRefresh) return;\n\n    let stopped = false;\n    const tick = setInterval(async () => {\n      if (stopped) return;\n      try {\n        const snap = await fetchPipelineSnapshot(pipelineRunId);\n        setPipelineSnapshot(snap);\n        setLastUpdatedAt(Date.now());\n\n        const status = snap?.run?.status;\n        if (status === \"succeeded\" || status === \"failed\") {\n          clearInterval(tick);\n        }\n      } catch {\n        // don’t spam error banners while polling; leave last known state\n      }\n    }, 2000);\n\n    return () => {\n      stopped = true;\n      clearInterval(tick);\n    };\n  }, [autoRefresh, fetchPipelineSnapshot, pipelineRunId]);\n\n  // Polling helper: polls /api/v1/ingest/job/:jobId until ingestion row is completed\n  async function pollForIngestion(jobId: string, timeoutMs = 120_000, intervalMs = 3000) {\n    const start = Date.now();\n    setPollingState(`polling job ${jobId}`);\n    setStatusMessage(\"Scraping & normalizing\");\n    while (Date.now() - start < timeoutMs) {\n      try {\n        const res = await fetch(`/api/v1/ingest/job/${encodeURIComponent(jobId)}`);\n        if (res.status === 200) {\n          const j = await res.json();\n          setPollingState(`completed: ingestionId=${j.ingestionId}`);\n          setStatusMessage(\"Ingestion completed\");\n          return j;\n        }\n        const elapsed = Math.floor((Date.now() - start) / 1000);\n        setPollingState(`waiting... ${elapsed}s`);\n      } catch (e) {\n        console.warn(\"pollForIngestion error\", e);\n        setPollingState(`error polling: ${String(e)}`);\n        setStatusMessage(null);\n      }\n      await sleep(intervalMs);\n    }\n    setPollingState(\"timeout\");\n    setStatusMessage(null);\n    throw new Error(\"Ingestion did not complete within timeout\");\n  }\n\n  async function createIngestion(url: string) {\n    if (!url) throw new Error(\"Please enter a URL\");\n\n    setError(null);\n    setRawIngestResponse(null);\n    setPollingState(null);\n    setStatusMessage(\"Submitting ingestion\");\n\n    const res = await fetch(\"/api/v1/ingest\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        url,\n        persist: true,\n        options: { includeSeo: true },\n      }),\n    });\n\n    const json = await res.json().catch(() => null);\n    console.debug(\"POST /api/v1/ingest response:\", res.status, json);\n    setRawIngestResponse({ status: res.status, body: json });\n\n    if (!res.ok) {\n      throw new Error(json?.error?.message || json?.error || `Ingest failed: ${res.status}`);\n    }\n\n    const possibleIngestionId =\n      json?.ingestionId ?? json?.id ?? json?.data?.id ?? json?.data?.ingestionId ?? null;\n\n    if (possibleIngestionId) {\n      if (json?.status === \"accepted\" || res.status === 202) {\n        const jobId = json?.jobId ?? json?.ingestionId ?? possibleIngestionId;\n        const pollResult = await pollForIngestion(jobId, 120_000, 3000);\n        return pollResult?.ingestionId ?? possibleIngestionId;\n      }\n      return possibleIngestionId;\n    }\n\n    const jobId = json?.jobId ?? json?.job?.id ?? null;\n    if (!jobId) throw new Error(\"Ingest did not return an ingestionId or jobId. See debug pane.\");\n\n    const pollResult = await pollForIngestion(jobId, 120_000, 3000);\n    const newIngestionId = pollResult?.ingestionId ?? pollResult?.id ?? null;\n    if (!newIngestionId) throw new Error(\"Polling returned no ingestionId. See debug pane.\");\n    return newIngestionId;\n  }\n\n  async function runMode(mode: Mode) {\n    if (generating) return;\n\n    setGenerating(true);\n    setError(null);\n    setPipelineSnapshot(null);\n\n    const trimmed = (urlInput || \"\").trim();\n    rememberUrl(trimmed);\n\n    try {\n      let idToUse: string | null = null;\n      const isSameAsInitial = Boolean(initialUrl && trimmed === initialUrl);\n\n      if (ingestionId && isSameAsInitial) {\n        idToUse = ingestionId;\n      } else {\n        setJob(null);\n        setRawIngestResponse(null);\n        setPollingState(null);\n        setStatusMessage(null);\n\n        idToUse = await createIngestion(trimmed);\n        router.push(`/dashboard/seo?ingestionId=${encodeURIComponent(idToUse)}`);\n      }\n\n      if (!idToUse) throw new Error(\"No ingestionId available to run pipeline\");\n\n      await fetchIngestionData(idToUse);\n\n      const runId = await startPipelineRun(idToUse, mode);\n\n      await pollPipeline(runId, mode === \"quick\" ? 180_000 : 300_000, 2000);\n\n      await fetchIngestionData(idToUse);\n\n      setStatusMessage(mode === \"quick\" ? \"Quick SEO completed\" : \"Full pipeline completed\");\n    } catch (e: any) {\n      setError(String(e?.message || e));\n      setStatusMessage(null);\n    } finally {\n      setGenerating(false);\n      setPollingState(null);\n    }\n  }\n\n  const jobData = useMemo(() => {\n    if (!job) return null;\n    if ((job as any)?.data?.data) return (job as any).data.data;\n    if ((job as any)?.data) return (job as any).data;\n    return job;\n  }, [job]);\n\n  const seoPayload = jobData?.seo_payload ?? (jobData as any)?.seoPayload ?? null;\n\n  const rawDescriptionHtml =\n    jobData?.description_html ??\n    (jobData as any)?.descriptionHtml ??\n    (jobData as any)?.seo_payload?.description_html ??\n    (jobData as any)?._debug?.description_html ??\n    null;\n\n  const descriptionHtml =\n    typeof rawDescriptionHtml === \"string\" && rawDescriptionHtml.trim().length > 0 ? rawDescriptionHtml : null;\n\n  const features = useMemo(() => {\n    if (Array.isArray(jobData?.features)) return jobData.features;\n    if (Array.isArray((jobData as any)?.seo_payload?.features)) return (jobData as any).seo_payload.features;\n    return null;\n  }, [jobData]);\n\n  const highlightedDescription = useMemo(() => {\n    if (!descriptionHtml) return \"<em>No description generated yet</em>\";\n    if (!searchTerm) return descriptionHtml;\n    try {\n      const escaped = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n      const regex = new RegExp(`(${escaped})`, \"gi\");\n      return descriptionHtml.replace(regex, '<mark class=\"bg-amber-200 text-gray-900 px-1 rounded-sm\">$1</mark>');\n    } catch (err) {\n      console.warn(\"Unable to highlight search term\", err);\n      return descriptionHtml;\n    }\n  }, [descriptionHtml, searchTerm]);\n\n  const knownSeoKeys = [\"h1\", \"pageTitle\", \"title\", \"metaDescription\", \"meta_description\", \"seoShortDescription\", \"seo_short_description\", \"keywords\", \"slug\", \"name_best\"];\n\n  const parkedExtras = useMemo(() => {\n    if (!seoPayload || typeof seoPayload !== \"object\") return [] as [string, any][];\n    return Object.entries(seoPayload).filter(([key]) => !knownSeoKeys.includes(key));\n  }, [seoPayload]);\n\n  const handleCopyDescription = async () => {\n    if (!descriptionHtml) return;\n    try {\n      await navigator.clipboard.writeText(descriptionHtml);\n      setCopyState(\"copied\");\n      setTimeout(() => setCopyState(\"idle\"), 1500);\n    } catch (err) {\n      console.error(\"copy failed\", err);\n      setCopyState(\"error\");\n      setTimeout(() => setCopyState(\"idle\"), 1500);\n    }\n  };\n\n  const handleDownloadDescription = () => {\n    if (!descriptionHtml) return;\n    const blob = new Blob([descriptionHtml], { type: \"text/html\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `avidia-seo-description-${ingestionId || \"preview\"}.html`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handlePasteUrl = async () => {\n    try {\n      const txt = await navigator.clipboard.readText();\n      const next = (txt || \"\").trim();\n      if (!next) return;\n      setUrlInput(next);\n      setJob(null);\n      setRawIngestResponse(null);\n      setPollingState(null);\n      setStatusMessage(\"Pasted from clipboard — choose Quick SEO or Full Pipeline\");\n      setError(null);\n      setPipelineRunId(null);\n      setPipelineSnapshot(null);\n    } catch {\n      // ignore (clipboard permissions)\n    }\n  };\n\n  const hasSeo = Boolean(seoPayload || descriptionHtml || features);\n\n  const moduleStatusByName = useMemo(() => {\n    const map = new Map<string, PipelineModule>();\n    for (const m of pipelineSnapshot?.modules ?? []) map.set(m.module_name, m);\n    return map;\n  }, [pipelineSnapshot]);\n\n  const stepsForPills = useMemo(() => {\n    const available = new Set((pipelineSnapshot?.modules ?? []).map((m) => m.module_name));\n    if (available.size > 0) {\n      const out: string[] = [];\n      for (const name of FULL_STEPS) if (available.has(name)) out.push(name);\n      return out.length ? out : (lastMode === \"full\" ? [...FULL_STEPS] : [...QUICK_STEPS]);\n    }\n    return lastMode === \"full\" ? [...FULL_STEPS] : [...QUICK_STEPS];\n  }, [lastMode, pipelineSnapshot]);\n\n  const statusPills = useMemo(() => {\n    const pills: Array<{ key: string; label: string; state: \"idle\" | \"active\" | \"done\"; hint: string }> = [];\n\n    pills.push({\n      key: \"scrape\",\n      label: \"Scraping & Normalizing\",\n      state:\n        loading || pollingState\n          ? \"active\"\n          : jobData?.status === \"completed\" || jobData?.normalized_payload || jobData?.completed_at\n          ? \"done\"\n          : \"idle\",\n      hint: pollingState || jobData?.status || (jobData?.normalized_payload ? \"normalized\" : \"waiting\"),\n    });\n\n    for (const stepName of stepsForPills) {\n      const m = moduleStatusByName.get(stepName);\n      if (stepName === \"seo\") {\n        pills.push({\n          key: \"seo\",\n          label: \"AvidiaSEO Generation\",\n          state: generating || m?.status === \"running\" ? \"active\" : hasSeo || m?.status === \"succeeded\" ? \"done\" : \"idle\",\n          hint: m?.status ? `module: ${m.status}` : generating ? \"starting\" : hasSeo ? \"SEO saved\" : \"ready\",\n        });\n        continue;\n      }\n      if (stepName === \"extract\") {\n        pills.push({\n          key: \"extract\",\n          label: \"Extract module\",\n          state: m?.status === \"running\" ? \"active\" : m?.status === \"succeeded\" ? \"done\" : \"idle\",\n          hint: m?.status || \"ready\",\n        });\n        continue;\n      }\n      pills.push({\n        key: stepName,\n        label: `${stepName[0].toUpperCase()}${stepName.slice(1)} module`,\n        state: m?.status === \"running\" ? \"active\" : m?.status === \"succeeded\" ? \"done\" : \"idle\",\n        hint: m?.status || \"not run\",\n      });\n    }\n\n    pills.push({\n      key: \"review\",\n      label: \"Human-ready Preview\",\n      state: hasSeo ? \"done\" : \"idle\",\n      hint: hasSeo ? \"Rendered\" : \"awaiting generation\",\n    });\n\n    return pills;\n  }, [generating, hasSeo, jobData, loading, moduleStatusByName, pollingState, stepsForPills]);\n\n  // progress + elapsed\n  const progress = useMemo(() => {\n    const total = statusPills.length || 1;\n    const done = statusPills.filter((p) => p.state === \"done\").length;\n    const active = statusPills.find((p) => p.state === \"active\")?.label ?? null;\n    const pct = clamp(Math.round((done / total) * 100), 0, 100);\n    return { total, done, pct, active };\n  }, [statusPills]);\n\n  const runStartedAtMs = useMemo(() => {\n    const fromApi = safeDateMs((pipelineSnapshot?.run as any)?.started_at) ?? safeDateMs((pipelineSnapshot?.run as any)?.created_at);\n    return fromApi ?? localRunStartMs;\n  }, [localRunStartMs, pipelineSnapshot]);\n\n  const elapsedLabel = useMemo(() => {\n    if (!runStartedAtMs) return \"—\";\n    return formatDuration(nowTick - runStartedAtMs);\n  }, [nowTick, runStartedAtMs]);\n\n  const lastUpdatedLabel = useMemo(() => {\n    if (!lastUpdatedAt) return \"—\";\n    const delta = nowTick - lastUpdatedAt;\n    if (delta < 2000) return \"just now\";\n    return `${Math.round(delta / 1000)}s ago`;\n  }, [lastUpdatedAt, nowTick]);\n\n  const moduleRuntimeBadges = useMemo(() => {\n    const mods = pipelineSnapshot?.modules ?? [];\n    return mods\n      .slice()\n      .sort((a, b) => (a.module_index ?? 0) - (b.module_index ?? 0))\n      .map((m) => {\n        const s = safeDateMs(m.started_at);\n        const f = safeDateMs(m.finished_at);\n        const d = s && f ? f - s : null;\n        return {\n          key: m.module_name,\n          status: m.status,\n          duration: d != null ? formatDuration(d) : m.status === \"running\" && s ? formatDuration(nowTick - s) : \"—\",\n          output_ref: m.output_ref ?? null,\n          error: m.error ?? null,\n        };\n      });\n  }, [nowTick, pipelineSnapshot]);\n\n  const demoUrl = \"https://www.apple.com/iphone-17/\";\n\n  const headlineAccent =\n    \"bg-[linear-gradient(90deg,rgba(34,211,238,1),rgba(56,189,248,1),rgba(52,211,153,1),rgba(244,114,182,1),rgba(250,204,21,1))]\";\n\n  return (\n    <main className=\"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50 relative overflow-hidden\">\n      {/* Animated headline gradient + glow */}\n      <style jsx>{`\n        .hero-gradient {\n          background-size: 200% 200%;\n          animation: heroGradient 7s ease-in-out infinite;\n        }\n        @keyframes heroGradient {\n          0% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n          100% {\n            background-position: 0% 50%;\n          }\n        }\n        .hero-glow {\n          text-shadow: 0 0 32px rgba(34, 211, 238, 0.25), 0 0 48px rgba(52, 211, 153, 0.18);\n        }\n      `}</style>\n\n      {/* Background treatment */}\n      <div className=\"pointer-events-none absolute inset-0\">\n        <div className=\"absolute -top-32 -left-24 h-72 w-72 rounded-full bg-cyan-300/22 blur-3xl dark:bg-cyan-500/15\" />\n        <div className=\"absolute -bottom-24 right-0 h-72 w-72 rounded-full bg-emerald-300/20 blur-3xl dark:bg-emerald-500/10\" />\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.9)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.9)_55%,_rgba(15,23,42,1)_100%)]\" />\n        <div className=\"absolute inset-0 opacity-[0.04] dark:opacity-[0.08]\">\n          <div className=\"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:42px_42px] dark:bg-[linear-gradient(to_right,#1f2937_1px,transparent_1px),linear-gradient(to_bottom,#1f2937_1px,transparent_1px)]\" />\n        </div>\n      </div>\n\n      <div className=\"relative mx-auto max-w-7xl px-4 pt-4 pb-10 lg:px-8 lg:pt-6\">\n        {/* HERO + COMMAND BAR (above the fold) */}\n        <section className=\"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-stretch\">\n          {/* Left: headline + command bar */}\n          <div className=\"lg:col-span-7 space-y-4\">\n            {/* Module pill */}\n            <div className=\"inline-flex items-center gap-2 rounded-full border border-cyan-300/70 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-cyan-500/40 dark:bg-slate-950/80 dark:text-cyan-100\">\n              <span className=\"inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-100 border border-cyan-300 dark:bg-slate-900 dark:border-cyan-400/60\">\n                <span className=\"h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse\" />\n              </span>\n              AvidiaTech • AvidiaSEO\n              {ingestionId && (\n                <>\n                  <span className=\"h-3 w-px bg-slate-300/70 dark:bg-slate-700/70\" />\n                  <span className=\"font-mono text-[10px]\">{ingestionId.slice(0, 8)}…</span>\n                </>\n              )}\n              {pipelineRunId && (\n                <>\n                  <span className=\"h-3 w-px bg-slate-300/70 dark:bg-slate-700/70\" />\n                  <span className=\"font-mono text-[10px]\">run:{pipelineRunId.slice(0, 8)}…</span>\n                </>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <h1 className=\"text-2xl sm:text-3xl font-semibold text-slate-900 leading-tight dark:text-slate-50\">\n                Turn any manufacturer URL into a{\" \"}\n                <span\n                  className={[\n                    \"bg-clip-text text-transparent hero-gradient hero-glow\",\n                    headlineAccent,\n                  ].join(\" \")}\n                >\n                  production-ready SEO page\n                </span>\n                .\n              </h1>\n              <p className=\"text-sm text-slate-600 max-w-xl dark:text-slate-300\">\n                Paste a product URL and run Quick SEO (fast) or the Full Pipeline (audit/import/monitor/price) when you’re ready to ship.\n              </p>\n            </div>\n\n            {/* Command bar (URL is the hero) */}\n            <div className=\"rounded-2xl bg-white/95 border border-slate-200 shadow-sm p-3.5 dark:bg-slate-950/70 dark:border-slate-700/70\">\n              <div className=\"flex flex-col gap-2.5\">\n                <div className=\"flex flex-col sm:flex-row gap-2\">\n                  <div className=\"flex-1\">\n                    <label className=\"block text-[11px] font-medium text-slate-600 dark:text-slate-300 mb-1\">\n                      Manufacturer product URL\n                    </label>\n                    <input\n                      value={urlInput}\n                      onChange={(e) => {\n                        const next = e.target.value;\n                        setUrlInput(next);\n\n                        setJob(null);\n                        setRawIngestResponse(null);\n                        setPollingState(null);\n                        setStatusMessage(null);\n                        setError(null);\n\n                        setPipelineRunId(null);\n                        setPipelineSnapshot(null);\n                      }}\n                      placeholder=\"https://manufacturer.com/product...\"\n                      className=\"w-full px-3 py-2.5 rounded-xl border border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/30 text-sm dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500\"\n                      type=\"url\"\n                      inputMode=\"url\"\n                      autoCapitalize=\"none\"\n                      autoCorrect=\"off\"\n                      spellCheck={false}\n                    />\n                  </div>\n\n                  <div className=\"sm:w-[310px] w-full\">\n                    <label className=\"block text-[11px] font-medium text-slate-600 dark:text-slate-300 mb-1\">\n                      Run mode\n                    </label>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      <button\n                        type=\"button\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          runMode(\"quick\");\n                        }}\n                        disabled={generating}\n                        className=\"px-4 py-2.5 rounded-xl bg-cyan-500 text-slate-950 text-sm font-semibold shadow-sm hover:bg-cyan-400 disabled:opacity-60 disabled:shadow-none transition-transform hover:-translate-y-[1px]\"\n                        title=\"Runs extract + seo\"\n                      >\n                        {generating && lastMode === \"quick\" ? \"Running…\" : \"Quick SEO\"}\n                      </button>\n\n                      <button\n                        type=\"button\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          runMode(\"full\");\n                        }}\n                        disabled={generating}\n                        className=\"px-4 py-2.5 rounded-xl bg-slate-900 text-slate-50 text-sm font-semibold shadow-sm hover:bg-slate-800 disabled:opacity-60 disabled:shadow-none transition-transform hover:-translate-y-[1px] dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100\"\n                        title=\"Runs extract + seo + audit + import + monitor + price\"\n                      >\n                        {generating && lastMode === \"full\" ? \"Running…\" : \"Full Pipeline\"}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                  <div className=\"flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400\">\n                    <span className=\"inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700\">\n                      <span className=\"h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse\" />\n                      {statusMessage || \"Ready\"}\n                    </span>\n                    <span className=\"inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700\">\n                      <span className=\"font-mono\">progress</span> {progress.pct}%\n                    </span>\n                    <span className=\"inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700\">\n                      <span className=\"font-mono\">elapsed</span> {elapsedLabel}\n                    </span>\n                  </div>\n\n                  <div className=\"flex items-center gap-3\">\n                    <button\n                      type=\"button\"\n                      onClick={handlePasteUrl}\n                      className=\"text-[11px] text-slate-700 hover:text-slate-900 underline underline-offset-4 dark:text-slate-300 dark:hover:text-slate-100\"\n                    >\n                      Paste URL\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setUrlInput(demoUrl);\n                        setJob(null);\n                        setRawIngestResponse(null);\n                        setPollingState(null);\n                        setPipelineRunId(null);\n                        setPipelineSnapshot(null);\n                        setStatusMessage(\"Demo URL loaded — choose Quick SEO or Full Pipeline\");\n                        setError(null);\n                      }}\n                      className=\"text-[11px] text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200\"\n                    >\n                      Try a demo URL\n                    </button>\n                  </div>\n                </div>\n\n                {recentUrls.length > 0 && (\n                  <div className=\"flex flex-wrap items-center gap-2 pt-1\">\n                    <span className=\"text-[10px] uppercase tracking-[0.18em] text-slate-400 dark:text-slate-500\">\n                      Recent:\n                    </span>\n                    {recentUrls.map((u) => (\n                      <button\n                        key={u}\n                        type=\"button\"\n                        onClick={() => {\n                          setUrlInput(u);\n                          setJob(null);\n                          setRawIngestResponse(null);\n                          setPollingState(null);\n                          setStatusMessage(\"Loaded recent URL — choose Quick SEO or Full Pipeline\");\n                          setError(null);\n                          setPipelineRunId(null);\n                          setPipelineSnapshot(null);\n                        }}\n                        className=\"max-w-[260px] truncate rounded-full border border-slate-200 bg-white/80 px-3 py-1 text-[11px] text-slate-700 hover:bg-white shadow-sm dark:bg-slate-950/60 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-950\"\n                        title={u}\n                      >\n                        {u}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Inline “what happens” strip */}\n            <div className=\"flex flex-wrap gap-2 text-[11px]\">\n              <div className=\"inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70\">\n                <span className=\"text-cyan-700 font-semibold uppercase tracking-[0.16em] dark:text-cyan-200\">Quick</span>\n                <span className=\"text-slate-600 dark:text-slate-300\">\n                  <span className=\"font-mono\">extract → seo</span>\n                </span>\n              </div>\n              <div className=\"inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70\">\n                <span className=\"text-slate-700 font-semibold uppercase tracking-[0.16em] dark:text-slate-200\">Full</span>\n                <span className=\"text-slate-600 dark:text-slate-300\">\n                  <span className=\"font-mono\">extract → seo → audit → import → monitor → price</span>\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Right: live telemetry */}\n          <div className=\"lg:col-span-5 flex flex-col gap-3\">\n            <div className=\"rounded-2xl bg-white/95 border border-slate-200 shadow-sm p-4 dark:bg-slate-950/70 dark:border-slate-700/70\">\n              <div className=\"flex items-center justify-between\">\n                <p className=\"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400\">\n                  Live telemetry\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={async () => {\n                      if (!pipelineRunId) return;\n                      try {\n                        const snap = await fetchPipelineSnapshot(pipelineRunId);\n                        setPipelineSnapshot(snap);\n                        setLastUpdatedAt(Date.now());\n                      } catch (e: any) {\n                        setError(String(e?.message || e));\n                      }\n                    }}\n                    disabled={!pipelineRunId}\n                    className=\"text-[11px] text-slate-600 hover:text-slate-900 underline underline-offset-4 disabled:opacity-40 dark:text-slate-300 dark:hover:text-white\"\n                  >\n                    Refresh now\n                  </button>\n\n                  <label className=\"inline-flex items-center gap-2 text-[11px] text-slate-600 dark:text-slate-300 cursor-pointer select-none\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"accent-cyan-500\"\n                      checked={autoRefresh}\n                      onChange={(e) => setAutoRefresh(e.target.checked)}\n                    />\n                    Auto-refresh\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"mt-3 space-y-3\">\n                <div className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700\">\n                  <div className=\"flex items-center justify-between text-[11px]\">\n                    <span className=\"text-slate-600 dark:text-slate-300\">Progress</span>\n                    <span className=\"font-mono text-slate-700 dark:text-slate-200\">\n                      {progress.done}/{progress.total} • {progress.pct}%\n                    </span>\n                  </div>\n                  <div className=\"mt-2 h-2 w-full rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden\">\n                    <div\n                      className=\"h-full rounded-full bg-gradient-to-r from-cyan-400 via-sky-400 to-emerald-400\"\n                      style={{ width: `${progress.pct}%` }}\n                    />\n                  </div>\n                  <p className=\"mt-2 text-[11px] text-slate-500 dark:text-slate-400\">\n                    {progress.active ? (\n                      <>\n                        Now: <span className=\"font-medium text-slate-700 dark:text-slate-200\">{progress.active}</span>\n                      </>\n                    ) : (\n                      \"Idle\"\n                    )}\n                    <span className=\"mx-2 text-slate-300 dark:text-slate-700\">•</span>\n                    Last update: <span className=\"font-mono\">{lastUpdatedLabel}</span>\n                  </p>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <div className=\"rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700\">\n                    <p className=\"text-[10px] uppercase tracking-[0.18em] text-slate-400\">Run status</p>\n                    <p className=\"text-[12px] font-semibold text-slate-800 dark:text-slate-100\">\n                      {pipelineSnapshot?.run?.status || (pipelineRunId ? \"loading…\" : \"—\")}\n                    </p>\n                  </div>\n                  <div className=\"rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700\">\n                    <p className=\"text-[10px] uppercase tracking-[0.18em] text-slate-400\">Elapsed</p>\n                    <p className=\"text-[12px] font-semibold text-slate-800 dark:text-slate-100\">{elapsedLabel}</p>\n                  </div>\n                </div>\n\n                {moduleRuntimeBadges.length > 0 ? (\n                  <div className=\"rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700\">\n                    <p className=\"text-[10px] uppercase tracking-[0.18em] text-slate-400 mb-2\">Module runtimes</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {moduleRuntimeBadges.map((m) => {\n                        const tone =\n                          m.status === \"succeeded\"\n                            ? \"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-500/30 dark:bg-emerald-950/50 dark:text-emerald-100\"\n                            : m.status === \"running\"\n                            ? \"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-500/30 dark:bg-amber-950/50 dark:text-amber-100\"\n                            : m.status === \"failed\"\n                            ? \"border-rose-200 bg-rose-50 text-rose-700 dark:border-rose-500/30 dark:bg-rose-950/50 dark:text-rose-100\"\n                            : \"border-slate-200 bg-slate-50 text-slate-600 dark:border-slate-700 dark:bg-slate-950/40 dark:text-slate-300\";\n                        return (\n                          <span\n                            key={m.key}\n                            className={`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[11px] ${tone}`}\n                            title={m.output_ref ? `output_ref: ${m.output_ref}` : m.error ? JSON.stringify(m.error) : m.status}\n                          >\n                            <span className=\"font-medium\">{m.key}</span>\n                            <span className=\"text-[10px] opacity-80\">{m.duration}</span>\n                          </span>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"rounded-xl border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-500 dark:bg-slate-950/60 dark:border-slate-700 dark:text-slate-400\">\n                    Run a URL to see live module timings and artifacts.\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Real-time pipeline list (compact) */}\n            <div className=\"rounded-2xl bg-white/95 border border-slate-200 px-4 py-3 shadow-sm dark:bg-slate-950/70 dark:border-slate-700/70\">\n              <div className=\"flex items-center justify-between\">\n                <p className=\"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400\">\n                  Real-time pipeline\n                </p>\n                <span className=\"text-[11px] text-slate-500 dark:text-slate-400\">\n                  {loading || generating ? \"Running…\" : pipelineRunId ? \"Ready\" : \"Idle\"}\n                </span>\n              </div>\n\n              <ol className=\"mt-3 space-y-2 text-xs\">\n                {statusPills.map((pill) => {\n                  const isDone = pill.state === \"done\";\n                  const isActive = pill.state === \"active\";\n                  return (\n                    <li key={pill.key} className=\"flex items-center justify-between rounded-xl border px-3 py-2 dark:border-slate-700\">\n                      <div className=\"flex items-center gap-2\">\n                        <span\n                          className={[\n                            \"h-2 w-2 rounded-full\",\n                            isDone ? \"bg-emerald-400\" : isActive ? \"bg-amber-400 animate-pulse\" : \"bg-slate-400 dark:bg-slate-500\",\n                          ].join(\" \")}\n                        />\n                        <span className=\"text-[11px] font-medium text-slate-800 dark:text-slate-100\">{pill.label}</span>\n                      </div>\n                      <span className=\"text-[10px] text-slate-500 dark:text-slate-400\">{pill.hint}</span>\n                    </li>\n                  );\n                })}\n              </ol>\n            </div>\n          </div>\n        </section>\n\n        {/* Error banner */}\n        {error && (\n          <div className=\"mt-4 rounded-2xl border border-rose-300 bg-rose-50 text-rose-800 px-4 py-3 text-sm shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50\">\n            {error}\n          </div>\n        )}\n\n        {/* RESULTS */}\n        <div className=\"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6\">\n          {/* Main results */}\n          <div className=\"lg:col-span-8 space-y-4\">\n            {/* Premium HTML viewer */}\n            <div className=\"rounded-2xl bg-white text-slate-900 shadow-sm p-5 border border-slate-200 dark:bg-slate-900/85 dark:text-white dark:border-slate-700/80\">\n              <div className=\"flex flex-wrap items-start justify-between gap-4\">\n                <div>\n                  <p className=\"text-[11px] uppercase tracking-[0.22em] text-slate-500 mb-1 dark:text-slate-400\">\n                    Description window\n                  </p>\n                  <h3 className=\"text-xl sm:text-2xl font-semibold mb-1\">Premium HTML viewer</h3>\n                  <p className=\"text-slate-600 text-xs max-w-2xl dark:text-slate-300\">\n                    See the final copy exactly as it will appear on a product page. Highlight any claim, copy it into your CMS, or export the HTML.\n                  </p>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={handleCopyDescription}\n                    disabled={!descriptionHtml}\n                    className=\"px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 border border-slate-900 shadow-sm hover:bg-slate-800 disabled:opacity-40 dark:bg-white/5 dark:border-white/25 dark:text-white dark:hover:bg-white/10\"\n                  >\n                    {copyState === \"copied\" ? \"Copied!\" : copyState === \"error\" ? \"Copy failed\" : \"Copy description\"}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={handleDownloadDescription}\n                    disabled={!descriptionHtml}\n                    className=\"px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 font-semibold border border-slate-900 shadow-sm hover:-translate-y-[1px] transition disabled:opacity-40 disabled:shadow-none dark:bg-white dark:text-slate-900 dark:border-white/30\"\n                  >\n                    Download HTML\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setSearchTerm((prev) => prev.trim())}\n                    className=\"px-3 py-2 rounded-lg bg-amber-400 text-xs text-slate-900 font-semibold shadow-sm hover:bg-amber-300\"\n                  >\n                    Search in text\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"mt-4 flex flex-col gap-3\">\n                <div className=\"flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-3 py-2 dark:bg-white/5 dark:border-white/15\">\n                  <input\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    placeholder=\"Search headline, claims, or FAQs\"\n                    className=\"flex-1 bg-transparent text-xs text-slate-900 placeholder:text-slate-400 focus:outline-none dark:text-white dark:placeholder:text-slate-300\"\n                  />\n                  <span className=\"text-[11px] text-slate-500 dark:text-slate-200\">Live highlight</span>\n                </div>\n\n                <div className=\"rounded-2xl bg-white text-slate-900 shadow-inner border border-slate-200 overflow-hidden dark:bg-white dark:text-slate-900 dark:border-slate-200\">\n                  <div className=\"flex items-center justify-between px-4 py-3 border-b border-slate-100 bg-slate-50 dark:bg-slate-50\">\n                    <div>\n                      <p className=\"text-[11px] uppercase tracking-wide text-slate-500 mb-1\">Rendered description</p>\n                      <p className=\"text-xs text-slate-600 m-0\">\n                        Mirrors your custom GPT instructions — headings, lists, disclaimers, and manuals stay structured.\n                      </p>\n                    </div>\n                    {isPreviewResult && (\n                      <span className=\"px-3 py-1 rounded-full bg-amber-100 text-amber-700 text-[11px] font-semibold\">\n                        Preview only\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"prose prose-slate max-w-none px-6 py-5 text-sm\">\n                    {descriptionHtml ? (\n                      <article\n                        className=\"prose-headings:scroll-mt-20 prose-h2:mt-6 prose-h3:mt-4 prose-ul:list-disc prose-li:marker:text-slate-400\"\n                        dangerouslySetInnerHTML={{ __html: highlightedDescription }}\n                      />\n                    ) : (\n                      <div className=\"text-slate-500 text-sm italic\">\n                        No description generated yet. Paste a URL above and run Quick SEO or Full Pipeline.\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Side column */}\n          <div className=\"lg:col-span-4 space-y-4\">\n            {/* SEO structure */}\n            <div className=\"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60\">\n              <div className=\"flex items-center justify-between\">\n                <h4 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">SEO structure</h4>\n                <span className=\"text-[11px] text-slate-500 dark:text-slate-400\">Driven by custom instructions</span>\n              </div>\n              <div className=\"space-y-2 text-xs\">\n                <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700\">\n                  <p className=\"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400\">H1</p>\n                  <p className=\"font-semibold text-slate-900 dark:text-slate-50\">\n                    {seoPayload?.h1 ?? seoPayload?.name_best ?? \"Not yet generated\"}\n                  </p>\n                </div>\n                <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700\">\n                  <p className=\"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400\">Page title</p>\n                  <p className=\"font-semibold text-slate-900 dark:text-slate-50\">\n                    {seoPayload?.pageTitle ?? seoPayload?.title ?? \"Not yet generated\"}\n                  </p>\n                </div>\n                <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700\">\n                  <p className=\"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400\">Meta description</p>\n                  <p className=\"text-slate-800 leading-relaxed dark:text-slate-100\">\n                    {seoPayload?.metaDescription ?? seoPayload?.meta_description ?? \"Not yet generated\"}\n                  </p>\n                </div>\n                <div className=\"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700\">\n                  <p className=\"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400\">Short description</p>\n                  <p className=\"text-slate-800 dark:text-slate-100\">\n                    {seoPayload?.seoShortDescription ?? seoPayload?.seo_short_description ?? \"Not yet generated\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Features */}\n            <div className=\"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60\">\n              <div className=\"flex items-center justify-between\">\n                <h4 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">Feature bullets</h4>\n                <span className=\"text-[11px] text-slate-500 dark:text-slate-400\">From SEO output</span>\n              </div>\n              {Array.isArray(features) && features.length > 0 ? (\n                <ul className=\"list-disc list-inside space-y-1 text-xs text-slate-800 dark:text-slate-100\">\n                  {features.map((feat: string, idx: number) => (\n                    <li key={idx}>{feat}</li>\n                  ))}\n                </ul>\n              ) : (\n                <p className=\"text-slate-500 text-xs dark:text-slate-400\">No features captured yet. Run Quick SEO to generate.</p>\n              )}\n\n              {parkedExtras.length > 0 && (\n                <div className=\"mt-3 border-t border-slate-200 pt-3 dark:border-slate-700\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowRawExtras((v) => !v)}\n                    className=\"text-xs text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200\"\n                  >\n                    {showRawExtras ? \"Hide\" : \"Show\"} parked extras ({parkedExtras.length})\n                  </button>\n                  {showRawExtras && (\n                    <pre className=\"mt-2 p-3 rounded-lg bg-slate-900 text-[11px] text-slate-100 border border-slate-700 overflow-auto dark:bg-slate-950/70\">\n                      {JSON.stringify(Object.fromEntries(parkedExtras), null, 2)}\n                    </pre>\n                  )}\n                </div>\n              )}\n            </div>\n\n            {/* Debug: Source payload */}\n            {jobData && ingestionId && (\n              <div className=\"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">Source payload (normalized)</h4>\n                  <span className=\"text-[11px] text-slate-500 dark:text-slate-400\">Live from ingestion</span>\n                </div>\n                <pre className=\"bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70\">\n                  {JSON.stringify(jobData.normalized_payload ?? jobData, null, 2)}\n                </pre>\n              </div>\n            )}\n\n            {/* Debug: raw ingest response */}\n            {rawIngestResponse && (\n              <div className=\"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">Raw /api/v1/ingest response</h4>\n                  {pollingState && <span className=\"text-[11px] text-slate-500 dark:text-slate-400\">{pollingState}</span>}\n                </div>\n                <pre className=\"bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70\">\n                  {JSON.stringify(rawIngestResponse, null, 2)}\n                </pre>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}
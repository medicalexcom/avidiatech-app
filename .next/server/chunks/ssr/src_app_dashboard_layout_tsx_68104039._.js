module.exports=[3915,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112),e=a.i(98003),f=a.i(50944);let g={starter:{monthly:{monthlyLabel:"$49/mo",centsMonthly:4900},yearly:{monthlyLabel:"$39/mo",annualTotal:468,centsMonthly:3900},subtitle:"For solopreneurs & small shops who want essential automation.",features:["100 product ingests / month","Basic Extraction & Description AI","Basic SEO & Specs extraction"],ctaLabel:"Start 14â€‘day free trial"},growth:{monthly:{monthlyLabel:"$149/mo",centsMonthly:14900},yearly:{monthlyLabel:"$119/mo",annualTotal:1428,centsMonthly:11900},subtitle:"For growing eâ€‘commerce teams managing catalogs and workflows.",features:["300 product ingests / month","Full Extraction, SEO & Variants","Feeds, Bulk Ops & API (read-only)"],ctaLabel:"Start 14â€‘day free trial"},pro:{monthly:{monthlyLabel:"$399/mo",centsMonthly:39900},yearly:{monthlyLabel:"$319/mo",annualTotal:3828,centsMonthly:31900},subtitle:"For agencies, distributors, and large catalog operations.",features:["1,000 product ingests / month","Unlimited users & dedicated queues","Full API (read+write) & agency tools"],ctaLabel:"Start 14â€‘day free trial"}};function h({onActivated:a}){let{isLoaded:h}=(0,e.useUser)(),i=(0,e.useClerk)(),j=(0,f.useRouter)(),k=(0,f.useSearchParams)(),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)("growth"),[x,y]=(0,c.useState)("monthly"),z=(0,c.useRef)(null),A=(0,c.useRef)(null),B=(0,c.useRef)([]);async function C(){try{let b=await fetch("/api/subscription/status"),c=await b.json(),d=!!c?.active;return o(d),d&&a?.(),d}catch(a){return console.error("status fetch error",a),!1}finally{m(!1)}}async function D(a){s(null),q(a);try{let b=await fetch("/api/checkout/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:a,billing:x})}),c=await b.json();if(!b.ok||!c?.url)throw Error(c?.error||"Failed to create checkout session");window.location.href=c.url}catch(a){console.error("startPlan error",a),s(a?.message||"Failed to start checkout"),q(null)}}async function E(){m(!0),await C()&&o(!0)}async function F(){try{i&&"function"==typeof i.signOut?await i.signOut():j.push("/")}catch(a){console.error("Sign out failed",a),j.push("/")}}if((0,c.useEffect)(()=>{let a=!0;return(async()=>{if(!h)return;let b=await C();a&&b&&o(!0)})(),()=>{a=!1}},[h]),(0,c.useEffect)(()=>{if(!k.get("session_id"))return;let a=!1,b=setInterval(async()=>{(await C()||a)&&clearInterval(b)},3e3),c=setTimeout(()=>clearInterval(b),3e5);return()=>{a=!0,clearInterval(b),clearTimeout(c)}},[k.toString()]),(0,c.useEffect)(()=>{if(k.get("checkout_canceled")){q(null),s("You canceled checkout â€” you can pick another plan or try again."),setTimeout(()=>{A.current?.focus()},50);let a=setTimeout(()=>s(null),5e3);return()=>clearTimeout(a)}},[k.toString()]),(0,c.useEffect)(()=>{if(!z.current)return;let a=Array.from(z.current.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'));function b(a){if("Escape"===a.key){a.preventDefault(),a.stopPropagation();return}if("Tab"===a.key){let b=B.current;if(!b.length)return void a.preventDefault();let c=b.indexOf(document.activeElement),d=c;d=a.shiftKey?c<=0?b.length-1:c-1:c===b.length-1?0:c+1,a.preventDefault(),b[d]?.focus()}}return B.current=a,A.current?A.current.focus():a.length&&a[0].focus(),document.addEventListener("keydown",b,!0),()=>{document.removeEventListener("keydown",b,!0)}},[l,n,t,v,x]),n||l&&!h)return null;let G=a=>{let c=g[a],d=p===a,e=c.features.slice(0,3),f=v===a,h="growth"===a,i=f?"ring-2 ring-indigo-500 shadow-[0_12px_30px_rgba(99,102,241,0.06)] bg-indigo-50 dark:bg-slate-800":"shadow-sm hover:shadow-[0_10px_24px_rgba(15,23,42,0.06)] hover:-translate-y-0.5",j="monthly"===x?c.monthly.monthlyLabel:c.yearly.monthlyLabel,k="yearly"===x?c.yearly.annualTotal:void 0;return(0,b.jsxs)("div",{onClick:()=>w(a),className:`relative cursor-pointer flex-1 rounded-lg p-4 border bg-white dark:bg-slate-900 transform-gpu transition-shadow transition-colors duration-300 ease-out ${i}`,role:"button","aria-pressed":f,tabIndex:0,children:[h&&(0,b.jsx)("div",{className:"absolute -top-3 right-3 pointer-events-none",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Most popular"})}),(0,b.jsxs)("div",{className:"flex items-baseline justify-between gap-4",children:[(0,b.jsxs)("div",{className:"pr-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"pro"===a?"Pro / Agency":a.charAt(0).toUpperCase()+a.slice(1)}),(0,b.jsx)("div",{className:"text-sm text-slate-500 leading-tight",children:c.subtitle})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:j}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["billed ","monthly"===x?"monthly":"yearly"]}),k?(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1 font-medium",children:["$",k,"/yr"]}):null]})]}),(0,b.jsx)("ul",{className:"mt-4 space-y-2 text-sm text-slate-600",children:e.map(a=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"inline-block w-5 h-5 mt-0.5 rounded-full bg-indigo-100 text-indigo-700 text-xs flex items-center justify-center",children:"âœ“"}),(0,b.jsx)("span",{children:a})]},a))}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("button",{ref:f?A:void 0,onClick:b=>{b.stopPropagation(),D(a)},className:`w-full inline-flex items-center justify-center py-2 px-3 rounded ${d?"bg-slate-200 text-slate-700":f?"bg-indigo-600 text-white hover:bg-indigo-700":"border border-slate-200 text-slate-700 bg-white hover:bg-slate-50"}`,disabled:!!p,type:"button","aria-label":`${a} - ${j} - ${c.ctaLabel??"Start trial"}`,children:d?"Redirectingâ€¦":c.ctaLabel??"Start trial"})})]},a)},H=(0,b.jsx)("div",{className:"mt-4 overflow-auto rounded border bg-white dark:bg-slate-900 p-3",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("th",{className:"pb-2",children:"Feature"}),(0,b.jsx)("th",{className:"pb-2",children:"Starter"}),(0,b.jsx)("th",{className:"pb-2",children:"Growth"}),(0,b.jsx)("th",{className:"pb-2",children:"Pro"})]})}),(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2",children:"Monthly ingests"}),(0,b.jsx)("td",{children:"100"}),(0,b.jsx)("td",{children:"300"}),(0,b.jsx)("td",{children:"1,000"})]}),(0,b.jsxs)("tr",{className:"bg-slate-50 dark:bg-slate-800",children:[(0,b.jsx)("td",{className:"py-2",children:"Extraction"}),(0,b.jsx)("td",{children:"Basic"}),(0,b.jsx)("td",{children:"Full"}),(0,b.jsx)("td",{children:"Full"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2",children:"AI Descriptions"}),(0,b.jsx)("td",{children:"Basic"}),(0,b.jsx)("td",{children:"Full"}),(0,b.jsx)("td",{children:"Full"})]}),(0,b.jsxs)("tr",{className:"bg-slate-50 dark:bg-slate-800",children:[(0,b.jsx)("td",{className:"py-2",children:"API"}),(0,b.jsx)("td",{children:"â€”"}),(0,b.jsx)("td",{children:"Read-only"}),(0,b.jsx)("td",{children:"Read + Write"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2",children:"Users"}),(0,b.jsx)("td",{children:"1"}),(0,b.jsx)("td",{children:"3"}),(0,b.jsx)("td",{children:"Unlimited"})]})]})]})}),I=(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 bg-slate-100 dark:bg-slate-800 rounded-full p-1",children:[(0,b.jsx)("button",{onClick:()=>y("monthly"),className:`px-3 py-1 rounded-full text-sm ${"monthly"===x?"bg-white dark:bg-slate-900 shadow-sm font-semibold":"text-slate-600"}`,"aria-pressed":"monthly"===x,type:"button",children:"Monthly"}),(0,b.jsxs)("button",{onClick:()=>y("yearly"),className:`px-3 py-1 rounded-full text-sm ${"yearly"===x?"bg-white dark:bg-slate-900 shadow-sm font-semibold":"text-slate-600"}`,"aria-pressed":"yearly"===x,type:"button",children:["Yearly ",(0,b.jsx)("span",{className:"ml-2 text-xs text-amber-600",children:"Save 20%"})]})]}),J=(0,b.jsxs)("div",{"aria-modal":"true",role:"dialog","aria-label":"Choose a plan",className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/65"}),(0,b.jsxs)("div",{ref:z,className:"relative z-[10000] w-full max-w-5xl mx-4 rounded-lg bg-white dark:bg-slate-900 shadow-xl p-6",role:"document",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Choose a plan"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"Start your 14â€‘day free trial. Your trial converts automatically unless canceled."})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500 flex flex-col items-end gap-2",children:[(0,b.jsx)("div",{className:"mb-1",children:"Not sure which plan is right for you?"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[I,(0,b.jsx)("button",{onClick:()=>u(a=>!a),className:"inline-flex items-center gap-2 text-sm underline",type:"button",children:"Compare all plans â†’"})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[G("starter"),G("growth"),G("pro")]}),t&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"Plan comparison"}),H]}),(0,b.jsxs)("div",{className:"mt-6 flex items-center justify-between gap-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-500",children:r?(0,b.jsx)("span",{className:"text-red-600",children:r}):(0,b.jsx)("span",{children:"Secure payment via Stripe"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:E,className:"text-sm underline text-slate-600",type:"button",disabled:l,children:"Already completed checkout? Check status"}),(0,b.jsx)("a",{href:"/dashboard/pricing",className:"text-sm text-slate-600 underline",children:"View full pricing page"})]})]}),(0,b.jsxs)("div",{className:"mt-4 border-t pt-4 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm text-slate-500",children:"Need help? Contact support@avidiatech.com"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>j.push("/account"),className:"text-sm underline text-slate-600",type:"button",children:"Account"}),(0,b.jsx)("button",{onClick:F,className:"text-sm text-red-600",type:"button",children:"Sign out"})]})]})]})]});return"undefined"!=typeof document?(0,d.createPortal)(J,document.body):null}var i=a.i(38246),j=a.i(89750),k=(a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}},l=c.createContext(void 0),m={setTheme:a=>{},themes:[]};function n(){var a;let{user:f,isLoaded:g}=(0,e.useUser)(),{theme:h,resolvedTheme:i,setTheme:k}=null!=(a=c.useContext(l))?a:m,[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),t=(0,c.useRef)(null),u=(0,c.useRef)(null);if((0,c.useEffect)(()=>{q(!0)},[]),(0,c.useEffect)(()=>{if(p)try{let a="undefined"!=typeof document&&document.documentElement.classList.contains("dark"),b=i??h;s(!!("dark"===b||a))}catch{s((i??h)==="dark")}},[p,h,i]),(0,c.useEffect)(()=>{function a(a){if(n&&u.current&&t.current){let b=a.target;u.current.contains(b)||t.current.contains(b)||o(!1)}}function b(a){"Escape"===a.key&&o(!1)}return document.addEventListener("click",a),document.addEventListener("keydown",b),()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",b)}},[n]),!g)return null;let v=f?.imageUrl??"/default-avatar.png",w=f?.fullName??f?.firstName??"Account",x=f?.primaryEmailAddress?.emailAddress??f?.emailAddresses?.[0]?.emailAddress??"",y=f?.publicMetadata?.role??"member",z=f?.publicMetadata?.orgName??"",A=({href:a,children:c})=>(0,b.jsx)("a",{href:a,onClick:b=>(function(a,b){if(b){if(b.metaKey||b.ctrlKey||b.shiftKey||0!==b.button)return void o(!1);b.preventDefault()}o(!1);try{window.history.pushState({},"",a),window.location.href=a}catch{window.location.href=a}})(a,b),className:"block px-3 py-2 rounded-lg text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100/80 dark:hover:bg-slate-800/80 transition-colors",children:c}),B=(0,b.jsxs)("div",{ref:u,className:"fixed right-4 top-16 z-[9999] w-[340px] rounded-2xl border border-slate-200/80 dark:border-slate-800/80 bg-white/95 dark:bg-slate-950/95 shadow-[0_24px_80px_rgba(15,23,42,0.35)] backdrop-blur-xl overflow-hidden",role:"menu","aria-orientation":"vertical",children:[(0,b.jsx)("div",{className:"h-1 w-full bg-gradient-to-r from-cyan-400 via-fuchsia-400 to-emerald-400"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3.5 border-b border-slate-200/80 dark:border-slate-800/80",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:v,alt:"avatar",className:"w-11 h-11 rounded-xl object-cover border border-slate-200 dark:border-slate-700"}),(0,b.jsx)("span",{className:"absolute -bottom-1 -right-1 inline-flex h-4 w-4 items-center justify-center rounded-full bg-emerald-500 text-[9px] font-semibold text-slate-950 shadow-[0_0_0_2px_rgba(255,255,255,0.9)] dark:shadow-[0_0_0_2px_rgba(15,23,42,1)]",children:"âœ“"})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50 truncate",children:w}),(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:x}),(0,b.jsx)("div",{className:"mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:z})," ",(0,b.jsx)("span",{className:"text-slate-400 dark:text-slate-500",children:"â€¢"})," ",(0,b.jsx)("span",{className:"capitalize",children:y})]}):(0,b.jsx)("span",{className:"capitalize",children:y})})]})]}),(0,b.jsxs)("nav",{className:"py-2 px-2",children:[(0,b.jsx)(A,{href:"/settings/profile",children:"Account settings"}),(0,b.jsx)("div",{className:"my-1 h-px bg-slate-100 dark:bg-slate-800"}),(0,b.jsx)(A,{href:"/settings/organization",children:"Organization"}),(0,b.jsx)(A,{href:"/settings/developer/api-keys",children:"API keys & developer tools"}),(0,b.jsx)(A,{href:"/settings/billing",children:"Subscription & billing"})]}),(0,b.jsxs)("div",{className:"mt-1 border-t border-slate-100 dark:border-slate-800 px-4 py-3 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:"Appearance"})}),p&&(0,b.jsxs)("button",{type:"button",onClick:function(){p&&s(a=>{let b=!a,c=b?"dark":"light";try{k(c)}catch{}try{document.documentElement.classList.toggle("dark",b),window.localStorage.setItem("theme",c)}catch{}return b})},"aria-label":"Toggle dark mode",className:["inline-flex items-center rounded-full border px-1 py-0.5 text-[11px] font-medium shadow-sm transition-colors",r?"border-slate-700 bg-slate-900 text-slate-100":"border-slate-200 bg-white text-slate-700"].join(" "),children:[(0,b.jsxs)("span",{className:["inline-flex items-center gap-1 rounded-full px-2 py-1 transition-colors",!r?"bg-slate-900 text-slate-50":"text-slate-500 dark:text-slate-300"].join(" "),children:[(0,b.jsx)("span",{className:"text-xs",children:"â˜€ï¸"}),(0,b.jsx)("span",{children:"Light"})]}),(0,b.jsxs)("span",{className:["inline-flex items-center gap-1 rounded-full px-2 py-1 transition-colors",r?"bg-slate-100 text-slate-900 dark:bg-slate-50 dark:text-slate-900":"text-slate-500"].join(" "),children:[(0,b.jsx)("span",{className:"text-xs",children:"ðŸŒ™"}),(0,b.jsx)("span",{children:"Dark"})]})]})]}),(0,b.jsx)("div",{children:(0,b.jsx)(j.SignOutButton,{children:(0,b.jsx)("button",{onClick:()=>o(!1),className:"w-full rounded-lg border border-red-100/70 dark:border-red-500/40 bg-red-50/70 dark:bg-red-500/10 px-3 py-2 text-left text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-500/20 transition-colors",children:"Sign out"})})})]})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{ref:t,"aria-expanded":n,onClick:()=>o(a=>!a),className:"flex items-center gap-2 rounded-full border border-slate-200 dark:border-slate-700 bg-white/80 dark:bg-slate-900/80 px-1.5 py-1 shadow-sm hover:bg-slate-100/90 dark:hover:bg-slate-800/90 transition-colors",title:"Account",type:"button",children:(0,b.jsx)("img",{src:v,alt:"avatar",className:"w-7 h-7 rounded-full object-cover"})}),n&&"undefined"!=typeof document?(0,d.createPortal)(B,document.body):null]})}c.memo(({forcedTheme:a,storageKey:b,attribute:d,enableSystem:e,enableColorScheme:f,defaultTheme:g,value:h,themes:i,nonce:j,scriptProps:l})=>{let m=JSON.stringify([d,b,g,a,i,h,e,f]).slice(1,-1);return c.createElement("script",{...l,suppressHydrationWarning:!0,nonce:j,dangerouslySetInnerHTML:{__html:`(${k.toString()})(${m})`}})});let o=[{name:"Dashboard",href:"/dashboard"},{name:"Analytics",href:"/dashboard/analytics"},{name:"Visualize",href:"/dashboard/visualize"}],p=[{name:"Roles",href:"/dashboard/roles"},{name:"Versioning",href:"/dashboard/versioning"}];function q(){let a=(0,f.useRouter)(),c=(0,f.usePathname)(),{isLoaded:d,isSignedIn:g}=(0,e.useUser)(),h=a=>"/dashboard"===a?"/dashboard"===c:c?.startsWith(a);return(0,b.jsx)("header",{className:"sticky top-0 z-40 border-b border-slate-200/80 bg-white/80 backdrop-blur-sm dark:border-slate-800/80 dark:bg-slate-950/90",children:(0,b.jsxs)("div",{className:"flex h-14 w-full items-center justify-between gap-4 px-3 lg:px-4",children:[(0,b.jsxs)("div",{className:"flex min-w-0 items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.22em] text-slate-500 dark:text-slate-500",children:"AvidiaTech"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Product Data OS"})]}),(0,b.jsxs)("span",{className:"hidden items-center gap-1.5 rounded-full border border-slate-200 bg-slate-100 px-2.5 py-1 text-[10px] text-slate-600 sm:inline-flex dark:border-slate-700 dark:bg-slate-900/90 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Live dashboard"]})]}),(0,b.jsx)("nav",{"aria-label":"Primary",className:"flex flex-1 items-center justify-center gap-1 sm:gap-2",children:o.map(a=>{let c=h(a.href);return(0,b.jsxs)(i.default,{href:a.href,className:["relative inline-flex items-center rounded-full px-3.5 py-1.5 text-xs sm:text-sm font-medium transition-all duration-150",c?"border border-cyan-500/70 bg-slate-900 text-slate-50 shadow-[0_0_16px_rgba(56,189,248,0.45)] dark:bg-slate-900":"border border-transparent text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-900/80 dark:hover:text-slate-50"].join(" "),children:[(0,b.jsx)("span",{children:a.name}),c&&(0,b.jsx)("span",{className:"pointer-events-none absolute -bottom-[6px] left-4 right-4 h-px bg-gradient-to-r from-cyan-400 via-sky-400 to-emerald-300"})]},a.href)})}),(0,b.jsxs)("div",{className:"flex min-w-[190px] items-center justify-end gap-4",children:[(0,b.jsx)("nav",{"aria-label":"Secondary",className:"hidden items-center gap-2 border-r border-slate-200 pr-2 dark:border-slate-800/70 md:flex",children:p.map(a=>{let c=h(a.href);return(0,b.jsx)(i.default,{href:a.href,className:["rounded-lg px-2 py-1 text-[11px] font-medium transition-colors",c?"border border-slate-300 bg-slate-100 text-sky-700 dark:border-slate-700 dark:bg-slate-900/90 dark:text-sky-200":"text-slate-500 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-900/80 dark:hover:text-slate-200"].join(" "),children:a.name},a.href)})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(i.default,{href:"/dashboard/notifications",className:"relative inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-500 shadow-sm transition-colors hover:border-slate-300 hover:text-slate-900 dark:border-slate-700 dark:bg-slate-900/90 dark:text-slate-300 dark:hover:border-slate-500 dark:hover:text-slate-50","aria-label":"Notifications",children:[(0,b.jsx)("span",{className:"text-[14px]",children:"ðŸ””"}),(0,b.jsx)("span",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-full border border-white bg-rose-500 dark:border-slate-900"})]}),d&&g?(0,b.jsx)(n,{}):(0,b.jsx)("button",{className:"inline-flex items-center gap-1 rounded-full bg-cyan-500 px-3 py-1.5 text-xs font-semibold text-slate-950 shadow-md shadow-cyan-500/30 transition-transform hover:-translate-y-[1px] hover:bg-cyan-400 disabled:opacity-60 disabled:shadow-none",onClick:()=>a.push("/sign-in?redirect=/dashboard"),type:"button",disabled:!d,children:(0,b.jsx)("span",{children:"Sign in / Sign up"})})]})]})]})})}let r=[{title:"AI Extraction & Content",items:[{name:"Extract",href:"/dashboard/extract"},{name:"Describe",href:"/dashboard/describe"},{name:"SEO",href:"/dashboard/seo"},{name:"Translate",href:"/dashboard/translate"},{name:"Cluster",href:"/dashboard/cluster"},{name:"Studio",href:"/dashboard/studio"}]},{title:"Data Intelligence",items:[{name:"Match",href:"/dashboard/match"},{name:"Variants",href:"/dashboard/variants"},{name:"Specs",href:"/dashboard/specs"},{name:"Docs",href:"/dashboard/docs"},{name:"Images",href:"/dashboard/images"}]},{title:"Commerce & Automation",items:[{name:"Import",href:"/dashboard/import"},{name:"Audit",href:"/dashboard/audit"},{name:"Price",href:"/dashboard/price"},{name:"Feeds",href:"/dashboard/feeds"},{name:"Monitor",href:"/dashboard/monitor"}]},{title:"Developer Tools",items:[{name:"Browser",href:"/dashboard/browser"},{name:"API",href:"/dashboard/api"}]}];function s({variant:a="desktop"}){let c=(0,f.usePathname)(),d="desktop"===a,e=`${d?"fixed top-[56px] bottom-0 left-0 w-56":"relative h-full w-full"} ${d?"flex flex-col overflow-hidden bg-slate-950/98 border-r border-slate-800/80 px-3 py-4 text-slate-100":"flex flex-col overflow-hidden bg-white border-r border-slate-200 px-3 py-4 text-slate-900 dark:bg-slate-950 dark:border-slate-800 dark:text-slate-100"}`;return(0,b.jsxs)("nav",{"aria-label":"AvidiaTech main navigation",className:e,children:[(0,b.jsx)("div",{className:"mb-1 shrink-0"}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-3 pr-1",children:r.map((a,d)=>(0,b.jsxs)("div",{children:[d>0&&(0,b.jsx)("div",{className:"my-2 h-px bg-gradient-to-r from-slate-200 via-slate-200/60 to-transparent dark:from-slate-800 dark:via-slate-800/40"}),(0,b.jsx)("h2",{className:"px-2 mb-1 text-[7px] font-medium uppercase tracking-[0.12em] text-slate-400 dark:text-slate-300 whitespace-nowrap",children:a.title}),(0,b.jsx)("ul",{className:"space-y-1",children:a.items.map(a=>{let d,e=c===a.href,f="extract"===(d=a.name.toLowerCase())?{dot:"bg-cyan-400",activeBorder:"border-cyan-500/70",activeBg:"bg-slate-900/95",textActive:"text-cyan-50",pillGlow:"shadow-[0_0_18px_rgba(34,211,238,0.45)]"}:"describe"===d?{dot:"bg-fuchsia-400",activeBorder:"border-fuchsia-500/70",activeBg:"bg-slate-900/95",textActive:"text-fuchsia-50",pillGlow:"shadow-[0_0_18px_rgba(236,72,153,0.45)]"}:"seo"===d?{dot:"bg-emerald-400",activeBorder:"border-emerald-500/70",activeBg:"bg-slate-900/95",textActive:"text-emerald-50",pillGlow:"shadow-[0_0_18px_rgba(16,185,129,0.45)]"}:"translate"===d||"studio"===d||"images"===d?{dot:"bg-sky-400",activeBorder:"border-sky-500/70",activeBg:"bg-slate-900/95",textActive:"text-sky-50",pillGlow:"shadow-[0_0_18px_rgba(56,189,248,0.45)]"}:"cluster"===d||"docs"===d||"browser"===d?{dot:"bg-violet-400",activeBorder:"border-violet-500/70",activeBg:"bg-slate-900/95",textActive:"text-violet-50",pillGlow:"shadow-[0_0_18px_rgba(139,92,246,0.4)]"}:"match"===d||"variants"===d||"specs"===d||"monitor"===d?{dot:"bg-amber-400",activeBorder:"border-amber-500/70",activeBg:"bg-slate-900/95",textActive:"text-amber-50",pillGlow:"shadow-[0_0_18px_rgba(245,158,11,0.4)]"}:"import"===d||"feeds"===d||"price"===d?{dot:"bg-emerald-400",activeBorder:"border-emerald-500/70",activeBg:"bg-slate-900/95",textActive:"text-emerald-50",pillGlow:"shadow-[0_0_18px_rgba(16,185,129,0.4)]"}:"audit"===d?{dot:"bg-rose-400",activeBorder:"border-rose-500/70",activeBg:"bg-slate-900/95",textActive:"text-rose-50",pillGlow:"shadow-[0_0_18px_rgba(244,63,94,0.4)]"}:"api"===d?{dot:"bg-cyan-400",activeBorder:"border-cyan-500/70",activeBg:"bg-slate-900/95",textActive:"text-cyan-50",pillGlow:"shadow-[0_0_18px_rgba(34,211,238,0.45)]"}:{dot:"bg-slate-400",activeBorder:"border-slate-500/70",activeBg:"bg-slate-900/95",textActive:"text-slate-50",pillGlow:"shadow-[0_0_14px_rgba(148,163,184,0.35)]"},g=["bg-slate-100 border-slate-300 text-slate-900 dark:bg-slate-900/80 dark:border-slate-600 dark:text-slate-50",f.activeBorder,f.pillGlow].join(" ");return(0,b.jsx)("li",{children:(0,b.jsxs)(i.default,{href:a.href,className:["group flex items-center gap-2 rounded-xl px-3 py-1.5 text-[12px] font-medium border transition-all duration-150 ease-out hover:bg-slate-100 hover:border-slate-200 hover:translate-x-[2px] dark:hover:bg-slate-900 dark:hover:border-slate-500/70",e?g:"bg-transparent border-transparent text-slate-500 dark:text-slate-200"].join(" "),children:[(0,b.jsx)("span",{className:["h-1.5 w-1.5 rounded-full transition-colors duration-150",e?f.dot:"bg-slate-300 group-hover:bg-slate-500 dark:bg-slate-500 dark:group-hover:bg-slate-300"].join(" ")}),(0,b.jsx)("span",{className:e?"flex-1 truncate text-slate-900 dark:text-slate-50":"flex-1 truncate text-slate-700 group-hover:text-slate-900 dark:text-slate-600 dark:group-hover:text-slate-50",children:a.name})]})},a.href)})})]},a.title))}),(0,b.jsx)("div",{className:"mt-3 shrink-0 border-t border-slate-200/60 px-2 pt-3 text-[10px] text-slate-500 dark:border-slate-800/80 dark:text-slate-500",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)(i.default,{href:"/dashboard/support",className:"inline-flex w-full items-center gap-1.5 rounded-md px-1.5 py-1.5 text-[10px] text-slate-700 hover:bg-slate-100/80 dark:text-slate-200 dark:hover:bg-slate-900/80","aria-label":"Open support chat",children:[(0,b.jsx)("span",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-slate-200 text-[10px] dark:bg-slate-800",children:"ðŸ’¬"}),(0,b.jsx)("span",{className:"font-medium",children:"Open support chat"})]}),(0,b.jsxs)(i.default,{href:"/docs/support",className:"inline-flex w-full items-center gap-1.5 rounded-md px-1.5 py-1.5 text-[10px] text-slate-700 hover:bg-slate-100/80 dark:text-slate-200 dark:hover:bg-slate-900/80","aria-label":"Documentation and guides",children:[(0,b.jsx)("span",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-slate-200 text-[10px] dark:bg-slate-800",children:"ðŸ“š"}),(0,b.jsx)("span",{className:"font-medium",children:"Documentation & guides"})]})]})})]})}function t(){let[a,d]=c.default.useState(!1),g=(0,f.usePathname)(),h=(0,f.useRouter)(),{isLoaded:i,isSignedIn:j}=(0,e.useUser)(),k=function(a){if(!a)return"Dashboard";let b=a.split("/").filter(Boolean)[1]??"dashboard";return b?b.charAt(0).toUpperCase()+b.slice(1):"Dashboard"}(g||"/dashboard");c.default.useEffect(()=>{a&&d(!1)},[g]);let l="avidia-mobile-drawer-title";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("header",{className:"fixed inset-x-0 top-0 z-40 flex items-center justify-between border-b border-slate-200/70 bg-background/90 px-3 py-2 pt-[env(safe-area-inset-top)] backdrop-blur-sm shadow-[0_1px_0_rgba(15,23,42,0.06)] dark:border-slate-800/80 dark:bg-slate-950/95 dark:shadow-[0_1px_0_rgba(15,23,42,0.85)] md:hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-7 w-7 rounded-xl bg-gradient-to-tr from-slate-900 to-slate-700 dark:from-slate-100 dark:to-slate-300"}),(0,b.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.22em] text-slate-500 dark:text-slate-500",children:"AvidiaTech"}),(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white/80 px-2 py-0.5 text-[11px] font-medium text-slate-900 shadow-sm dark:border-slate-700 dark:bg-slate-900/90 dark:text-slate-100",children:k})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[i&&j?(0,b.jsx)(n,{}):(0,b.jsx)("button",{type:"button",className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-2.5 py-1 text-[11px] font-semibold text-slate-800 shadow-sm transition hover:border-slate-300 hover:shadow-md active:scale-95 active:opacity-90 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:hover:border-slate-500",onClick:()=>h.push("/sign-in?redirect=/dashboard"),disabled:!i,children:"Sign in"}),(0,b.jsx)("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white shadow-sm transition hover:border-slate-300 hover:shadow-md active:scale-95 active:opacity-90 dark:border-slate-700 dark:bg-slate-900",onClick:()=>d(!0),"aria-label":"Open navigation","aria-haspopup":"dialog","aria-expanded":a,"aria-controls":a?"avidia-mobile-drawer":void 0,children:(0,b.jsxs)("span",{className:"block h-[14px] w-[16px]","aria-hidden":"true",children:[(0,b.jsx)("span",{className:"block h-[2px] w-full rounded bg-slate-700 dark:bg-slate-200"}),(0,b.jsx)("span",{className:"mt-[3px] block h-[2px] w-full rounded bg-slate-700 dark:bg-slate-200"}),(0,b.jsx)("span",{className:"mt-[3px] block h-[2px] w-full rounded bg-slate-700 dark:bg-slate-200"})]})})]})]}),(0,b.jsx)("div",{className:"h-12 md:hidden"}),a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40 bg-black/40 transition-opacity md:hidden",onClick:()=>d(!1)}),(0,b.jsxs)("nav",{id:"avidia-mobile-drawer",role:"dialog","aria-modal":"true","aria-labelledby":l,className:"fixed inset-y-0 left-0 z-50 flex w-[70%] max-w-[14rem] flex-col border-r border-slate-200 bg-white pb-[env(safe-area-inset-bottom)] shadow-[0_0_40px_rgba(15,23,42,0.22)] transition-transform duration-200 ease-out md:hidden dark:border-slate-800 dark:bg-slate-950 dark:shadow-[0_0_40px_rgba(15,23,42,0.85)]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-3 py-3 dark:border-slate-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-7 w-7 rounded-xl bg-gradient-to-tr from-slate-900 to-slate-700"}),(0,b.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,b.jsx)("span",{id:l,className:"text-xs font-semibold tracking-tight text-slate-900 dark:text-slate-50",children:"AvidiaTech"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Workspace"})]})]}),(0,b.jsx)("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-700 transition hover:bg-slate-100 active:scale-95 active:opacity-90 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900/80",onClick:()=>d(!1),"aria-label":"Close navigation",children:(0,b.jsx)("span",{className:"text-base leading-none","aria-hidden":"true",children:"Ã—"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsx)(s,{variant:"drawer"})})]})]})]})}function u({children:a}){let{isLoaded:d,isSignedIn:f}=(0,e.useUser)(),[g,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{let a=!0;return async function(){if(d){if(!f){i(!1),k(!0);return}try{let b=await fetch("/api/subscription/status"),c=await b.json();if(!a)return;i(!c?.active)}catch(a){console.error("subscription status fetch failed:",a),i(!0)}finally{a&&k(!0)}}}(),()=>{a=!1}},[d,f]),j)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsx)(q,{})}),(0,b.jsx)("div",{className:"md:hidden",children:(0,b.jsx)(t,{})}),(0,b.jsxs)("div",{className:"dashboard-shell min-h-[calc(100vh-56px)] flex overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,b.jsx)("aside",{className:"hidden md:block",children:(0,b.jsx)(s,{})}),(0,b.jsx)("main",{className:"flex-1 md:ml-56",children:a})]}),g&&(0,b.jsx)(h,{onActivated:function(){i(!1)}})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Checking accessâ€¦"})})}a.s(["default",()=>u],3915)}];

//# sourceMappingURL=src_app_dashboard_layout_tsx_68104039._.js.map
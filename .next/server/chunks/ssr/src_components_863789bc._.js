module.exports=[74967,a=>{"use strict";var b=a.i(87924);function c(){return(0,b.jsxs)("a",{href:"/dashboard",onClick:function(a){a.preventDefault();try{window.history.length>1?window.history.back():window.location.href="/dashboard"}catch{window.location.href="/dashboard"}},className:"inline-flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300 hover:underline",children:[(0,b.jsx)("span",{"aria-hidden":!0,children:"←"}),(0,b.jsx)("span",{children:"Back to dashboard"})]})}a.s(["default",()=>c])},67480,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null);async function k(){f(!0);try{let a=await fetch("/api/developer/keys"),b=await a.json();d(b.keys||[])}catch(a){console.error(a),d([])}finally{f(!1)}}async function l(){h(!0);try{let a=await fetch("/api/developer/keys",{method:"POST"}),b=await a.json();a.ok&&b.key?(j(b.key),await k()):alert(b?.error||"Unable to create key")}catch(a){console.error(a)}finally{h(!1)}}async function m(a){confirm("Revoke this key?")&&(await fetch(`/api/developer/keys/${a}`,{method:"DELETE"}),await k())}function n(a){a&&navigator.clipboard.writeText(a).then(()=>alert("Copied to clipboard"))}return(0,c.useEffect)(()=>{k()},[]),(0,b.jsx)("div",{className:"max-w-4xl",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 border rounded-lg p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"API Keys"}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{onClick:l,disabled:g,className:"px-3 py-2 bg-indigo-600 text-white rounded",children:g?"Generating…":"Generate new key"})})]}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Your API keys allow programmatic access. Keep them secret."}),(0,b.jsx)("div",{className:"mt-4",children:e?(0,b.jsx)("p",{children:"Loading…"}):0===a.length?(0,b.jsx)("p",{children:"No keys found"}):(0,b.jsx)("ul",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-800 border rounded p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-mono text-sm",children:a.keyPreview}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Created ",new Date(a.created_at).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>n(a.keyPreview),className:"text-sm px-2 py-1 border rounded",children:"Copy"}),(0,b.jsx)("button",{onClick:()=>m(a.id),className:"text-sm text-red-600",children:"Revoke"})]})]},a.id))})}),i&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900 border rounded",children:[(0,b.jsx)("div",{className:"font-semibold",children:"New key"}),(0,b.jsx)("div",{className:"font-mono text-sm mt-2 break-all",children:i}),(0,b.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>n(i),className:"px-3 py-2 bg-indigo-600 text-white rounded",children:"Copy key"}),(0,b.jsx)("button",{onClick:()=>j(null),className:"px-3 py-2 border rounded",children:"Close"})]}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-2",children:"Note: This key will only be shown once. Store it securely."})]})]})})}a.s(["default",()=>d])}];

//# sourceMappingURL=src_components_863789bc._.js.map
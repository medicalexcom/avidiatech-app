{"version":3,"sources":["../../../../src/app/dashboard/monitor/page.tsx","../../../../src/components/monitor/MonitorDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport MonitorDashboard from \"@/components/monitor/MonitorDashboard\";\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\ntype StatTone = \"blue\" | \"purple\" | \"teal\" | \"amber\";\n\nfunction StatCard({\n  title,\n  value,\n  caption,\n  tone = \"blue\",\n}: {\n  title: string;\n  value: React.ReactNode;\n  caption?: string;\n  tone?: StatTone;\n}) {\n  const toneMap: Record<\n    StatTone,\n    {\n      border: string;\n      wash: string;\n      glowA: string;\n      glowB: string;\n      top: string;\n    }\n  > = {\n    blue: {\n      border: \"border-sky-200/70 dark:border-sky-500/20\",\n      wash: \"from-sky-500/10 via-sky-500/0 to-transparent dark:from-sky-400/10 dark:via-sky-400/0\",\n      glowA: \"bg-sky-400/16 dark:bg-sky-500/12\",\n      glowB: \"bg-indigo-400/10 dark:bg-indigo-500/10\",\n      top: \"from-sky-400/55 via-sky-300/20 to-transparent dark:from-sky-300/35 dark:via-sky-300/15\",\n    },\n    purple: {\n      border: \"border-violet-200/70 dark:border-violet-500/20\",\n      wash: \"from-violet-500/10 via-violet-500/0 to-transparent dark:from-violet-400/10 dark:via-violet-400/0\",\n      glowA: \"bg-violet-400/16 dark:bg-violet-500/12\",\n      glowB: \"bg-fuchsia-400/10 dark:bg-fuchsia-500/10\",\n      top: \"from-violet-400/55 via-violet-300/20 to-transparent dark:from-violet-300/35 dark:via-violet-300/15\",\n    },\n    teal: {\n      border: \"border-emerald-200/70 dark:border-emerald-500/20\",\n      wash: \"from-emerald-500/10 via-emerald-500/0 to-transparent dark:from-emerald-400/10 dark:via-emerald-400/0\",\n      glowA: \"bg-emerald-400/14 dark:bg-emerald-500/12\",\n      glowB: \"bg-cyan-400/10 dark:bg-cyan-500/10\",\n      top: \"from-emerald-400/55 via-emerald-300/20 to-transparent dark:from-emerald-300/35 dark:via-emerald-300/15\",\n    },\n    amber: {\n      border: \"border-amber-200/70 dark:border-amber-500/20\",\n      wash: \"from-amber-500/12 via-amber-500/0 to-transparent dark:from-amber-400/10 dark:via-amber-400/0\",\n      glowA: \"bg-amber-400/16 dark:bg-amber-500/12\",\n      glowB: \"bg-orange-400/10 dark:bg-orange-500/10\",\n      top: \"from-amber-400/60 via-amber-300/20 to-transparent dark:from-amber-300/35 dark:via-amber-300/15\",\n    },\n  };\n\n  const t = toneMap[tone];\n\n  return (\n    <div\n      className={cx(\n        \"group relative overflow-hidden rounded-2xl border bg-white/88 p-4\",\n        \"shadow-[0_10px_30px_-20px_rgba(2,6,23,0.35)] backdrop-blur-xl\",\n        \"dark:bg-slate-950/45\",\n        t.border\n      )}\n    >\n      {/* subtle top accent (per-card) */}\n      <div\n        className={cx(\n          \"pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r\",\n          t.top\n        )}\n      />\n\n      {/* soft wash + glows */}\n      <div className={cx(\"pointer-events-none absolute inset-0 bg-gradient-to-br\", t.wash)} />\n      <div className={cx(\"pointer-events-none absolute -right-10 -top-12 h-28 w-28 rounded-full blur-2xl\", t.glowA)} />\n      <div className={cx(\"pointer-events-none absolute -left-10 -bottom-12 h-28 w-28 rounded-full blur-2xl\", t.glowB)} />\n\n      <div className=\"relative\">\n        {/* Force single line title (shrink text slightly so it never wraps) */}\n        <div className=\"text-[13px] font-semibold leading-none text-slate-900 dark:text-slate-50\">\n          <span className=\"block truncate whitespace-nowrap\">{title}</span>\n        </div>\n\n        <div className=\"mt-3 flex items-end justify-between gap-3\">\n          <div className=\"text-[28px] font-semibold leading-none tracking-tight text-slate-900 dark:text-slate-50\">\n            {value}\n          </div>\n        </div>\n\n        {caption ? (\n          <div className=\"mt-2 text-[11px] leading-none text-slate-500 dark:text-slate-400\">\n            <span className=\"block truncate whitespace-nowrap\">{caption}</span>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction SoftButton({\n  href,\n  children,\n  variant = \"secondary\",\n  className,\n}: {\n  href: string;\n  children: React.ReactNode;\n  variant?: \"primary\" | \"secondary\";\n  className?: string;\n}) {\n  const base =\n    \"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition active:translate-y-[0.5px] focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 dark:focus-visible:ring-offset-slate-950\";\n  if (variant === \"primary\") {\n    return (\n      <a\n        href={href}\n        className={cx(\n          base,\n          \"text-slate-950 shadow-[0_16px_34px_-22px_rgba(2,6,23,0.55)]\",\n          \"bg-gradient-to-r from-amber-400 via-amber-500 to-orange-500\",\n          \"hover:from-amber-300 hover:via-amber-500 hover:to-orange-400\",\n          \"focus-visible:ring-amber-400/70\",\n          className\n        )}\n      >\n        {children}\n      </a>\n    );\n  }\n  return (\n    <a\n      href={href}\n      className={cx(\n        base,\n        \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n        \"hover:bg-white hover:text-slate-900\",\n        \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\",\n        \"focus-visible:ring-slate-300/70 dark:focus-visible:ring-slate-700/70\",\n        className\n      )}\n    >\n      {children}\n    </a>\n  );\n}\n\nfunction TinyChip({\n  children,\n  tone = \"neutral\",\n}: {\n  children: React.ReactNode;\n  tone?: \"neutral\" | \"success\" | \"signal\";\n}) {\n  const tones =\n    tone === \"signal\"\n      ? \"border-amber-200/60 bg-amber-50 text-amber-700 dark:border-amber-400/30 dark:bg-amber-500/10 dark:text-amber-100\"\n      : tone === \"success\"\n      ? \"border-emerald-200/60 bg-emerald-50 text-emerald-700 dark:border-emerald-400/30 dark:bg-emerald-500/10 dark:text-emerald-100\"\n      : \"border-slate-200/70 bg-white/75 text-slate-600 dark:border-slate-700/70 dark:bg-slate-950/45 dark:text-slate-300\";\n\n  return (\n    <span\n      className={cx(\n        \"inline-flex items-center gap-2 rounded-full border px-2.5 py-1 text-[11px] shadow-sm backdrop-blur\",\n        tones\n      )}\n    >\n      {children}\n    </span>\n  );\n}\n\nexport default function MonitorPage() {\n  const [watches, setWatches] = useState<any[] | null>(null);\n  const [events, setEvents] = useState<any[] | null>(null);\n  const [rules, setRules] = useState<any[] | null>(null);\n  const [notifications, setNotifications] = useState<any[] | null>(null);\n  const [loadingSummary, setLoadingSummary] = useState(false);\n  const [lastCheckSample, setLastCheckSample] = useState<any | null>(null);\n\n  async function loadSummary() {\n    setLoadingSummary(true);\n    try {\n      const [wRes, eRes, rRes, nRes] = await Promise.all([\n        fetch(\"/api/monitor/watches\"),\n        fetch(\"/api/monitor/events\"),\n        fetch(\"/api/monitor/rules\"),\n        fetch(\"/api/monitor/notifications\"),\n      ]);\n      const wJson = await wRes.json().catch(() => null);\n      const eJson = await eRes.json().catch(() => null);\n      const rJson = await rRes.json().catch(() => null);\n      const nJson = await nRes.json().catch(() => null);\n\n      const wList = wRes.ok && wJson?.ok ? wJson.watches ?? [] : [];\n      const eList = eRes.ok && eJson?.ok ? eJson.events ?? [] : [];\n      const rList = rRes.ok && rJson?.ok ? rJson.rules ?? [] : [];\n      const nList = nRes.ok && nJson?.ok ? nJson.notifications ?? [] : [];\n\n      setWatches(wList);\n      setEvents(eList);\n      setRules(rList);\n      setNotifications(nList);\n      setLastCheckSample(eList?.[0] ?? null);\n    } catch (err) {\n      setWatches([]);\n      setEvents([]);\n      setRules([]);\n      setNotifications([]);\n      setLastCheckSample(null);\n    } finally {\n      setLoadingSummary(false);\n    }\n  }\n\n  useEffect(() => {\n    loadSummary();\n    const t = setInterval(() => loadSummary(), 30_000);\n    return () => clearInterval(t);\n  }, []);\n\n  const watchesCount = watches?.length ?? \"—\";\n  const eventsCount24h = events\n    ? events.filter((ev) => {\n        const t = new Date(ev.created_at).getTime();\n        return Date.now() - t < 24 * 60 * 60 * 1000;\n      }).length\n    : \"—\";\n\n  const avgFrequencyDays = useMemo(() => {\n    if (!watches || watches.length === 0) return \"—\";\n    const totalDays = watches.reduce((acc, w) => {\n      const secs = Number(w.frequency_seconds ?? 86400);\n      return acc + secs / (24 * 60 * 60);\n    }, 0);\n    return Math.round((totalDays / watches.length) * 10) / 10;\n  }, [watches]);\n\n  const failingWatchesCount = useMemo(() => {\n    if (!watches) return \"—\";\n    return watches.filter(\n      (w) =>\n        (w.last_status && String(w.last_status) !== \"ok\") ||\n        Number(w.retry_count ?? 0) > 0\n    ).length;\n  }, [watches]);\n\n  const eventsPerDayEstimate = useMemo(() => {\n    if (!events) return \"—\";\n    const last7 = events.filter((ev) => {\n      const t = new Date(ev.created_at).getTime();\n      return Date.now() - t < 7 * 24 * 60 * 60 * 1000;\n    }).length;\n    return Math.round((last7 / 7) * 10) / 10;\n  }, [events]);\n\n  const notificationsLast7Days = useMemo(() => {\n    if (!notifications) return \"—\";\n    const cnt = notifications.filter((n) => {\n      const t = new Date(n.created_at).getTime();\n      return Date.now() - t < 7 * 24 * 60 * 60 * 1000;\n    }).length;\n    return cnt;\n  }, [notifications]);\n\n  const processedEventRatePercent = useMemo(() => {\n    if (!events || events.length === 0) return \"—\";\n    const processed = events.filter((ev) => ev.processed === true).length;\n    return Math.round((processed / events.length) * 100);\n  }, [events]);\n\n  const autoWatchPercent = useMemo(() => {\n    if (!watches || watches.length === 0) return \"—\";\n    const aut = watches.filter((w) => !!w.auto_watch).length;\n    return Math.round((aut / watches.length) * 100);\n  }, [watches]);\n\n  const productLinkedPercent = useMemo(() => {\n    if (!watches || watches.length === 0) return \"—\";\n    const linked = watches.filter((w) => !!w.product_id).length;\n    return Math.round((linked / watches.length) * 100);\n  }, [watches]);\n\n  const avgRetryCount = useMemo(() => {\n    if (!watches || watches.length === 0) return \"—\";\n    const total = watches.reduce(\n      (acc, w) => acc + Number(w.retry_count ?? 0),\n      0\n    );\n    return Math.round((total / watches.length) * 10) / 10;\n  }, [watches]);\n\n  const unreadNotificationsCount = notifications\n    ? notifications.filter((n) => !n.read).length\n    : \"—\";\n  const rulesCount = rules?.length ?? \"—\";\n\n  return (\n    <main className=\"relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50\">\n      <div className=\"pointer-events-none absolute inset-0\">\n        <div className=\"absolute -top-44 -left-36 h-96 w-96 rounded-full bg-sky-300/20 blur-3xl dark:bg-sky-500/15\" />\n        <div className=\"absolute -bottom-44 right-[-12rem] h-[28rem] w-[28rem] rounded-full bg-amber-300/20 blur-3xl dark:bg-amber-500/14\" />\n        <div className=\"absolute top-24 right-12 h-56 w-56 rounded-full bg-emerald-300/12 blur-3xl dark:bg-emerald-500/10\" />\n\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.92)_58%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_58%,_rgba(15,23,42,1)_100%)]\" />\n\n        <div className=\"absolute inset-0 opacity-[0.045] dark:opacity-[0.065]\">\n          <div className=\"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]\" />\n        </div>\n      </div>\n\n      <div className=\"relative mx-auto max-w-7xl space-y-6 px-4 pt-4 pb-8 sm:px-6 lg:px-8 lg:pt-6 lg:pb-10\">\n        <header className=\"flex flex-col gap-5 lg:flex-row lg:items-start lg:justify-between\">\n          <div className=\"space-y-3\">\n            <div className=\"flex flex-wrap items-center gap-3\">\n              <span className=\"inline-flex items-center gap-2 rounded-full border border-amber-300/60 bg-white/80 px-3 py-1.5 text-[11px] font-medium uppercase tracking-[0.18em] text-amber-700 shadow-sm backdrop-blur dark:border-amber-400/35 dark:bg-slate-950/55 dark:text-amber-100\">\n                <span className=\"inline-flex h-4 w-4 items-center justify-center rounded-full border border-amber-400/60 bg-slate-100 dark:border-amber-400/35 dark:bg-slate-900\">\n                  <span className=\"h-2 w-2 animate-pulse rounded-full bg-amber-500 dark:bg-amber-300\" />\n                </span>\n                Commerce • AvidiaMonitor\n              </span>\n\n              <TinyChip tone=\"success\">\n                <span className=\"h-1.5 w-1.5 rounded-full bg-emerald-400\" />\n                Workers • Rules • Notifier\n              </TinyChip>\n\n              <TinyChip tone=\"signal\">\n                ✨ Change detection → alerts → automation\n              </TinyChip>\n            </div>\n\n            <div className=\"space-y-2\">\n              <h1 className=\"text-2xl font-semibold leading-tight text-slate-900 lg:text-3xl dark:text-slate-50\">\n                Monitor{\" \"}\n                <span className=\"bg-gradient-to-r from-amber-500 via-orange-500 to-sky-500 bg-clip-text text-transparent dark:from-amber-300 dark:via-orange-300 dark:to-sky-300\">\n                  changes, notifications &amp; automation\n                </span>\n              </h1>\n              <p className=\"max-w-2xl text-sm text-slate-600 dark:text-slate-300\">\n                Watch product sources, detect deltas, and trigger pipelines or\n                alerts. Manage watches, rules, and notifications here.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex flex-wrap gap-3 lg:justify-end\">\n            <SoftButton href=\"#add-watch\" variant=\"primary\">\n              Add watch\n            </SoftButton>\n            <SoftButton href=\"/dashboard/monitor/rules\" variant=\"secondary\">\n              Rules ({rulesCount})\n            </SoftButton>\n            <SoftButton href=\"/dashboard/monitor/notifications\" variant=\"secondary\">\n              Notifications ({unreadNotificationsCount})\n            </SoftButton>\n          </div>\n        </header>\n\n        <section className=\"grid grid-cols-1 gap-6 lg:grid-cols-12 lg:gap-8\">\n          <div className=\"space-y-4 lg:col-span-8\">\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n              <StatCard\n                title=\"Watches\"\n                tone=\"blue\"\n                value={loadingSummary ? \"…\" : watchesCount}\n                caption=\"Configured watches\"\n              />\n              <StatCard\n                title=\"Events (24h)\"\n                tone=\"purple\"\n                value={loadingSummary ? \"…\" : eventsCount24h}\n                caption=\"Events in last 24 hours\"\n              />\n              <StatCard\n                title=\"Avg frequency (days)\"\n                tone=\"teal\"\n                value={loadingSummary ? \"…\" : avgFrequencyDays}\n                caption=\"Average check frequency\"\n              />\n              <StatCard\n                title=\"Failing watches\"\n                tone=\"amber\"\n                value={loadingSummary ? \"…\" : failingWatchesCount}\n                caption=\"Watches with errors/retries\"\n              />\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45\">\n              <MonitorDashboard />\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45\">\n              <div className=\"flex items-start justify-between gap-3\">\n                <div className=\"min-w-0\">\n                  <h3 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">\n                    Recent monitor events\n                  </h3>\n                  <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n                    Quick view of recent events. Use Rules to automate alerts and\n                    Notifier to deliver webhooks / emails.\n                  </p>\n                </div>\n                <div className=\"shrink-0 text-xs text-slate-500 dark:text-slate-400\">\n                  Most recent\n                </div>\n              </div>\n\n              <div className=\"mt-3\">\n                <div\n                  className=\"space-y-2 pr-2\"\n                  style={{ maxHeight: \"36vh\", overflowY: \"auto\" }}\n                >\n                  {events === null ? (\n                    <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      Loading…\n                    </div>\n                  ) : events.length === 0 ? (\n                    <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      No events yet — add a watch or upload/import a product to\n                      get started.\n                    </div>\n                  ) : (\n                    events.slice(0, 50).map((ev) => (\n                      <div\n                        key={ev.id}\n                        className={cx(\n                          \"rounded-xl border border-slate-200/70 bg-slate-50/70 p-3\",\n                          \"shadow-sm\",\n                          \"flex items-start justify-between gap-3\",\n                          \"dark:border-slate-800/60 dark:bg-slate-900/30\"\n                        )}\n                      >\n                        <div className=\"min-w-0\">\n                          <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                            {ev.event_type} · {ev.severity}\n                          </div>\n                          <div className=\"mt-0.5 truncate font-medium text-slate-900 dark:text-slate-50\">\n                            {ev.payload?.snapshot?.title ??\n                              ev.payload?.snapshot?.url ??\n                              \"Event\"}\n                          </div>\n                          <div className=\"mt-1 truncate text-xs text-slate-400 dark:text-slate-500\">\n                            {ev.payload?.snapshot?.url}\n                          </div>\n                        </div>\n\n                        <div className=\"shrink-0 text-right\">\n                          <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                            {new Date(ev.created_at).toLocaleString()}\n                          </div>\n                          <div className=\"mt-2 flex justify-end gap-2\">\n                            <button\n                              onClick={() => {\n                                navigator.clipboard?.writeText(\n                                  JSON.stringify(ev.payload ?? ev, null, 2)\n                                );\n                                alert(\"Event payload copied\");\n                              }}\n                              className={cx(\n                                \"rounded-full px-3 py-1 text-xs font-medium\",\n                                \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                                \"hover:bg-white hover:text-slate-900\",\n                                \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                              )}\n                            >\n                              Copy\n                            </button>\n                            <a\n                              href=\"/dashboard/monitor/notifications\"\n                              className={cx(\n                                \"rounded-full px-3 py-1 text-xs font-medium\",\n                                \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                                \"hover:bg-white hover:text-slate-900\",\n                                \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                              )}\n                            >\n                              Notifications\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n\n                {events && events.length > 50 ? (\n                  <div className=\"mt-3 text-xs text-slate-500 dark:text-slate-400\">\n                    Showing latest 50 events.{\" \"}\n                    <a\n                      className=\"underline underline-offset-2\"\n                      href=\"/dashboard/monitor/events\"\n                    >\n                      View all events\n                    </a>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          </div>\n\n          <aside className=\"space-y-4 lg:col-span-4\">\n            <div className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45\">\n              <div className=\"flex items-start justify-between gap-3\">\n                <div className=\"min-w-0\">\n                  <h3 className=\"text-sm font-semibold text-slate-900 dark:text-slate-50\">\n                    Quick actions\n                  </h3>\n                  <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n                    Admin utilities for Monitor\n                  </p>\n                </div>\n\n                <TinyChip>\n                  <span className=\"h-1.5 w-1.5 rounded-full bg-sky-400\" />\n                  Ops\n                </TinyChip>\n              </div>\n\n              <div className=\"mt-4 space-y-2\">\n                <div className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 dark:border-slate-800/60 dark:bg-slate-900/30\">\n                  <div className=\"min-w-0\">\n                    <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      Run all due checks\n                    </div>\n                    <div className=\"truncate text-sm font-medium text-slate-900 dark:text-slate-50\">\n                      Worker (manual)\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => {\n                      loadSummary();\n                      alert(\n                        \"Summary refreshed. To run checks start the worker process.\"\n                      );\n                    }}\n                    className={cx(\n                      \"shrink-0 rounded-full px-3 py-1 text-xs font-medium\",\n                      \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                      \"hover:bg-white hover:text-slate-900\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                    )}\n                  >\n                    Refresh\n                  </button>\n                </div>\n\n                <div className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 dark:border-slate-800/60 dark:bg-slate-900/30\">\n                  <div className=\"min-w-0\">\n                    <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      Notifier worker\n                    </div>\n                    <div className=\"truncate text-sm font-medium text-slate-900 dark:text-slate-50\">\n                      Deliver webhooks &amp; emails\n                    </div>\n                  </div>\n                  <button\n                    onClick={() =>\n                      alert(\n                        \"Dev command:\\n\\nNODE_ENV=production node -r dotenv/config ./dist/lib/monitor/notifierWorker.js\"\n                      )\n                    }\n                    className={cx(\n                      \"shrink-0 rounded-full px-3 py-1 text-xs font-medium\",\n                      \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                      \"hover:bg-white hover:text-slate-900\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                    )}\n                  >\n                    Show command\n                  </button>\n                </div>\n\n                <div className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 dark:border-slate-800/60 dark:bg-slate-900/30\">\n                  <div className=\"min-w-0\">\n                    <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      Manage rules\n                    </div>\n                    <div className=\"truncate text-sm font-medium text-slate-900 dark:text-slate-50\">\n                      Create automation for events\n                    </div>\n                  </div>\n                  <a\n                    href=\"/dashboard/monitor/rules\"\n                    className={cx(\n                      \"shrink-0 rounded-full px-3 py-1 text-xs font-medium\",\n                      \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                      \"hover:bg-white hover:text-slate-900\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                    )}\n                  >\n                    Open\n                  </a>\n                </div>\n\n                <div className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 dark:border-slate-800/60 dark:bg-slate-900/30\">\n                  <div className=\"min-w-0\">\n                    <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      View notifications\n                    </div>\n                    <div className=\"truncate text-sm font-medium text-slate-900 dark:text-slate-50\">\n                      App notifications &amp; history\n                    </div>\n                  </div>\n                  <a\n                    href=\"/dashboard/monitor/notifications\"\n                    className={cx(\n                      \"shrink-0 rounded-full px-3 py-1 text-xs font-medium\",\n                      \"border border-slate-200/80 bg-white/70 text-slate-700 shadow-sm\",\n                      \"hover:bg-white hover:text-slate-900\",\n                      \"dark:border-slate-800/70 dark:bg-slate-950/40 dark:text-slate-200 dark:hover:bg-slate-950/65 dark:hover:text-slate-50\"\n                    )}\n                  >\n                    Open\n                  </a>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200/70 bg-white/70 p-4 text-xs shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/35\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"font-semibold text-slate-900 dark:text-slate-50\">\n                  Monitor Metrics\n                </div>\n                <TinyChip>\n                  <span className=\"h-1.5 w-1.5 rounded-full bg-emerald-400\" />\n                  Summary\n                </TinyChip>\n              </div>\n\n              <div className=\"mt-2 text-xs text-slate-600 dark:text-slate-400\">\n                Operational metrics and high-level signals — no repository paths\n                or environment values are shown here.\n              </div>\n\n              <div className=\"mt-4 grid grid-cols-2 gap-3 text-xs\">\n                {[\n                  { v: watchesCount, l: \"Watches\" },\n                  { v: avgFrequencyDays, l: \"Avg frequency (days)\" },\n                  { v: failingWatchesCount, l: \"Failing watches\" },\n                  { v: eventsPerDayEstimate, l: \"Events/day (est.)\" },\n                  { v: notificationsLast7Days, l: \"Notifications (7d)\" },\n                  {\n                    v:\n                      processedEventRatePercent === \"—\"\n                        ? \"—\"\n                        : `${processedEventRatePercent}%`,\n                    l: \"Processed rate\",\n                  },\n                  {\n                    v: autoWatchPercent === \"—\" ? \"—\" : `${autoWatchPercent}%`,\n                    l: \"Auto watches\",\n                  },\n                  {\n                    v:\n                      productLinkedPercent === \"—\"\n                        ? \"—\"\n                        : `${productLinkedPercent}%`,\n                    l: \"Linked to product\",\n                  },\n                ].map((m) => (\n                  <div\n                    key={m.l}\n                    className=\"rounded-xl border border-slate-200/70 bg-white/75 p-3 text-center shadow-sm dark:border-slate-800/60 dark:bg-slate-950/35\"\n                  >\n                    <div className=\"text-2xl font-semibold text-slate-900 dark:text-slate-50\">\n                      {m.v as any}\n                    </div>\n                    <div className=\"mt-1 text-[11px] text-slate-500 dark:text-slate-400\">\n                      {m.l}\n                    </div>\n                  </div>\n                ))}\n\n                <div className=\"col-span-2 rounded-xl border border-slate-200/70 bg-white/75 p-3 text-center shadow-sm dark:border-slate-800/60 dark:bg-slate-950/35\">\n                  <div className=\"text-2xl font-semibold text-slate-900 dark:text-slate-50\">\n                    {avgRetryCount}\n                  </div>\n                  <div className=\"mt-1 text-[11px] text-slate-500 dark:text-slate-400\">\n                    Avg retry count\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200/70 bg-white/80 p-4 text-xs shadow-[0_14px_40px_-28px_rgba(2,6,23,0.55)] backdrop-blur dark:border-slate-800/60 dark:bg-slate-950/45\">\n              <div className=\"font-semibold text-slate-900 dark:text-slate-50\">\n                Operational tips\n              </div>\n              <ul className=\"mt-3 space-y-2 text-slate-600 dark:text-slate-300\">\n                <li className=\"flex gap-2\">\n                  <span className=\"mt-[6px] h-1.5 w-1.5 shrink-0 rounded-full bg-amber-400\" />\n                  <span>Start small: monitor a seed of important SKUs first.</span>\n                </li>\n                <li className=\"flex gap-2\">\n                  <span className=\"mt-[6px] h-1.5 w-1.5 shrink-0 rounded-full bg-sky-400\" />\n                  <span>Set frequency per vendor to avoid rate-limits and CAPTCHAs.</span>\n                </li>\n                <li className=\"flex gap-2\">\n                  <span className=\"mt-[6px] h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400\" />\n                  <span>\n                    Use rules to limit noise — e.g., alert only on price changes &gt; X%.\n                  </span>\n                </li>\n                <li className=\"flex gap-2\">\n                  <span className=\"mt-[6px] h-1.5 w-1.5 shrink-0 rounded-full bg-violet-400\" />\n                  <span>\n                    Use a headless-renderer fallback for JS-heavy pages (separate Playwright worker).\n                  </span>\n                </li>\n              </ul>\n\n              {lastCheckSample ? (\n                <div className=\"mt-4 rounded-xl border border-slate-200/70 bg-slate-50/70 p-3 text-[11px] text-slate-600 dark:border-slate-800/60 dark:bg-slate-900/30 dark:text-slate-300\">\n                  <div className=\"font-semibold text-slate-700 dark:text-slate-200\">\n                    Latest signal (sample)\n                  </div>\n                  <div className=\"mt-1 truncate\">\n                    {lastCheckSample?.payload?.snapshot?.url ??\n                      lastCheckSample?.payload?.snapshot?.title ??\n                      \"—\"}\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </aside>\n        </section>\n      </div>\n    </main>\n  );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\n\n/**\n * MonitorDashboard (frequency control + compact watch list)\n *\n * - Preset dropdown shows numeric values only (1,7,14,30) — no duplicated 'd' suffix.\n * - If \"Custom...\" selected a small numeric input appears (days).\n * - Shows up to WATCHES_PER_VIEW watches and EVENTS_PER_VIEW events.\n * - Watches + Recent events are wrapped in a vertical scroll container so the panel\n *   remains compact (scrolls both lists together). Default shows 10 watches + 10 events.\n * - Includes a \"View all\" link suggestion for a dedicated, full list page.\n *\n * No additional files required.\n */\n\nconst WATCHES_PER_VIEW = 10;\nconst EVENTS_PER_VIEW = 10;\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\n/** Helper conversions */\nfunction daysToSeconds(days: number) {\n  return Math.max(1, Math.round(days * 24 * 60 * 60));\n}\nfunction secondsToDays(sec: number | null | undefined) {\n  if (!sec || typeof sec !== \"number\") return null;\n  return Math.max(1, Math.round(sec / (24 * 60 * 60)));\n}\n\n/** FrequencyControl: preset dropdown + anchored custom days popover (stable positioning) */\ntype FrequencyControlProps = {\n  days: number;\n  onChange: (days: number) => void;\n  ariaLabel?: string;\n  className?: string;\n};\n\nfunction FrequencyControl({ days, onChange, ariaLabel, className }: FrequencyControlProps) {\n  const presets = [1, 7, 14, 30];\n  const normalized = Math.max(1, Math.round(days || 14));\n  const [selected, setSelected] = useState<string>(presets.includes(normalized) ? String(normalized) : \"custom\");\n  const [customValue, setCustomValue] = useState<number>(normalized);\n\n  useEffect(() => {\n    const d = Math.max(1, Math.round(days || 14));\n    const p = presets.includes(d);\n    setSelected(p ? String(d) : \"custom\");\n    setCustomValue(d);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [days]);\n\n  return (\n    <div className={cx(\"relative inline-flex items-center gap-2\", className)}>\n      <select\n        aria-label={ariaLabel ?? \"frequency-presets\"}\n        value={selected}\n        onChange={(e) => {\n          const v = e.target.value;\n          setSelected(v);\n          if (v === \"custom\") return;\n          const n = Number(v);\n          setCustomValue(n);\n          onChange(n);\n        }}\n        className=\"h-8 rounded-md border border-slate-200 bg-white px-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-200\"\n      >\n        {presets.map((p) => (\n          <option key={p} value={String(p)}>\n            {String(p)}\n          </option>\n        ))}\n        <option value=\"custom\">Custom…</option>\n      </select>\n\n      <span className=\"text-xs text-slate-500\">days</span>\n\n      {selected === \"custom\" ? (\n        <div className=\"absolute left-0 top-full z-20 mt-2 w-[260px] rounded-xl border border-slate-200 bg-white p-3 shadow-lg\">\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"number\"\n              min={1}\n              step={1}\n              value={customValue}\n              onChange={(e) => setCustomValue(Number(e.target.value))}\n              className=\"h-8 w-24 rounded-md border border-slate-200 bg-white px-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-200\"\n              title=\"Custom days between checks\"\n            />\n            <button\n              onClick={() => onChange(Math.max(1, Math.round(customValue)))}\n              className=\"h-8 rounded-md bg-indigo-600 px-3 text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200\"\n              title=\"Apply custom frequency (days)\"\n            >\n              Apply\n            </button>\n            <button\n              onClick={() => setSelected(String(14))}\n              className=\"h-8 rounded-md border border-slate-200 bg-white px-3 text-xs font-semibold text-slate-700 shadow-sm hover:bg-slate-50\"\n              title=\"Close\"\n            >\n              Close\n            </button>\n          </div>\n          <div className=\"mt-2 text-[11px] text-slate-500\">Enter a number of days, then Apply.</div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n/** Compact status badge */\nfunction StatusBadge({ status }: { status?: string | null }) {\n  const s = (status ?? \"unknown\").toLowerCase();\n  const map: Record<string, string> = {\n    ok: \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n    changed: \"border-amber-200 bg-amber-50 text-amber-700\",\n    scrape_failed: \"border-red-200 bg-red-50 text-red-700\",\n    error: \"border-red-200 bg-red-50 text-red-700\",\n    unknown: \"border-slate-200 bg-slate-50 text-slate-700\",\n  };\n  const cls = map[s] ?? map.unknown;\n  return (\n    <span className={cx(\"inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold capitalize\", cls)}>\n      {s.replace(\"_\", \" \")}\n    </span>\n  );\n}\n\nfunction Dot({ tone }: { tone: \"ok\" | \"warn\" | \"bad\" | \"neutral\" }) {\n  const cls =\n    tone === \"ok\" ? \"bg-emerald-500\" : tone === \"warn\" ? \"bg-amber-500\" : tone === \"bad\" ? \"bg-red-500\" : \"bg-slate-400\";\n  return <span className={cx(\"inline-block h-2 w-2 rounded-full\", cls)} />;\n}\n\n/** Button styles (updated colors for better UI) */\nconst bBase =\n  \"h-8 rounded-md px-3 text-xs font-semibold shadow-sm transition focus:outline-none focus:ring-2\";\nconst bGhost = cx(bBase, \"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 focus:ring-slate-200\");\nconst bCheck = cx(bBase, \"bg-sky-600 text-white hover:bg-sky-500 focus:ring-sky-200\");\nconst bSave = cx(bBase, \"bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-60 disabled:cursor-not-allowed focus:ring-indigo-200\");\nconst bMute = cx(bBase, \"bg-slate-900 text-white hover:bg-slate-800 focus:ring-slate-300\");\n\n/** Compact Watch card */\nfunction WatchRow({\n  watch,\n  onSaveFreq,\n  onTriggerCheck,\n  onUpdate,\n}: {\n  watch: any;\n  onSaveFreq: (id: string, days: number) => Promise<void>;\n  onTriggerCheck: (id: string) => Promise<void>;\n  onUpdate: (id: string, patch: any) => Promise<void>;\n}) {\n  const freqDays = secondsToDays(watch?.frequency_seconds) ?? 14;\n  const [localDays, setLocalDays] = useState<number>(freqDays);\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    setLocalDays(freqDays);\n  }, [freqDays]);\n\n  const status = String(watch?.last_status ?? \"unknown\").toLowerCase();\n  const tone: \"ok\" | \"warn\" | \"bad\" | \"neutral\" =\n    status === \"ok\" ? \"ok\" : status === \"changed\" ? \"warn\" : status.includes(\"error\") || status.includes(\"fail\") ? \"bad\" : \"neutral\";\n\n  return (\n    <div className=\"rounded-xl border border-slate-200 bg-white p-3 shadow-sm\">\n      <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n        <div className=\"min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <Dot tone={tone} />\n            <div className=\"truncate text-sm font-semibold text-slate-900\">{watch.source_url}</div>\n          </div>\n          <div className=\"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500\">\n            <StatusBadge status={watch.last_status} />\n            <span className=\"text-slate-300\">·</span>\n            <span className=\"whitespace-nowrap\">{watch.last_check_at ? new Date(watch.last_check_at).toLocaleString() : \"never\"}</span>\n            {watch.muted_until ? (\n              <>\n                <span className=\"text-slate-300\">·</span>\n                <span className=\"whitespace-nowrap text-slate-400\">muted</span>\n              </>\n            ) : null}\n          </div>\n        </div>\n\n        <div className=\"flex shrink-0 flex-wrap items-center gap-2\">\n          <button onClick={() => onTriggerCheck(watch.id)} className={bCheck} title=\"Run a check now\">\n            Check\n          </button>\n\n          <button\n            onClick={async () => {\n              setSaving(true);\n              try {\n                await onSaveFreq(watch.id, localDays);\n              } finally {\n                setSaving(false);\n              }\n            }}\n            disabled={saving}\n            className={bSave}\n            title=\"Save frequency\"\n          >\n            {saving ? \"Saving…\" : \"Save\"}\n          </button>\n\n          <button\n            onClick={() =>\n              onUpdate(watch.id, {\n                muted_until: watch.muted_until ? null : new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n              })\n            }\n            className={bMute}\n            title={watch.muted_until ? \"Unmute\" : \"Mute 24h\"}\n          >\n            {watch.muted_until ? \"Unmute\" : \"Mute\"}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"mt-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between\">\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <span className=\"text-xs font-medium text-slate-600\">Frequency</span>\n          <FrequencyControl days={localDays} onChange={(d) => setLocalDays(d)} ariaLabel={`Frequency for ${watch.source_url}`} />\n        </div>\n\n        <div className=\"flex items-center justify-between gap-2 lg:justify-end\">\n          <span className=\"text-xs font-medium text-slate-600\">Price Δ %</span>\n          <input\n            type=\"number\"\n            defaultValue={watch.price_threshold_percent ?? \"\"}\n            onBlur={(e) =>\n              onUpdate(watch.id, {\n                price_threshold_percent: e.currentTarget.value ? Number(e.currentTarget.value) : null,\n              })\n            }\n            className=\"h-8 w-24 rounded-md border border-slate-200 bg-white px-2 text-xs shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-200\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/** Main component */\nexport default function MonitorDashboard() {\n  const [watches, setWatches] = useState<any[]>([]);\n  const [events, setEvents] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [newUrl, setNewUrl] = useState(\"\");\n  const [newFrequencyDays, setNewFrequencyDays] = useState<number>(14);\n\n  async function loadWatches() {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/monitor/watches\");\n      const j = await res.json().catch(() => null);\n      if (res.ok && j?.ok) setWatches(j.watches ?? []);\n      else setWatches([]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function loadEvents(watchId?: string | null) {\n    setLoading(true);\n    try {\n      const url = watchId ? `/api/monitor/events?watchId=${encodeURIComponent(watchId)}` : `/api/monitor/events`;\n      const res = await fetch(url);\n      const j = await res.json().catch(() => null);\n      if (res.ok && j?.ok) setEvents(j.events ?? []);\n      else setEvents([]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadWatches();\n    loadEvents();\n    const t = setInterval(() => {\n      loadWatches();\n      loadEvents();\n    }, 30_000);\n    return () => clearInterval(t);\n  }, []);\n\n  async function createWatch() {\n    if (!newUrl) {\n      alert(\"Enter a URL to watch\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const payload = { source_url: newUrl, frequency_seconds: daysToSeconds(newFrequencyDays) };\n      const res = await fetch(\"/api/monitor/watches\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n      const j = await res.json().catch(() => null);\n      if (!res.ok || !j?.ok) {\n        alert(\"Failed to create watch: \" + (j?.error ?? res.statusText));\n      } else {\n        setNewUrl(\"\");\n        await loadWatches();\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function saveFreq(id: string, days: number) {\n    const patch = { frequency_seconds: daysToSeconds(days) };\n    const res = await fetch(`/api/monitor/watches/${encodeURIComponent(id)}`, {\n      method: \"PATCH\",\n      headers: { \"content-type\": \"application/json\" },\n      body: JSON.stringify(patch),\n    });\n    const j = await res.json().catch(() => null);\n    if (!res.ok || !j?.ok) alert(\"Save frequency failed: \" + (j?.error ?? res.statusText));\n    else await loadWatches();\n  }\n\n  async function updateWatch(id: string, patch: any) {\n    try {\n      const res = await fetch(`/api/monitor/watches/${encodeURIComponent(id)}`, {\n        method: \"PATCH\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(patch),\n      });\n      const j = await res.json().catch(() => null);\n      if (!res.ok || !j?.ok) alert(\"Update failed: \" + (j?.error ?? res.statusText));\n      else await loadWatches();\n    } catch (err: any) {\n      alert(String(err?.message ?? err));\n    }\n  }\n\n  async function triggerCheck(watchId: string) {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/monitor/check\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ watchId }),\n      });\n      const j = await res.json().catch(() => null);\n      if (!res.ok || !j?.ok) {\n        alert(\"Check failed: \" + (j?.error ?? res.statusText));\n      } else {\n        alert(\"Check result: \" + (j?.result?.changed ? \"changed\" : \"no_change\"));\n        await loadWatches();\n        await loadEvents(watchId);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Create watch row */}\n      <div className=\"flex flex-col gap-2 lg:flex-row lg:items-center\">\n        <input\n          value={newUrl}\n          onChange={(e) => setNewUrl(e.target.value)}\n          className=\"border rounded px-3 py-2 flex-1\"\n          placeholder=\"https://example.com/product/...\"\n          aria-label=\"New watch URL\"\n        />\n\n        <div className=\"flex items-center gap-2 shrink-0\">\n          <FrequencyControl days={newFrequencyDays} onChange={(d) => setNewFrequencyDays(d)} ariaLabel=\"New watch frequency (days)\" />\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <button onClick={createWatch} className=\"px-3 py-2 rounded bg-indigo-600 text-white shadow hover:bg-indigo-500\">\n            Add Watch\n          </button>\n          <button onClick={() => { loadWatches(); loadEvents(); }} className=\"px-3 py-2 rounded border border-slate-200 bg-white hover:bg-slate-50\">\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Scrollable area containing Watches + Recent events */}\n      <div style={{ maxHeight: \"64vh\", overflowY: \"auto\" }} className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\n        <div className=\"col-span-2\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <h4 className=\"text-sm font-semibold\">Watches</h4>\n            <div className=\"text-xs text-slate-500\">{watches.length ? `${watches.length} total` : \"\"}</div>\n          </div>\n\n          <div className=\"mt-2 space-y-3\">\n            {loading && !watches.length ? (\n              <div className=\"text-sm text-slate-500\">Loading…</div>\n            ) : watches.length === 0 ? (\n              <div className=\"text-sm text-slate-500\">No watches configured yet</div>\n            ) : (\n              watches.slice(0, WATCHES_PER_VIEW).map((w) => (\n                <WatchRow key={w.id} watch={w} onSaveFreq={saveFreq} onTriggerCheck={triggerCheck} onUpdate={updateWatch} />\n              ))\n            )}\n          </div>\n\n          {watches.length > WATCHES_PER_VIEW ? (\n            <div className=\"mt-3 text-xs text-slate-500\">\n              Showing {WATCHES_PER_VIEW} of {watches.length} watches. <a className=\"underline\" href=\"/dashboard/monitor/all\">View all</a>\n            </div>\n          ) : null}\n        </div>\n\n        <div>\n          <div className=\"flex items-center justify-between gap-3\">\n            <h4 className=\"text-sm font-semibold\">Recent events</h4>\n            <div className=\"text-xs text-slate-500\">{events.length ? `${events.length} total` : \"\"}</div>\n          </div>\n\n          {/* Restored: close to original compact form (no host chips, minimal, not heavily truncated) */}\n          <div className=\"mt-2 space-y-2\">\n            {loading && !events.length ? (\n              <div className=\"text-sm text-slate-500\">Loading…</div>\n            ) : events.length === 0 ? (\n              <div className=\"text-sm text-slate-500\">No events</div>\n            ) : (\n              events.slice(0, EVENTS_PER_VIEW).map((ev) => (\n                <div key={ev.id} className=\"p-2 border rounded bg-slate-50\">\n                  <div className=\"text-xs text-slate-500\">{ev.event_type}</div>\n                  {/* allow more room: no truncate, soft wrap */}\n                  <div className=\"text-sm font-medium text-slate-900 break-words\">\n                    {ev.payload?.snapshot?.title ?? ev.payload?.snapshot?.url}\n                  </div>\n                  <div className=\"text-xs text-slate-400\">{new Date(ev.created_at).toLocaleString()}</div>\n                </div>\n              ))\n            )}\n          </div>\n\n          {events.length > EVENTS_PER_VIEW ? (\n            <div className=\"mt-3 text-xs text-slate-500\">\n              Showing {EVENTS_PER_VIEW} of {events.length} events. <a className=\"underline\" href=\"/dashboard/monitor/events\">View all</a>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
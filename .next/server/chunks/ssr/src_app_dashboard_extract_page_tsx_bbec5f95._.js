module.exports=[15573,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({job:a,loading:d,error:e,noDataMessage:g}){let l=a?.normalized_payload||a?.raw_payload||a||null,m=!!l?.source_seo,n=!!l?.specs_json||!!l?.specs||!!l?.specs_payload,o=Array.isArray(l?.variants)&&l.variants.length>0,p=l?.normalized_payload??l?.raw_payload??l??null,q=!!p,r=a?.diagnostics||l?.diagnostics||null;if(r&&Object.keys(r).length,!a&&!d)return(0,b.jsx)("div",{children:g});if(d&&!a)return(0,b.jsx)("div",{children:"Waiting for engine to completeâ€¦"});if(e)return(0,b.jsx)("div",{style:{color:"crimson"},children:String(e)});let s="source_seo",t="specs",u="variants",v="diagnostics",w=[{id:s,label:"Source SEO",enabled:m},{id:t,label:"Specs",enabled:n},{id:u,label:"Variants",enabled:o},{id:"raw",label:"Raw JSON",enabled:q},{id:v,label:"Diagnostics",enabled:!0}],x=w.find(a=>a.enabled)?.id||"raw",[y,z]=c.default.useState(x);return c.default.useEffect(()=>{z(w.find(a=>a.enabled)?.id||"raw")},[m,n,o,q]),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:w.map(a=>{let c=y===a.id,d=a.enabled?"bg-white text-slate-700 border-slate-300 hover:bg-slate-100":"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed";return(0,b.jsx)("button",{type:"button",disabled:!a.enabled,onClick:()=>a.enabled&&z(a.id),className:`px-3 py-1.5 text-sm rounded border transition-colors ${c?"bg-slate-900 text-white border-slate-900":d}`,children:a.label},a.id)})}),(0,b.jsxs)("div",{className:"border rounded-md p-3 bg-slate-50 text-sm overflow-x-auto",children:[y===s&&(0,b.jsx)(f,{payload:l,hasSourceSeo:m}),y===t&&(0,b.jsx)(h,{payload:l,hasSpecs:n}),y===u&&(0,b.jsx)(i,{payload:l,hasVariants:o}),"raw"===y&&(0,b.jsx)(j,{rawJsonSource:p,hasRaw:q}),y===v&&(0,b.jsx)(k,{diagnostics:r})]})]})}function f({payload:a,hasSourceSeo:c}){if(!c)return(0,b.jsx)("div",{className:"text-slate-500",children:"No scraped SEO fields were found on the source site."});let d=a.source_seo||{};return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("table",{className:"w-full text-sm border-collapse",children:(0,b.jsxs)("tbody",{children:[(0,b.jsx)(g,{label:"Source H1",value:d.source_h1}),(0,b.jsx)(g,{label:"Title Tag",value:d.source_title_tag}),(0,b.jsx)(g,{label:"Meta Description",value:d.source_meta_description}),(0,b.jsx)(g,{label:"Canonical",value:d.canonical}),(0,b.jsx)(g,{label:"OG Title",value:d.og_title}),(0,b.jsx)(g,{label:"OG Description",value:d.og_description})]})}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["These SEO fields were extracted from the source website. They are"," ",(0,b.jsx)("strong",{children:"not generated or optimized by AvidiaTech"}),"."]})]})}function g({label:a,value:c}){return(0,b.jsxs)("tr",{className:"border-b last:border-none border-slate-200",children:[(0,b.jsx)("td",{className:"font-semibold p-1.5 align-top w-40 text-slate-700",children:a}),(0,b.jsx)("td",{className:"p-1.5 text-slate-800",children:c??(0,b.jsx)("span",{className:"text-slate-400",children:"-"})})]})}function h({payload:a,hasSpecs:c}){if(!c)return(0,b.jsx)("div",{className:"text-slate-500",children:"Specs not present in this extraction."});let d=a.specs_json||a.specs||a.specs_payload;return(0,b.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(d,null,2)})}function i({payload:a,hasVariants:c}){return c?(0,b.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(a.variants,null,2)}):(0,b.jsx)("div",{className:"text-slate-500",children:"No variants detected for this product."})}function j({rawJsonSource:a,hasRaw:c}){return c?(0,b.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(a,null,2)}):(0,b.jsx)("div",{className:"text-slate-500",children:"No raw payload available for this job."})}function k({diagnostics:a}){return a&&0!==Object.keys(a).length?(0,b.jsx)("pre",{className:"bg-amber-950 text-amber-50 p-3 rounded text-xs whitespace-pre-wrap break-words",children:JSON.stringify(a,null,2)}):(0,b.jsx)("div",{className:"text-slate-500",children:"No diagnostics were recorded for this extraction."})}function l({data:a,loading:d,collapsedLevels:e=1}){let[f,g]=c.default.useState({}),[h,i]=c.default.useState(""),[j,k]=c.default.useState(!1),[l,n]=c.default.useState(!1),{displayRoot:o,rootLabel:p,envelope:q}=c.default.useMemo(()=>(function(a){if(a&&"object"==typeof a&&!Array.isArray(a)&&"data"in a&&a.data&&"object"==typeof a.data){let b=a.data;return"normalized_payload"in b&&b.normalized_payload?{displayRoot:b.normalized_payload,rootLabel:"data.normalized_payload",envelope:a}:{displayRoot:b,rootLabel:"data",envelope:a}}return{displayRoot:a,rootLabel:"root",envelope:null}})(a),[a]),r=j&&q?q:o,s=j&&q?"full response":p,t=null!=r&&("object"!=typeof r||null===r||0!==Object.keys(r).length),u=h.trim().toLowerCase();c.default.useEffect(()=>{n(!1)},[r]);let v=c.default.useCallback(()=>{try{let a=JSON.stringify(r,null,2);"undefined"!=typeof navigator&&navigator.clipboard&&(navigator.clipboard.writeText(a),n(!0),setTimeout(()=>n(!1),1500))}catch{}},[r]),w=c.default.useCallback(()=>{try{let a=JSON.stringify(r,null,2),b=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="ingestion.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch{}},[r]);return d?(0,b.jsx)("div",{className:"text-xs text-neutral-300",children:"Loading JSONâ€¦"}):t?(0,b.jsxs)("div",{className:"text-xs text-neutral-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-neutral-400",children:"Root"}),(0,b.jsx)("code",{className:"px-1.5 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-[11px]",children:s})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Search key or value",className:"bg-neutral-900 border border-neutral-700 rounded px-2 py-1 text-[11px] text-neutral-100 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),q&&(0,b.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:`px-2 py-1 rounded text-[11px] border ${j?"bg-neutral-200 text-neutral-900 border-neutral-300":"bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800"}`,children:j?"Focused view":"Full response"}),(0,b.jsx)("button",{type:"button",onClick:v,className:"px-2 py-1 rounded text-[11px] border bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800",children:l?"Copied":"Copy JSON"}),(0,b.jsx)("button",{type:"button",onClick:w,className:"px-2 py-1 rounded text-[11px] border bg-neutral-900 text-neutral-100 border-neutral-700 hover:bg-neutral-800",children:"Download JSON"})]})]}),(0,b.jsx)("div",{className:"bg-neutral-900/60 border border-neutral-700 rounded-md p-3 font-mono overflow-auto max-h-[460px]",children:(0,b.jsx)(m,{name:void 0,value:r,path:"$",level:0,expandedState:f,toggle:a=>{g(b=>({...b,[a]:!b[a]}))},defaultExpandedLevels:e,filter:u})})]}):(0,b.jsx)("div",{className:"text-xs text-neutral-400",children:"No JSON data available."})}function m({name:a,value:c,path:d,level:e,expandedState:f,toggle:g,defaultExpandedLevels:h,filter:i}){let j=o(c),k="object"===j||"array"===j,l=14*e,p=f[d]??(!!i||e<h),q=void 0!==a?a:void 0,r=!!i&&function(a,b,c){if(!c)return!1;let d=c.toLowerCase();if(a&&a.toLowerCase().includes(d))return!0;if(null==b)return!1;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return String(b).toLowerCase().includes(d);try{return JSON.stringify(b).toLowerCase().includes(d)}catch{return!1}}(q,c,i);if(!k)return(0,b.jsxs)("div",{style:{paddingLeft:l},className:`leading-5 ${i&&r?"bg-amber-900/60":""}`,children:[void 0!==q&&(0,b.jsxs)("span",{className:"text-sky-300 mr-1",children:[JSON.stringify(q),":"]}),(0,b.jsx)(n,{value:c})]});let s="object"===j?Object.entries(c):c.map((a,b)=>[String(b),a]),t="object"===j?"}":"]",u="object"===j?`${s.length} key${1===s.length?"":"s"}`:`${s.length} item${1===s.length?"":"s"}`;return(0,b.jsxs)("div",{className:"leading-5",children:[(0,b.jsxs)("div",{style:{paddingLeft:l},className:`cursor-pointer select-none flex items-start gap-1 rounded-sm ${i&&r?"bg-amber-900/60":"hover:bg-neutral-800/60"}`,onClick:()=>{k&&g(d)},children:[(0,b.jsx)("span",{className:"mt-[1px] text-neutral-400",children:p?"â–¾":"â–¸"}),(0,b.jsxs)("div",{children:[void 0!==q&&(0,b.jsxs)("span",{className:"text-sky-300 mr-1",children:[JSON.stringify(q),":"]}),(0,b.jsx)("span",{className:"text-neutral-300",children:"object"===j?"{":"["}),(0,b.jsx)("span",{className:"ml-1 text-[11px] text-neutral-500",children:u}),(0,b.jsxs)("span",{className:"text-neutral-300",children:[!p&&s.length>0?" â€¦":"",0===s.length&&t]})]})]}),p&&s.length>0&&(0,b.jsxs)("div",{children:[s.map(([a,c],k)=>{let l=`${d}.${a}`,n=k===s.length-1;return(0,b.jsxs)("div",{children:[(0,b.jsx)(m,{name:"array"===j?void 0:a,value:c,path:l,level:e+1,expandedState:f,toggle:g,defaultExpandedLevels:h,filter:i}),!n&&(0,b.jsx)("span",{style:{paddingLeft:(e+1)*14},className:"text-neutral-500",children:","})]},l)}),(0,b.jsx)("div",{style:{paddingLeft:l},className:"text-neutral-300",children:t})]})]})}function n({value:a}){let c=o(a);return null===a?(0,b.jsx)("span",{className:"text-amber-300",children:"null"}):"string"===c?(0,b.jsx)("span",{className:"text-emerald-300",children:JSON.stringify(a)}):"number"===c?(0,b.jsx)("span",{className:"text-orange-300",children:String(a)}):"boolean"===c?(0,b.jsx)("span",{className:"text-indigo-300",children:String(a)}):(0,b.jsx)("span",{className:"text-neutral-300",children:JSON.stringify(a)})}function o(a){if(null===a)return"null";if(Array.isArray(a))return"array";let b=typeof a;return"string"===b?"string":"number"===b?"number":"boolean"===b?"boolean":"object"===b?"object":"other"}function p({onJobCreated:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)("JSON"),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null);async function l(){if(!d)return void k("Please enter a URL");k(null),i(!0);try{let b={url:d,export_type:f,correlationId:`corr_${Date.now()}`,fullExtract:!0},c=await fetch("/api/v1/ingest",{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(b)}),e=await c.json().catch(()=>null);if(!c.ok){let a=e?.error||e?.message||`Ingest failed (${c.status})`;k(a);return}let g=e?.jobId||e?.job_id||e?.id;g?a(String(g),d):k("Ingest succeeded but no job id returned")}catch(a){k(String(a?.message||a))}finally{i(!1)}}return(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(0,b.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,b.jsx)("input",{"aria-label":"Product URL to ingest",value:d,onChange:a=>e(a.target.value),placeholder:"https://manufacturer.com/product/xyz",style:{flex:1,padding:"8px 12px",borderRadius:6,border:"1px solid #d1d5db"},onKeyDown:a=>{"Enter"===a.key&&l()}}),(0,b.jsx)("button",{onClick:l,disabled:h,style:{padding:"8px 14px",background:"#2563eb",color:"white",borderRadius:6},children:h?"Extractingâ€¦":"Extract Product"})]}),(0,b.jsx)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),style:{marginLeft:"auto",padding:6},children:[(0,b.jsx)("option",{value:"JSON",children:"JSON"}),(0,b.jsx)("option",{value:"Shopify",children:"Shopify"}),(0,b.jsx)("option",{value:"BigCommerce",children:"BigCommerce"})]})}),j&&(0,b.jsx)("div",{style:{color:"crimson"},children:j})]})}function q(...a){return a.filter(Boolean).join(" ")}function r(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),{row:j,loading:k,error:m}=function(a,b=1500){let[d,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let c;if(!a){e(null),g(!1),i(null);return}let d=!0,f=async()=>{g(!0);try{let h=await fetch(`/api/v1/ingest/${encodeURIComponent(a)}`);if(!h.ok){let a=await h.text().catch(()=>"");throw Error(`status fetch failed: ${h.status} ${a}`)}let j=await h.json(),k=j?.job?j.job:j;if(!d)return;e(k),i(null),g(!1),k.status&&"pending"!==k.status||(c=window.setTimeout(f,b))}catch(a){if(!d)return;i(String(a?.message||a)),g(!1),c=window.setTimeout(f,2*b)}};return f(),()=>{d=!1,c&&window.clearTimeout(c)}},[a,b]),{row:d,loading:f,error:h}}(f,1500),[n,o]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1);function v(a){if(!a)return null;let b=a.data??a;return b.normalized_payload??b}let w=(0,c.useMemo)(()=>n?v(n):j?v(j):null,[n,j]),x=w?.name_best??w?.name_raw??w?.name,y=w?.features_html??w?.features_structured??w?.features_raw,z=w?.pdf_manual_urls??w?.pdfs??w?.manuals??[],A=w?.images??[],B=w?.quality_score,C=w?.needs_review;(0,c.useEffect)(()=>{if(!f||!h)return;let a=!0;return(async()=>{u(!0),s(null);try{let b=`/api/v1/ingest/${encodeURIComponent(f)}?url=${encodeURIComponent(h)}`,c=await fetch(b,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}}),d=await c.text().catch(()=>"");if(!a)return;if(!c.ok){let a=`preview fetch failed (${c.status})`;try{let b=JSON.parse(d||"{}");a=b?.error||a}catch{}s(a),u(!1);return}try{let a=JSON.parse(d||"{}");o(a)}catch{s("Preview returned non-JSON response")}}catch(b){if(!a)return;s(String(b?.message||b))}finally{a&&u(!1)}})(),()=>{a=!1}},[f,h]);let D=(0,c.useMemo)(()=>n?v(n)??n:j?v(j)??j:{},[n,j]),E=j?.status??(n?"preview-only":null),F=k||t?"bg-amber-400 animate-pulse":w?"bg-emerald-500 dark:bg-emerald-400":"bg-slate-400",G=k||t?"Fetching extraction previewâ€¦":w?"Extraction ready":"Awaiting first URL";return(0,b.jsxs)("main",{className:"relative min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -top-40 -left-32 h-96 w-96 rounded-full bg-cyan-300/25 blur-3xl dark:bg-cyan-500/18"}),(0,b.jsx)("div",{className:"absolute -bottom-44 right-[-10rem] h-[28rem] w-[28rem] rounded-full bg-violet-300/25 blur-3xl dark:bg-violet-500/16"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.92)_58%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_58%,_rgba(15,23,42,1)_100%)]"}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.045] dark:opacity-[0.065]",children:(0,b.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,b.jsxs)("div",{className:"relative mx-auto max-w-7xl space-y-6 px-4 pt-4 pb-8 lg:px-8 lg:pt-6 lg:pb-10",children:[(0,b.jsx)("section",{className:"rounded-[28px] bg-gradient-to-r from-cyan-200/60 via-sky-200/35 to-emerald-200/60 p-[1px] shadow-2xl shadow-slate-200/70 dark:from-cyan-500/22 dark:via-sky-500/14 dark:to-emerald-500/22 dark:shadow-slate-950/70",children:(0,b.jsxs)("div",{className:"rounded-[27px] border border-white/50 bg-white/75 p-4 backdrop-blur-xl dark:border-slate-800/60 dark:bg-slate-950/52 lg:p-5",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-cyan-400/60 bg-white/80 px-3 py-1.5 text-[11px] font-medium uppercase tracking-[0.18em] text-cyan-800 shadow-sm dark:border-cyan-500/45 dark:bg-slate-950/55 dark:text-cyan-100",children:[(0,b.jsx)("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full border border-cyan-400/60 bg-slate-100 dark:bg-slate-900",children:(0,b.jsx)("span",{className:"h-2 w-2 animate-pulse rounded-full bg-cyan-500 dark:bg-cyan-400"})}),"AvidiaTech â€¢ AvidiaExtract"]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),"Ingest engine â€¢ JSON-first"]}),E&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:["Status:",(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase text-cyan-700 dark:text-cyan-200",children:E})]})]}),(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/55 dark:text-slate-300",children:[(0,b.jsx)("span",{className:q("h-1.5 w-1.5 rounded-full",F)}),(0,b.jsx)("span",{children:G})]})]}),(0,b.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-[minmax(0,1.15fr),minmax(0,0.85fr)] lg:items-start",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h1",{className:"text-2xl font-semibold leading-tight text-slate-900 lg:text-3xl dark:text-slate-50",children:["Extract everything from a"," ",(0,b.jsx)("span",{className:"bg-gradient-to-r from-cyan-500 via-sky-500 to-emerald-400 bg-clip-text text-transparent dark:from-cyan-300 dark:via-sky-400 dark:to-emerald-300",children:"single manufacturer URL"})," ","â€” as clean, normalized JSON."]}),(0,b.jsx)("p",{className:"max-w-2xl text-sm text-slate-600 dark:text-slate-300",children:"Paste any product URL. AvidiaExtract hits your ingest engine, strips noise, standardizes specs, and streams back a JSON-first view that plugs into SEO, Describe, and any ecommerce stack."})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/85 p-4 shadow-xl shadow-slate-200/60 dark:border-slate-700/70 dark:bg-slate-950/60 dark:shadow-slate-950/70",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Extract launcher"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Submit a manufacturer URL; AvidiaExtract handles the rest."})]}),f&&(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Current job"}),(0,b.jsxs)("p",{className:"font-mono text-[10px] text-cyan-700 dark:text-cyan-200",children:[f.slice(0,10),"â€¦"]})]})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(p,{onJobCreated:function(a,b){g(String(a)),i(b),o(null),s(null)}})}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"Streams into the extraction canvas and JSON viewer below."}),(0,b.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-[10px] text-slate-600 shadow-sm dark:border-slate-700/70 dark:bg-slate-900/50 dark:text-slate-300",children:[(0,b.jsx)("span",{className:q("h-1.5 w-1.5 rounded-full",F)}),k||t?"Pipeline runningâ€¦":"Idle"]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,b.jsx)("p",{className:"mb-2 text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Quick start"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("div",{className:"mt-[1px] flex h-6 w-6 items-center justify-center rounded-lg border border-cyan-400/55 bg-cyan-500/10 text-[12px] font-semibold text-cyan-700 dark:border-cyan-400/40 dark:bg-cyan-500/15 dark:text-cyan-200",children:"1"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Step 1"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:"Paste a URL and submit."})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("div",{className:"mt-[1px] flex h-6 w-6 items-center justify-center rounded-lg border border-emerald-400/55 bg-emerald-500/10 text-[12px] font-semibold text-emerald-700 dark:border-emerald-400/40 dark:bg-emerald-500/15 dark:text-emerald-200",children:"2"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Step 2"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:"Review the canvas + JSON viewer in real time."})]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-cyan-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-cyan-500/30 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,b.jsx)("p",{className:"mb-1 font-semibold uppercase tracking-[0.18em] text-cyan-700 dark:text-cyan-200",children:"Example extraction"}),(0,b.jsx)("p",{className:"leading-relaxed",children:"Unified JSON with name, brand, attributes, features, manuals, images, and normalized specs â€” ready for any downstream module."})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-emerald-200 bg-white/80 px-4 py-4 text-[11px] text-slate-700 shadow-sm dark:border-emerald-400/30 dark:bg-slate-950/50 dark:text-slate-100",children:[(0,b.jsx)("p",{className:"mb-1 font-semibold text-emerald-700 dark:text-emerald-300",children:"Feeds the stack"}),(0,b.jsxs)("ul",{className:"list-inside list-disc space-y-1",children:[(0,b.jsx)("li",{children:"AvidiaDescribe for copy-first flows"}),(0,b.jsx)("li",{children:"AvidiaSEO for URL-first SEO pages"}),(0,b.jsx)("li",{children:"Any external store / PIM as JSON"})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-4 grid gap-3 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,b.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-cyan-400/70 bg-cyan-500/10 text-[12px] text-cyan-700 dark:bg-cyan-500/15 dark:text-cyan-200",children:"1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:"Opinionated normalization"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Predictable schema for specs, manuals, images, and attributes."})]})]}),(0,b.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,b.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-sky-400/70 bg-sky-500/10 text-[12px] text-sky-700 dark:bg-sky-500/15 dark:text-sky-200",children:"2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:"Debuggable end-to-end"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Canvas, tabs, and JSON viewer reflect the same job state."})]})]}),(0,b.jsxs)("div",{className:"inline-flex items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-3 py-3 text-[11px] text-slate-700 shadow-sm dark:border-slate-700/70 dark:bg-slate-950/50 dark:text-slate-50",children:[(0,b.jsx)("div",{className:"mt-[2px] flex h-5 w-5 items-center justify-center rounded-lg border border-emerald-400/70 bg-emerald-500/10 text-[12px] text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-200",children:"3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:"Built for downstream"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Reuse ingestionId with SEO, Describe, and any exporter."})]})]})]})]})}),(0,b.jsxs)("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[minmax(0,1.6fr),minmax(0,1.1fr)]",children:[(0,b.jsxs)("section",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-4 shadow-2xl shadow-slate-200/70 lg:p-5 dark:border-slate-700/70 dark:bg-slate-900/90 dark:shadow-slate-950/80",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Extraction canvas"}),(0,b.jsx)("p",{className:"mt-1 max-w-xl text-[11px] text-slate-600 dark:text-slate-400",children:"A human-readable view of the current extraction. Preview reflects the ingest engine directly; Tabs under this section expose raw and normalized variants from your DB."})]}),f&&(0,b.jsxs)("div",{className:"ml-auto flex flex-col items-end gap-1",children:[(0,b.jsxs)("button",{onClick:()=>a.push(`/dashboard/seo?ingestionId=${encodeURIComponent(f)}`),className:"inline-flex items-center gap-1.5 rounded-lg bg-cyan-500 px-3 py-2 text-xs font-semibold text-slate-50 shadow-lg shadow-cyan-500/30 transition-transform hover:-translate-y-[1px] hover:bg-cyan-400 dark:text-slate-950",children:[(0,b.jsx)("span",{children:"Send to AvidiaSEO"}),(0,b.jsx)("span",{className:"text-[13px]",children:"â†—"})]}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"Reuses this ingestionId downstream."})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-slate-600 shadow-sm dark:border-slate-700 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,b.jsx)("span",{className:q("h-1.5 w-1.5 rounded-full",F)}),(0,b.jsx)("span",{children:G})]}),m&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-rose-300 bg-rose-50 px-3 py-1.5 text-rose-700 shadow-sm dark:border-rose-500/40 dark:bg-rose-950/70 dark:text-rose-100",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500 dark:bg-rose-400"}),"DB error: ",String(m)]}),r&&!t&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-amber-300 bg-amber-50 px-3 py-1.5 text-amber-700 shadow-sm dark:border-amber-500/40 dark:bg-amber-950/70 dark:text-amber-100",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-400"}),"Preview: ",r]})]}),(0,b.jsx)("div",{className:"mt-1",children:t?(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 shadow-sm dark:border-slate-700 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-cyan-400/50 border-t-transparent"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Loading preview from ingest engineâ€¦"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Tabs and JSON viewer update as soon as it returns."})]})]}):r&&!w?(0,b.jsxs)("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 p-4 text-sm text-amber-800 shadow-sm dark:border-amber-500/40 dark:bg-amber-950/55 dark:text-amber-50",children:["Preview error: ",r]}):w?(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 shadow-sm dark:border-slate-700 dark:bg-slate-950/70",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:x??"Untitled extraction"}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap gap-3 text-[11px] text-slate-600 dark:text-slate-300",children:[void 0!==B&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-300 bg-emerald-50 px-2.5 py-1 text-emerald-700 shadow-sm dark:border-emerald-400/40 dark:bg-slate-900/70 dark:text-emerald-100",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),"Quality score: ",(0,b.jsx)("span",{className:"font-semibold",children:B})]}),void 0!==C&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-300 bg-amber-50 px-2.5 py-1 text-amber-700 shadow-sm dark:border-amber-400/40 dark:bg-slate-900/70 dark:text-amber-100",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-400"}),"Needs manual review:"," ",(0,b.jsx)("span",{className:"font-semibold",children:String(!!C)})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Features (preview)"}),Array.isArray(y)?(0,b.jsxs)("ul",{className:"mt-2 space-y-1 text-xs text-slate-700 dark:text-slate-200",children:[y.slice(0,10).map((a,c)=>(0,b.jsx)("li",{className:"list-inside list-disc",children:"string"==typeof a?a:JSON.stringify(a)},c)),y.length>10&&(0,b.jsx)("li",{className:"text-slate-400",children:"â€¦truncated"})]}):"string"==typeof y?(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-700 dark:text-slate-200",children:y}):(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-400 dark:text-slate-500",children:"No features extracted yet."})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"mb-1 text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Images"}),(0,b.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2 sm:grid-cols-4",children:Array.isArray(A)&&A.length>0?A.slice(0,8).map((a,c)=>(0,b.jsx)("img",{src:a?.url??a,alt:`img-${c}`,className:"h-20 w-full rounded-lg border border-slate-200 bg-slate-100 object-cover dark:border-slate-700 dark:bg-slate-900"},c)):(0,b.jsx)("div",{className:"col-span-full text-xs text-slate-400 dark:text-slate-500",children:"No images detected."})})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"mb-1 text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Manuals & PDFs"}),(0,b.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:Array.isArray(z)&&z.length>0?z.slice(0,8).map((a,c)=>(0,b.jsxs)("a",{href:a,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-full border border-cyan-300 bg-cyan-50 px-3 py-1.5 text-[11px] text-cyan-800 shadow-sm hover:border-cyan-400 hover:text-cyan-900 dark:border-cyan-400/40 dark:bg-slate-900/70 dark:text-cyan-200 dark:hover:border-cyan-300",children:[(0,b.jsx)("span",{className:"text-[13px]",children:"ðŸ“„"}),(0,b.jsxs)("span",{children:["PDF ",c+1]})]},c)):(0,b.jsx)("span",{className:"ml-1 text-xs text-slate-400 dark:text-slate-500",children:"No manuals or PDFs found."})})]})]}):(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-500 shadow-sm dark:border-slate-700 dark:bg-slate-950/55 dark:text-slate-400",children:"Submit a product URL using the Extract launcher above. AvidiaExtract will display a human-friendly preview here and a full JSON view on the right."})}),(0,b.jsxs)("div",{id:"extract-results",className:"mt-2",children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-900 dark:text-slate-100",children:"Ingest row & raw views"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Tabs expose different slices of the same ingest row (normalized, raw HTML, logs, etc) to help you debug."})]}),(0,b.jsx)(e,{job:j,loading:k,error:m,noDataMessage:"Submit a URL to extract raw data"})]})]}),(0,b.jsxs)("aside",{className:"rounded-3xl border border-slate-200 bg-white p-4 shadow-2xl shadow-slate-200/80 lg:p-5 dark:border-slate-700/70 dark:bg-slate-900/95 dark:shadow-slate-950/80",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Normalized JSON viewer"}),(0,b.jsx)("p",{className:"mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"The exact payload your automations consume. Preferentially shows the normalized preview; falls back to the DB row when needed."})]}),(0,b.jsxs)("div",{className:"text-right text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("div",{children:f?(0,b.jsxs)(b.Fragment,{children:["Job:"," ",(0,b.jsxs)("span",{className:"font-mono text-[10px] text-cyan-700 dark:text-cyan-200",children:[f.slice(0,10),"â€¦"]})]}):"No job yet"}),(0,b.jsx)("div",{className:"mt-1",children:j?.status?`Status: ${j.status}`:""})]})]}),(0,b.jsxs)("div",{className:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-950/70",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-3 py-2 text-[11px] dark:border-slate-800",children:[(0,b.jsx)("span",{className:"uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Payload explorer"}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:n?"Preview â€¢ normalized":j?"DB row â€¢ normalized":"Awaiting first extraction"})]}),(0,b.jsx)("div",{className:"p-2",children:(0,b.jsx)(l,{data:D,loading:!j&&!!f&&!n})})]})]})]})]})]})}a.s(["default",()=>r,"dynamic",0,"force-dynamic"],15573)}];

//# sourceMappingURL=src_app_dashboard_extract_page_tsx_bbec5f95._.js.map
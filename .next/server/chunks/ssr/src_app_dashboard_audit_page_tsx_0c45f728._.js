module.exports=[82969,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944);let f=["extract","seo","audit"],g=["audit"];function h(a){return new Promise(b=>setTimeout(b,a))}function i(a){let b=(a||"").toLowerCase();return"critical"===b||"blocker"===b||"high"===b||"error"===b?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"warn"===b||"warning"===b||"medium"===b?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40"}function j(a){let b=(a||"").toLowerCase();return"running"===b?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/40 dark:text-amber-100 dark:border-amber-500/40":"failed"===b?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/40 dark:text-rose-100 dark:border-rose-500/40":"succeeded"===b||"completed"===b?"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-100 dark:border-emerald-500/40":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-950/40 dark:text-slate-300 dark:border-slate-800"}function k(...a){return a.filter(Boolean).join(" ")}function l({value:a}){let c=Math.max(0,Math.min(100,a));return(0,b.jsxs)("div",{className:"relative h-12 w-12 shrink-0 rounded-full border border-slate-200 bg-white/80 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",style:{background:`conic-gradient(from 225deg, rgba(249,115,22,0.95) ${c}%, rgba(226,232,240,1) 0)`},"aria-label":`Progress ${c}%`,title:`Progress ${c}%`,children:[(0,b.jsx)("div",{className:"absolute inset-1.5 rounded-full bg-slate-50 dark:bg-slate-950"}),(0,b.jsxs)("div",{className:"absolute inset-0 grid place-items-center text-[10px] font-semibold text-slate-700 dark:text-slate-200",children:[c,"%"]})]})}function m(){let a=(0,e.useSearchParams)(),m=(0,e.useRouter)(),n=a?.get("ingestionId")||"",o=a?.get("url")||"",p=a?.get("pipelineRunId")||"",[q,r]=(0,d.useState)(o?"url":"ingestion"),[s,t]=(0,d.useState)("extract_seo_audit"),[u,v]=(0,d.useState)(o||""),[w,x]=(0,d.useState)(n||""),[y,z]=(0,d.useState)(null),[A,B]=(0,d.useState)(p||""),[C,D]=(0,d.useState)(null),[E,F]=(0,d.useState)(!1),[G,H]=(0,d.useState)(!1),[I,J]=(0,d.useState)(null),[K,L]=(0,d.useState)(null),[M,N]=(0,d.useState)(null),[O,P]=(0,d.useState)(null),[Q,R]=(0,d.useState)(!1),[S,T]=(0,d.useState)("all"),[U,V]=(0,d.useState)(""),[W,X]=(0,d.useState)(!1),Y=(0,d.useCallback)(async a=>{F(!0);try{let b=await fetch(`/api/v1/ingest/${encodeURIComponent(a)}`),c=await b.json();if(!b.ok)throw Error(c?.error?.message||c?.error||`Ingest fetch failed: ${b.status}`);return z(c?.data??c),c?.data??c}finally{F(!1)}},[]),Z=(0,d.useCallback)(async a=>{let b=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(a)}`),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error?.message||c?.error||`Pipeline fetch failed: ${b.status}`);return c},[]);async function $(a,b=3e5,c=2e3){let d=Date.now();for(L("Pipeline running");Date.now()-d<b;){let b=await Z(a);D(b);let d=b?.run?.status;if("succeeded"===d||"failed"===d)return b;await h(c)}throw Error("Pipeline did not complete within timeout")}async function _(a,b=12e4,c=3e3){let d=Date.now();for(P(`polling job ${a}`),L("Scraping & normalizing");Date.now()-d<b;){let b=await fetch(`/api/v1/ingest/job/${encodeURIComponent(a)}`);if(200===b.status){let a=await b.json();return P(`completed: ingestionId=${a.ingestionId}`),L("Ingestion completed"),a}let e=Math.floor((Date.now()-d)/1e3);P(`waiting... ${e}s`),await h(c)}throw P("timeout"),L(null),Error("Ingestion did not complete within timeout")}async function aa(a){if(!a)throw Error("Please enter a URL");N(null),P(null),L("Submitting ingestion");let b=await fetch("/api/v1/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,persist:!0,options:{includeSeo:!0}})}),c=await b.json().catch(()=>null);if(N({status:b.status,body:c}),!b.ok)throw Error(c?.error?.message||c?.error||`Ingest failed: ${b.status}`);let d=c?.ingestionId??c?.id??c?.data?.id??c?.data?.ingestionId??null;if(d){if(c?.status==="accepted"||202===b.status){let a=c?.jobId??c?.ingestionId??d,b=await _(a,12e4,3e3);return b?.ingestionId??d}return d}let e=c?.jobId??c?.job?.id??null;if(!e)throw Error("Ingest did not return an ingestionId or jobId. See debug.");let f=await _(e,12e4,3e3),g=f?.ingestionId??f?.id??null;if(!g)throw Error("Polling returned no ingestionId.");return g}async function ab(a,b){L("Starting pipeline");let c=await fetch("/api/v1/pipeline/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingestionId:a,triggerModule:"audit",steps:b,options:{}})}),d=await c.json().catch(()=>null);if(!c.ok)throw Error(d?.error?.message||d?.error||`Pipeline start failed: ${c.status}`);let e=String(d?.pipelineRunId??"");if(!e)throw Error("Pipeline start did not return pipelineRunId");return B(e),e}async function ac(){if(!G){H(!0),J(null),L(null),D(null);try{let a=await aa(u);x(a),m.push(`/dashboard/audit?url=${encodeURIComponent(u)}&ingestionId=${encodeURIComponent(a)}`),await Y(a);let b=await ab(a,[...f]);m.push(`/dashboard/audit?url=${encodeURIComponent(u)}&ingestionId=${encodeURIComponent(a)}&pipelineRunId=${encodeURIComponent(b)}`),await $(b,3e5,2e3),await Y(a),L("Audit completed")}catch(a){J(String(a?.message||a)),L(null)}finally{H(!1),P(null)}}}async function ad(){if(!G){H(!0),J(null),L(null),D(null);try{let a=w.trim();if(!a)throw Error("Please enter an ingestionId");m.push(`/dashboard/audit?ingestionId=${encodeURIComponent(a)}`),await Y(a);let b="audit_only"===s?[...g]:[...f],c=await ab(a,b);m.push(`/dashboard/audit?ingestionId=${encodeURIComponent(a)}&pipelineRunId=${encodeURIComponent(c)}`),await $(c,3e5,2e3),await Y(a),L("Audit completed")}catch(a){J(String(a?.message||a)),L(null)}finally{H(!1),P(null)}}}(0,d.useEffect)(()=>{n&&(async()=>{try{await Y(n)}catch(a){J(String(a?.message||a))}})()},[n]),(0,d.useEffect)(()=>{p&&(async()=>{try{let a=await Z(p);D(a)}catch(a){J(String(a?.message||a))}})()},[p]);let ae=(0,d.useMemo)(()=>y?y?.data?.data?y.data.data:y?.data?y.data:y:null,[y]),af=ae?.diagnostics?.audit??null,ag=(0,d.useMemo)(()=>(function(a){let b=a??null;if(!b||"object"!=typeof b)return{ok:null,status:null,score:null,summary:null,blockers:[],warnings:[],checks:[],categories:[],issues:[],raw:a??null,lastRunAt:null};let c="number"==typeof b.score?b.score:null,d="string"==typeof b.status?b.status:"string"==typeof b.state?b.state:null,e="boolean"==typeof b.ok?b.ok:d?["passed","ok","success","completed"].includes(d.toLowerCase()):null,f=Array.isArray(b.blockers)?b.blockers:[],g=Array.isArray(b.warnings)?b.warnings:[],h=Array.isArray(b.issues)?b.issues:Array.isArray(b.findings)?b.findings:[],i=Array.isArray(b.checks)?b.checks:[],j=b.categories||b.categoryScores||null,k=Array.isArray(j)?j.map((a,b)=>({key:String(a.key??a.name??b),label:String(a.label??a.name??a.key??`Category ${b+1}`),score:"number"==typeof a.score?a.score:null,status:"string"==typeof a.status?a.status:null})):[],l="string"==typeof b.summary?b.summary:null,m="string"==typeof b.last_run_at?b.last_run_at:"string"==typeof b.lastRunAt?b.lastRunAt:"string"==typeof b.updated_at?b.updated_at:null;return{ok:e,status:d,score:c,summary:l,blockers:f,warnings:g,checks:i,categories:k,issues:h,raw:b,lastRunAt:m}})(af),[af]),ah=C?.run?.status??null,ai=(0,d.useMemo)(()=>{let a=new Map;for(let b of C?.modules??[])if(b.started_at&&b.finished_at){let c=new Date(b.finished_at).getTime()-new Date(b.started_at).getTime();!Number.isNaN(c)&&c>=0&&a.set(b.module_name,c)}return a},[C]),aj=(0,d.useMemo)(()=>{let a=C?.modules??[];if(!a.length)return 0;let b=0;for(let c of a)["succeeded","failed","skipped"].includes(c.status)&&b++;return Math.round(b/a.length*100)},[C]),ak=(0,d.useMemo)(()=>{let a=[];for(let b of ag.blockers??[])a.push({severity:"blocker",rule:"blocker",message:b,location:"audit"});for(let b of ag.warnings??[])a.push({severity:"warning",rule:"warning",message:b,location:"audit"});for(let b of ag.issues??[])a.push(b);return a},[ag.blockers,ag.issues,ag.warnings]),al=(0,d.useMemo)(()=>{let a=U.trim().toLowerCase();return ak.filter(b=>{let c=String(b?.severity??b?.level??"").toLowerCase();return("errors"!==S||!!(c.includes("block")||c.includes("crit")||c.includes("high")||c.includes("error")||c.includes("fail")))&&("warnings"!==S||!!(c.includes("warn")||c.includes("medium")))&&(!a||`${b?.rule??""} ${b?.message??""} ${b?.location??""}`.toLowerCase().includes(a))})},[ak,S,U]),am=null==ag.score?"slate":ag.score>=90?"emerald":ag.score>=75?"amber":"rose",an=(0,d.useMemo)(()=>({ingestionId:ae?.id??w??null,pipelineRunId:A||null,audit:ag.raw??null,diagnostics_audit:af??null,pipeline:C??null}),[ag.raw,af,w,ae?.id,A,C]),ao=async a=>{try{await navigator.clipboard.writeText(a),L("Copied to clipboard"),setTimeout(()=>L(null),1500)}catch{}},ap=String(ae?.id??w??""),aq=(ag.blockers??[]).length,ar=(ag.warnings??[]).length,as=Array.isArray(ag.checks)?ag.checks.length:0,at=G||E||O||"running"===ah?"Running…":A?"Ready":"Idle";return(0,b.jsxs)("main",{className:"jsx-ac095fdd7ad315db relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db pointer-events-none absolute inset-0 -z-10",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-36 -left-28 h-[26rem] w-[26rem] rounded-full bg-amber-300/28 blur-3xl dark:bg-amber-500/16"}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -top-28 right-[-10rem] h-[24rem] w-[24rem] rounded-full bg-orange-300/22 blur-3xl dark:bg-orange-500/12"}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute -bottom-48 right-[-12rem] h-[30rem] w-[30rem] rounded-full bg-pink-300/18 blur-3xl dark:bg-pink-500/10"}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.88)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_55%,_rgba(15,23,42,1)_100%)]"}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db absolute inset-0 opacity-[0.035] mix-blend-soft-light dark:opacity-[0.07]",children:(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mx-auto max-w-7xl space-y-5 px-4 py-6 sm:px-6 lg:px-10 lg:py-8",children:[(0,b.jsxs)("section",{className:"jsx-ac095fdd7ad315db flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-50 border border-amber-200 dark:bg-slate-900 dark:border-amber-400/30",children:(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("h-1.5 w-1.5 rounded-full",G?"bg-amber-400 animate-pulse":"bg-orange-400")||"")})}),"Data Intelligence · AvidiaAudit",ap?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("button",{type:"button",onClick:()=>ao(ap),title:"Copy ingestionId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:[ap.slice(0,8),"…"]})]}):null,A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("button",{type:"button",onClick:()=>ao(A),title:"Copy pipelineRunId",className:"jsx-ac095fdd7ad315db font-mono text-[10px] text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:["run:",A.slice(0,8),"…"]})]}):null]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db hidden sm:flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-slate-300 dark:bg-slate-700"}),at]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[K?(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1.5 text-[11px] text-amber-900 shadow-sm dark:border-amber-500/30 dark:bg-slate-950/70 dark:text-amber-100",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400 animate-pulse"}),K]}):null,(0,b.jsx)("button",{type:"button",onClick:async()=>{try{if(J(null),!A)return;let a=await Z(A);D(a),L("Snapshot refreshed"),setTimeout(()=>L(null),1500)}catch(a){J(String(a?.message||a))}},disabled:!A||G,title:"Refresh pipeline snapshot",className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white disabled:opacity-60 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:"Refresh"}),(0,b.jsx)("button",{type:"button",onClick:()=>X(a=>!a),className:"jsx-ac095fdd7ad315db inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[11px] text-slate-700 shadow-sm hover:bg-white dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200 dark:hover:bg-slate-950",children:W?"Hide dev panels":"Show dev panels"})]})]}),(0,b.jsx)("section",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 shadow-[0_18px_45px_rgba(148,163,184,0.22)] backdrop-blur dark:border-slate-800 dark:bg-slate-950/55 dark:shadow-[0_18px_45px_rgba(15,23,42,0.75)]",children:(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 p-4 lg:grid-cols-12 lg:gap-5 lg:p-5",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-2",children:[(0,b.jsxs)("h1",{className:"jsx-ac095fdd7ad315db text-xl font-semibold leading-tight text-slate-900 sm:text-2xl dark:text-slate-50",children:["Turn your product rules into a"," ",(0,b.jsx)("span",{style:{backgroundImage:"linear-gradient(90deg, rgba(251,191,36,1), rgba(249,115,22,1), rgba(236,72,153,1), rgba(251,191,36,1))"},className:"jsx-ac095fdd7ad315db audit-title-gradient bg-clip-text text-transparent",children:"measurable, enforceable audit score"}),"."]}),(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db max-w-2xl text-sm text-slate-600 dark:text-slate-300",children:"Run deterministic checks now (v1), persist a structured audit payload, and use it as a guardrail for safe automation. When audit fails, downstream modules can be skipped automatically."})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap gap-2 text-[11px]",children:[(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"URL flow"}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"ingest → extract → seo → audit"})]}),(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 dark:border-slate-800 dark:bg-slate-950/60 dark:text-slate-200",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:"Ingestion flow"}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"audit-only or full chain"})]}),(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-amber-950 dark:border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-100",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-400"}),"auditResult JSON per run"]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-white p-3 shadow-sm dark:border-slate-800 dark:bg-slate-950/50",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Run mode"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,b.jsx)("button",{type:"button",onClick:()=>r("url"),className:"jsx-ac095fdd7ad315db "+(k("px-3 py-1 rounded-full transition","url"===q?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From URL"}),(0,b.jsx)("button",{type:"button",onClick:()=>r("ingestion"),className:"jsx-ac095fdd7ad315db "+(k("px-3 py-1 rounded-full transition","ingestion"===q?"bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500 text-slate-950 shadow-sm":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white")||""),children:"From ingestionId"})]})]}),"url"===q?(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,b.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Manufacturer Product URL"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,b.jsx)("input",{value:u,onChange:a=>v(a.target.value),placeholder:"https://manufacturer.com/product/...",type:"url",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,b.jsx)("button",{type:"button",onClick:ac,disabled:G,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:G?"Running…":"Run Audit"})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-500",children:"Creates an ingestion + pipeline run, then persists an audit result to diagnostics."}),(0,b.jsx)("button",{type:"button",onClick:()=>v("https://www.apple.com/iphone-17/"),className:"jsx-ac095fdd7ad315db text-[11px] text-orange-700 hover:text-orange-600 underline underline-offset-4 dark:text-orange-300 dark:hover:text-orange-200",children:"Try demo URL"})]})]}):(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 space-y-2",children:[(0,b.jsx)("label",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"ingestionId"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col gap-2 sm:flex-row",children:[(0,b.jsx)("input",{value:w,onChange:a=>x(a.target.value),placeholder:"b0324634-1593-4fad-a9de-70215a2deb38",type:"text",className:"jsx-ac095fdd7ad315db w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-amber-400 focus:ring-2 focus:ring-amber-500/25 dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"}),(0,b.jsx)("button",{type:"button",onClick:ad,disabled:G,className:"jsx-ac095fdd7ad315db w-full rounded-xl px-4 py-3 text-sm font-semibold text-slate-950 shadow-sm transition hover:opacity-95 disabled:opacity-60 sm:w-48 bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500",children:G?"Running…":"Run Audit"})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 text-[11px] text-slate-600 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-slate-500 dark:text-slate-400",children:"Steps:"}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,b.jsx)("option",{value:"extract_seo_audit",className:"jsx-ac095fdd7ad315db",children:"extract + seo + audit"}),(0,b.jsx)("option",{value:"audit_only",className:"jsx-ac095fdd7ad315db",children:"audit only"})]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:async()=>{try{if(J(null),!w.trim())throw Error("Enter an ingestionId first.");await Y(w.trim()),L("Loaded ingestion")}catch(a){J(String(a?.message||a))}},className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Load existing"}),w?(0,b.jsx)("button",{type:"button",onClick:()=>ao(w),className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 hover:text-slate-700 underline underline-offset-4 dark:text-slate-400 dark:hover:text-slate-200",children:"Copy id"}):null]})]})]})]}),I?(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-800 shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50",children:I}):null]}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5",children:(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/60",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"Audit scoreboard"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-2 flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-semibold","emerald"===am?"bg-emerald-500/10 border-emerald-400/60 text-emerald-700 dark:text-emerald-200":"amber"===am?"bg-amber-500/10 border-amber-400/60 text-amber-700 dark:text-amber-200":"rose"===am?"bg-rose-500/10 border-rose-400/60 text-rose-700 dark:text-rose-200":"bg-slate-500/10 border-slate-400/60 text-slate-700 dark:text-slate-200")||""),children:null==ag.score?"—":`${ag.score} / 100`}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",j(ag.status??(!0===ag.ok?"passed":!1===ag.ok?"failed":"unknown")))||""),children:ag.status??(!0===ag.ok?"passed":!1===ag.ok?"failed":"unknown")}),aq?(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-2.5 py-1 text-[11px] text-rose-800 dark:border-rose-500/30 dark:bg-rose-950/40 dark:text-rose-100",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-rose-500"}),aq," blockers"]}):(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-2.5 py-1 text-[11px] text-emerald-800 dark:border-emerald-500/30 dark:bg-emerald-950/35 dark:text-emerald-100",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-emerald-500"}),"No blockers"]}),ar?(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-2.5 py-1 text-[11px] text-amber-800 dark:border-amber-500/30 dark:bg-amber-950/35 dark:text-amber-100",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-1.5 w-1.5 rounded-full bg-amber-500"}),ar," warnings"]}):null]}),(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-2 text-xs text-slate-600 dark:text-slate-300",children:ag.summary??"Run an audit to see a score, categories, and structured results."})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-col items-end gap-2",children:[(0,b.jsx)(l,{value:C?.modules?.length?aj:0}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-right text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db",children:"Last audit"}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db font-mono",children:ag.lastRunAt?new Date(ag.lastRunAt).toLocaleString():"—"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:"Pipeline progress"}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:C?.modules?.length?`${aj}%`:"—"})]}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,b.jsx)("div",{style:{width:`${aj}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]}),ag.categories?.length?(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:border-slate-800 dark:bg-slate-950/40",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Category scores"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:[ag.categories.length," categories"]})]}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-2 space-y-2",children:ag.categories.slice(0,6).map(a=>{let c=null==a.score?0:Math.max(0,Math.min(100,a.score));return(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db space-y-1",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between text-[11px]",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db truncate text-slate-700 dark:text-slate-200",children:a.label}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-500 dark:text-slate-400",children:null==a.score?"—":`${a.score}`})]}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db h-1.5 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,b.jsx)("div",{style:{width:`${c}%`},className:"jsx-ac095fdd7ad315db h-full bg-gradient-to-r from-amber-400 via-orange-500 to-pink-500"})})]},a.key)})})]}):null,(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 rounded-xl border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-700 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Gate policy"}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-slate-600 dark:text-slate-300",children:["If audit fails: ",(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Import"}),","," ",(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Monitor"}),", and ",(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-semibold",children:"Price"})," are skipped automatically."]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex flex-wrap gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{var a;let b,c,d;return a=`audit-${ae?.id??w??"unknown"}.json`,b=new Blob([JSON.stringify(an,null,2)],{type:"application/json"}),c=URL.createObjectURL(b),void((d=document.createElement("a")).href=c,d.download=a,d.click(),URL.revokeObjectURL(c))},className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-900 bg-slate-900 px-3 py-2 text-xs text-slate-50 shadow-sm hover:bg-slate-800 dark:border-white/20 dark:bg-white/5 dark:hover:bg-white/10",children:"Export JSON"}),(0,b.jsx)("button",{type:"button",onClick:()=>R(a=>!a),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-slate-100 px-3 py-2 text-xs text-slate-900 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-100",children:Q?"Hide raw":"Show raw"}),A?(0,b.jsx)("button",{type:"button",onClick:()=>ao(JSON.stringify(an,null,2)),title:"Copy full JSON payload",className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200",children:"Copy payload"}):null]}),Q?(0,b.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 max-h-[320px] overflow-auto rounded-xl border border-slate-200 bg-slate-900 p-3 text-[11px] text-slate-100 dark:border-slate-800",children:JSON.stringify(an,null,2)}):null,(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db",children:["Checks: ",as||"—"]}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db",children:O?`Ingest: ${O}`:ah?`Run: ${ah}`:""})]})]})})]})}),(0,b.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-5 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,b.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Live pipeline"}),(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Status, runtime, output refs — in the order your pipeline executed."})]}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("inline-flex items-center rounded-full border px-2.5 py-1 text-[11px]",j(ah??"idle"))||""),children:ah??"idle"})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-4 space-y-2",children:[(C?.modules??[]).slice().sort((a,b)=>a.module_index-b.module_index).map(a=>(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db group flex items-start justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 transition hover:bg-white dark:border-slate-800 dark:bg-slate-950/40 dark:hover:bg-slate-950/60",children:(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center gap-2",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("h-2 w-2 rounded-full","succeeded"===a.status?"bg-emerald-400":"failed"===a.status?"bg-rose-400":"running"===a.status?"bg-amber-400 animate-pulse":"bg-slate-400")||"")}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db font-semibold text-slate-900 dark:text-slate-50 truncate",children:[a.module_index,". ",function(a){switch(a){case"extract":return"Extract";case"seo":return"SEO";case"audit":return"Audit";case"import":return"Import";case"monitor":return"Monitor";case"price":return"Price";default:return a}}(a.module_name)]}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("ml-auto inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",j(a.status))||""),children:a.status})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1.5 flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono",children:function(a){if(null==a||Number.isNaN(a))return"—";if(a<1e3)return`${a}ms`;let b=Math.round(a/100)/10;return`${b}s`}(ai.get(a.module_name)??null)}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"jsx-ac095fdd7ad315db truncate",children:["output_ref:"," ",(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db font-mono text-slate-600 dark:text-slate-300",children:a.output_ref??"—"})]}),a.output_ref?(0,b.jsx)("button",{type:"button",onClick:()=>ao(String(a.output_ref)),title:"Copy output_ref",className:"jsx-ac095fdd7ad315db ml-auto rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-300 dark:hover:bg-slate-950",children:"Copy"}):null]}),a.error?(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-rose-700 dark:text-rose-200",children:["error: ","string"==typeof a.error?a.error:JSON.stringify(a.error)]}):null]})},`${a.module_index}-${a.module_name}`)),(C?.modules??[]).length?null:(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No pipeline run selected yet. Run an audit to see module telemetry."})]})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-7 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,b.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Issues"}),(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"Blockers and warnings (v1). Filter, search, and export for workflows."})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("select",{value:S,onChange:a=>T(a.target.value),className:"jsx-ac095fdd7ad315db rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60",children:[(0,b.jsx)("option",{value:"all",className:"jsx-ac095fdd7ad315db",children:"All"}),(0,b.jsx)("option",{value:"errors",className:"jsx-ac095fdd7ad315db",children:"Errors/Blockers"}),(0,b.jsx)("option",{value:"warnings",className:"jsx-ac095fdd7ad315db",children:"Warnings"})]}),(0,b.jsx)("input",{value:U,onChange:a=>V(a.target.value),placeholder:"Search issues…",className:"jsx-ac095fdd7ad315db w-44 rounded-lg border border-slate-200 bg-white px-2 py-1 text-[11px] dark:border-slate-800 dark:bg-slate-950/60"})]})]}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 overflow-auto rounded-2xl border border-slate-200 dark:border-slate-800",children:(0,b.jsxs)("table",{className:"jsx-ac095fdd7ad315db min-w-full text-xs",children:[(0,b.jsx)("thead",{className:"jsx-ac095fdd7ad315db sticky top-0 bg-slate-50 text-slate-600 dark:bg-slate-950/80 dark:text-slate-300",children:(0,b.jsxs)("tr",{className:"jsx-ac095fdd7ad315db",children:[(0,b.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Severity"}),(0,b.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Rule"}),(0,b.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Message"}),(0,b.jsx)("th",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-left font-semibold",children:"Location"})]})}),(0,b.jsx)("tbody",{className:"jsx-ac095fdd7ad315db bg-white dark:bg-slate-900/30",children:al.length?al.map((a,c)=>{let d=String(a?.severity??a?.level??"info");return(0,b.jsxs)("tr",{className:"jsx-ac095fdd7ad315db border-t border-slate-200 hover:bg-slate-50/60 dark:border-slate-800 dark:hover:bg-slate-950/40",children:[(0,b.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2",children:(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",i(d))||""),children:d})}),(0,b.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 font-mono text-[11px] text-slate-700 dark:text-slate-200",children:String(a?.rule??a?.key??"—")}),(0,b.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-700 dark:text-slate-200",children:String(a?.message??a?.detail??a?.text??"—")}),(0,b.jsx)("td",{className:"jsx-ac095fdd7ad315db px-3 py-2 text-slate-500 dark:text-slate-400",children:String(a?.location??a?.path??"—")})]},c)}):(0,b.jsx)("tr",{className:"jsx-ac095fdd7ad315db",children:(0,b.jsx)("td",{colSpan:4,className:"jsx-ac095fdd7ad315db px-3 py-4 text-slate-500 dark:text-slate-400",children:"No issues found (or run an audit to populate results)."})})})]})}),(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:"Current v1 audit derives issues from blockers/warnings. Future audit can emit richer issue objects."})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db",children:[(0,b.jsx)("h2",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Checks"}),(0,b.jsx)("p",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:"A per-check view you can trust for “go / no-go”."})]}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:Array.isArray(ag.checks)?`${ag.checks.length} checks`:"—"})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(ag.checks??[]).map((a,c)=>{let d=String(a?.status??"pass"),e="fail"===d?i("error"):"warn"===d?i("warning"):i("ok");return(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 dark:border-slate-800 dark:bg-slate-950/40",children:(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db min-w-0",children:[(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db truncate font-semibold text-slate-900 dark:text-slate-50",children:String(a?.label??a?.key??`Check ${c+1}`)}),a?.detail?(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db mt-1 text-[11px] text-slate-500 dark:text-slate-400",children:String(a.detail)}):null]}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db "+(k("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",e)||""),children:d})]})},`${a?.key??c}`)}),(ag.checks??[]).length?null:(0,b.jsx)("div",{className:"jsx-ac095fdd7ad315db rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-[11px] text-slate-500 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-400",children:"No checks available yet. Run an audit to populate."})]})]})]})]}),W?(0,b.jsxs)("section",{className:"jsx-ac095fdd7ad315db grid grid-cols-1 gap-4 lg:grid-cols-12",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Normalized payload"}),(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:"Ingestion"})]}),(0,b.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:ae?JSON.stringify(ae.normalized_payload??ae,null,2):"Run an audit to load ingestion data."})]}),(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db lg:col-span-6 rounded-3xl border border-slate-200 bg-white/92 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950/55",children:[(0,b.jsxs)("div",{className:"jsx-ac095fdd7ad315db flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"jsx-ac095fdd7ad315db text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Raw /api/v1/ingest"}),O?(0,b.jsx)("span",{className:"jsx-ac095fdd7ad315db text-[11px] text-slate-500 dark:text-slate-400",children:O}):null]}),(0,b.jsx)("pre",{className:"jsx-ac095fdd7ad315db mt-3 whitespace-pre-wrap break-words rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:M?JSON.stringify(M,null,2):"Shown when you run from URL."})]})]}):null]}),(0,b.jsx)(c.default,{id:"ac095fdd7ad315db",children:".audit-title-gradient.jsx-ac095fdd7ad315db{filter:drop-shadow(0 10px 26px #f973162e);background-size:220% 220%;animation:7s ease-in-out infinite auditGradientShift}@keyframes auditGradientShift{0%{background-position:0%;transform:translateZ(0)scale(1)}50%{background-position:100%;transform:translateZ(0)scale(1.01)}to{background-position:0%;transform:translateZ(0)scale(1)}}"})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_app_dashboard_audit_page_tsx_0c45f728._.js.map
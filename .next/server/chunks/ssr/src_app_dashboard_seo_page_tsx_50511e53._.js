module.exports=[73666,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let a=(0,d.useSearchParams)(),e=(0,d.useRouter)(),f=a?.get("ingestionId")||null,g=a?.get("url")||null,[h,i]=(0,c.useState)(g||""),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("idle"),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F]=(0,c.useState)(g||""),G=(0,c.useCallback)(async(a,b=()=>!1)=>{m(!0),q(null),s("Refreshing ingestion");try{let c=await fetch(`/api/v1/ingest/${encodeURIComponent(a)}`),d=await c.json();if(!c.ok)throw Error(d?.error?.message||d?.error||`Ingest fetch failed: ${c.status}`);b()||(k(d?.data??d),s("Ingestion ready"))}catch(a){b()||(q(String(a?.message||a)),s(null))}finally{b()||m(!1)}},[]);async function H(a,b=!0){if(!n){o(!0),q(null),E(!1),s("Generating AvidiaSEO");try{if(b){let b=await c(!0);if(b.ok){E(!1);let c=b.json?.seo_payload??b.json?.seoPayload??null,d=b.json?.description_html??b.json?.descriptionHtml??null,f=b.json?.features??null;(c||d||f)&&(k(a=>({...a||{},seo_payload:c??a?.seo_payload??null,description_html:d??a?.description_html??null,features:f??a?.features??null})),s("SEO persisted to Supabase")),await G(a),e.push(`/dashboard/seo?ingestionId=${encodeURIComponent(a)}`);return}let d=b.json?.error?.code??"";if(401===b.status||"UNAUTHORIZED_TO_PERSIST"===d||403===b.status){let a=await c(!1);if(a.ok){E(!0);let b=a.json,c={...j||{},seo_payload:b?.seoPayload??b?.seo_payload??b,description_html:b?.descriptionHtml??b?.description_html??b?.descriptionHtml??b?.description_html,_debug:b?._debug??null};k(c),q("Preview generated. Sign in to persist SEO for this ingestion."),s("Preview SEO ready");return}q(a.json?.error?.message??`Preview failed: ${a.status}`),s(null);return}q(b.json?.error?.message??`SEO generation failed: ${b.status}`),s(null);return}let d=await c(!1);if(d.ok){E(!0);let a=d.json,b={...j||{},seo_payload:a?.seoPayload??a?.seo_payload??a,description_html:a?.descriptionHtml??a?.description_html??a};k(b),s("Preview SEO ready")}else q(d.json?.error?.message??`SEO preview failed: ${d.status}`),s(null)}catch(a){q(String(a?.message||a)),s(null)}finally{o(!1)}}async function c(b){try{let c=await fetch("/api/v1/seo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingestionId:a,persist:b})}),d=await c.json().catch(()=>null);return{status:c.status,ok:c.ok,json:d,rawStatus:c.status}}catch(a){return{status:0,ok:!1,json:null,error:String(a)}}}}async function I(a,b=12e4,c=3e3){let d=Date.now();for(C(`polling job ${a}`),s("Scraping & normalizing");Date.now()-d<b;){try{let b=await fetch(`/api/v1/ingest/job/${encodeURIComponent(a)}`);if(200===b.status){let a=await b.json();return C(`completed: ingestionId=${a.ingestionId}`),s("Ingestion completed"),a}let c=Math.floor((Date.now()-d)/1e3);C(`waiting... ${c}s`)}catch(a){console.warn("pollForIngestion error",a),C(`error polling: ${String(a)}`),s(null)}await new Promise(a=>setTimeout(a,c))}throw C("timeout"),s(null),Error("Ingestion did not complete within timeout")}async function J(a){if(!n){if(!a)return void q("Please enter a URL");o(!0),q(null),A(null),C(null),s("Submitting ingestion");try{let b,c=await fetch("/api/v1/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,persist:!0,options:{includeSeo:!0}})}),d=await c.json().catch(()=>null);if(console.debug("POST /api/v1/ingest response:",c.status,d),A({status:c.status,body:d}),s("Ingestion accepted; waiting for callback"),!c.ok)return void q(d?.error?.message||d?.error||`Ingest failed: ${c.status}`);let f=d?.ingestionId??d?.id??d?.data?.id??d?.data?.ingestionId??null;if(f){if(e.push(`/dashboard/seo?ingestionId=${encodeURIComponent(f)}`),d?.status!=="accepted"&&202!==c.status)return void await H(f,!0);{let a=d?.jobId??d?.ingestionId??f;try{let b=await I(a,12e4,3e3),c=b?.ingestionId??f;e.push(`/dashboard/seo?ingestionId=${encodeURIComponent(c)}`),await H(c,!0);return}catch(a){q(String(a?.message||a));return}}}let g=d?.jobId??d?.job?.id??null;if(!g)return void q("Ingest did not return an ingestionId or jobId. See debug pane.");try{b=await I(g,12e4,3e3)}catch(a){q(String(a?.message||a));return}let h=b?.ingestionId??b?.id??null;if(!h)return void q("Polling returned no ingestionId. See debug pane.");e.push(`/dashboard/seo?ingestionId=${encodeURIComponent(h)}`),await H(h,!0)}catch(a){q(String(a?.message||a))}finally{o(!1),C(null)}}}async function K(){q(null);let a=F&&h===F;f&&a?await H(f,!0):(k(null),E(!1),A(null),C(null),s(null),await J(h))}(0,c.useEffect)(()=>{if(!f)return;let a=!1;return s("Loading ingestion"),G(f,()=>a),()=>{a=!0}},[G,f]);let L=(0,c.useMemo)(()=>j?j?.data?.data?j.data.data:j?.data?j.data:j:null,[j]),M=L?.seo_payload??L?.seoPayload??null,N=L?.description_html??L?.descriptionHtml??L?.seo_payload?.description_html??L?._debug?.description_html??null,O="string"==typeof N&&N.trim().length>0?N:null,P=(0,c.useMemo)(()=>Array.isArray(L?.features)?L.features:Array.isArray(L?.seo_payload?.features)?L.seo_payload.features:null,[L]),Q=(0,c.useMemo)(()=>{if(!O)return"<em>No description generated yet</em>";if(!t)return O;try{let a=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),b=RegExp(`(${a})`,"gi");return O.replace(b,'<mark class="bg-amber-200 text-gray-900 px-1 rounded-sm">$1</mark>')}catch(a){return console.warn("Unable to highlight search term",a),O}},[O,t]),R=["h1","pageTitle","title","metaDescription","meta_description","seoShortDescription","seo_short_description","keywords","slug","name_best"],S=(0,c.useMemo)(()=>M&&"object"==typeof M?Object.entries(M).filter(([a])=>!R.includes(a)):[],[M]),T=async()=>{if(O)try{await navigator.clipboard.writeText(O),w("copied"),setTimeout(()=>w("idle"),1500)}catch(a){console.error("copy failed",a),w("error"),setTimeout(()=>w("idle"),1500)}},U=!!(M||O||P),V=(0,c.useMemo)(()=>[{key:"scrape",label:"Scraping & Normalizing",state:l||B?"active":L?.status==="completed"||L?.normalized_payload?"done":"idle",hint:B||L?.status||"waiting"},{key:"seo",label:"AvidiaSEO Generation",state:n?"active":U?"done":"idle",hint:n?"Calling central GPT":U?"SEO saved":"ready"},{key:"review",label:"Human-ready Preview",state:U?"done":"idle",hint:U?"Rendered":"awaiting generation"}],[n,U,L?.normalized_payload,L?.status,l,B]);return(0,b.jsxs)("main",{className:"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -top-32 -left-24 h-72 w-72 rounded-full bg-cyan-300/22 blur-3xl dark:bg-cyan-500/15"}),(0,b.jsx)("div",{className:"absolute -bottom-24 right-0 h-72 w-72 rounded-full bg-emerald-300/20 blur-3xl dark:bg-emerald-500/10"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.9)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.9)_55%,_rgba(15,23,42,1)_100%)]"}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.04] dark:opacity-[0.08]",children:(0,b.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:42px_42px] dark:bg-[linear-gradient(to_right,#1f2937_1px,transparent_1px),linear-gradient(to_bottom,#1f2937_1px,transparent_1px)]"})})]}),(0,b.jsxs)("div",{className:"relative mx-auto max-w-7xl px-4 pt-4 pb-8 space-y-6 lg:px-8 lg:pt-6 lg:pb-10",children:[(0,b.jsxs)("section",{className:"relative flex flex-col gap-6 lg:flex-row lg:items-stretch",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-[260px] space-y-4",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-cyan-300/70 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-cyan-500/40 dark:bg-slate-950/80 dark:text-cyan-100",children:[(0,b.jsx)("span",{className:"inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-100 border border-cyan-300 dark:bg-slate-900 dark:border-cyan-400/60",children:(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse"})}),"AvidiaTech • AvidiaSEO",f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"font-mono text-[10px]",children:[f.slice(0,8),"…"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-900 leading-tight dark:text-slate-50",children:["Turn any manufacturer URL into a"," ",(0,b.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-500 via-sky-500 to-emerald-400 dark:from-cyan-300 dark:via-sky-400 dark:to-emerald-300",children:"production-ready SEO page"}),"."]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 max-w-xl dark:text-slate-300",children:"Paste a product URL and fire the whole pipeline: ingestion, cleanup, and compliant copy — rendered exactly how your store needs it. No prompts, no copy-paste gymnastics."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 text-[11px]",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70",children:[(0,b.jsx)("span",{className:"h-5 w-5 rounded-lg bg-cyan-500/10 border border-cyan-300 flex items-center justify-center text-[13px] text-cyan-700 dark:bg-cyan-500/15 dark:border-cyan-500/40 dark:text-cyan-100",children:"1"}),(0,b.jsxs)("div",{className:"space-y-0",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Ingest engine native"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px] dark:text-slate-400",children:"Reuses the same ingestion layer powering AvidiaExtract."})]})]}),(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70",children:[(0,b.jsx)("span",{className:"h-5 w-5 rounded-lg bg-sky-500/10 border border-sky-300 flex items-center justify-center text-[13px] text-sky-700 dark:bg-sky-500/15 dark:border-sky-500/40 dark:text-sky-100",children:"2"}),(0,b.jsxs)("div",{className:"space-y-0",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Custom GPT brain"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px] dark:text-slate-400",children:"Runs your instruction sheet, not a generic prompt."})]})]}),(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70",children:[(0,b.jsx)("span",{className:"h-5 w-5 rounded-lg bg-emerald-500/10 border border-emerald-300 flex items-center justify-center text-[13px] text-emerald-700 dark:bg-emerald-500/15 dark:border-emerald-500/40 dark:text-emerald-100",children:"3"}),(0,b.jsxs)("div",{className:"space-y-0",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"JSON + HTML ready"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px] dark:text-slate-400",children:"Mirrors your BigCommerce / automation schema."})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 pt-1",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 border border-cyan-200 px-3 py-1.5 text-[11px] shadow-sm dark:bg-slate-950/80 dark:border-cyan-500/30",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold text-cyan-700 uppercase tracking-[0.16em] dark:text-cyan-200",children:"Step 1"}),(0,b.jsxs)("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:["Paste the manufacturer URL in the"," ",(0,b.jsx)("span",{className:"font-semibold text-cyan-700 dark:text-cyan-200",children:"URL box directly below"}),"."]})]}),(0,b.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 text-[11px] text-slate-600 shadow-sm dark:bg-slate-950/80 dark:border-slate-700 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"text-xs",children:"⬇"}),(0,b.jsx)("span",{children:"Step 2 — hit “Generate & Save” for full cascade."})]}),r&&(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 border border-cyan-200 px-3 py-1.5 text-[11px] text-cyan-700 shadow-sm dark:bg-slate-950/80 dark:border-cyan-500/40 dark:text-cyan-100",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse"}),r]})]})]}),(0,b.jsxs)("div",{className:"w-full lg:w-[430px] xl:w-[480px] flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Real-time pipeline"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:l||n?"Running…":"Idle"})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"flex-1 rounded-2xl bg-white/95 border border-slate-200 px-4 py-3 space-y-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/80",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400",children:"3-step visual flow"}),(0,b.jsx)("ol",{className:"space-y-2.5 text-xs mt-1",children:V.map((a,c)=>{let d="done"===a.state,e="active"===a.state;return(0,b.jsxs)("li",{className:"flex items-center gap-3 relative",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:["flex h-7 w-7 items-center justify-center rounded-full border text-[11px] font-semibold shadow-sm",d?"bg-emerald-400 text-slate-900 border-emerald-300 shadow-emerald-500/40":e?"bg-cyan-500 text-slate-900 border-cyan-300 animate-pulse shadow-cyan-500/40":"bg-slate-100 text-slate-500 border-slate-300 dark:bg-slate-900 dark:text-slate-400 dark:border-slate-600"].join(" "),children:c+1}),c<V.length-1&&(0,b.jsx)("div",{className:["mt-1 h-6 w-px",d||e?"bg-gradient-to-b from-cyan-400 via-emerald-400 to-transparent":"bg-slate-200 dark:bg-slate-700"].join(" ")})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium text-slate-800 dark:text-slate-100",children:a.label}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:a.hint})]})]},a.key)})})]}),(0,b.jsxs)("div",{className:"flex-1 rounded-2xl bg-white/95 border border-slate-200 px-4 py-3 space-y-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/80",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Live pipeline status"}),l&&(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Loading…"})]}),(0,b.jsx)("div",{className:"space-y-2 mt-1",children:V.map(a=>(0,b.jsxs)("div",{className:`flex items-center justify-between px-3 py-1.5 rounded-xl border text-[11px] ${"done"===a.state?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-950/70 dark:border-emerald-500/40 dark:text-emerald-100":"active"===a.state?"bg-amber-50 border-amber-200 text-amber-700 dark:bg-amber-950/70 dark:border-amber-500/40 dark:text-amber-100":"bg-slate-50 border-slate-200 text-slate-600 dark:bg-slate-950/70 dark:border-slate-700 dark:text-slate-300"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`h-2 w-2 rounded-full ${"done"===a.state?"bg-emerald-400":"active"===a.state?"bg-amber-400 animate-pulse":"bg-slate-400 dark:bg-slate-500"}`}),(0,b.jsx)("span",{className:"font-medium",children:a.label})]}),(0,b.jsx)("span",{className:"text-[10px]",children:a.hint})]},a.key))}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 dark:text-slate-500",children:"Every state here reflects real ingestion + SEO calls — not a fake demo."})]})]})]})]}),p&&(0,b.jsx)("div",{className:"rounded-2xl border border-rose-300 bg-rose-50 text-rose-800 px-4 py-3 text-sm shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50",children:p}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 lg:p-5 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"One-click AvidiaSEO"}),(0,b.jsxs)("p",{className:"text-xs text-slate-600 max-w-xl dark:text-slate-400",children:["Step 1 — paste the manufacturer URL. Step 2 — hit"," ",(0,b.jsx)("span",{className:"font-semibold text-cyan-700 dark:text-cyan-300",children:"Generate & Save"}),". AvidiaSEO runs ingest → poll → GPT SEO in a single shot."]})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsx)("input",{value:h,onChange:a=>{i(a.target.value),k(null),E(!1),A(null),C(null),s(null),q(null)},placeholder:"https://manufacturer.com/product...",className:"w-full px-3 py-2 rounded-lg border border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/30 text-sm dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500",type:"url"}),(0,b.jsx)("button",{type:"button",onClick:a=>{a.preventDefault(),K()},disabled:n,className:"sm:w-48 w-full px-4 py-3 rounded-lg bg-cyan-500 text-slate-950 text-sm font-semibold shadow-sm hover:bg-cyan-400 disabled:opacity-60 disabled:shadow-none transition-transform hover:-translate-y-[1px]",children:n?"Generating…":"Generate & Save"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-500",children:"This always runs the full cascade for the current URL. If the URL matches an existing ingestion, AvidiaSEO reuses it."}),(0,b.jsx)("button",{type:"button",onClick:()=>{i("https://www.apple.com/iphone-17/"),k(null),E(!1),A(null),C(null),s("Demo URL loaded — hit Generate & Save"),q(null)},className:"text-[11px] text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200",children:"Try a demo URL"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white text-slate-900 shadow-sm p-5 border border-slate-200 dark:bg-slate-900/85 dark:text-white dark:border-slate-700/80",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] uppercase tracking-[0.22em] text-slate-500 mb-1 dark:text-slate-400",children:"Description window"}),(0,b.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold mb-1",children:"Premium HTML viewer"}),(0,b.jsx)("p",{className:"text-slate-600 text-xs max-w-2xl dark:text-slate-300",children:"See the final copy exactly as it will appear on a product page. Highlight any claim, copy it into your CMS, or export the HTML for your automation layer."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:T,disabled:!O,className:"px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 border border-slate-900 shadow-sm hover:bg-slate-800 disabled:opacity-40 dark:bg-white/5 dark:border-white/25 dark:text-white dark:hover:bg-white/10",children:"copied"===v?"Copied!":"error"===v?"Copy failed":"Copy description"}),(0,b.jsx)("button",{type:"button",onClick:()=>{if(!O)return;let a=new Blob([O],{type:"text/html"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`avidia-seo-description-${f||"preview"}.html`,c.click(),URL.revokeObjectURL(b)},disabled:!O,className:"px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 font-semibold border border-slate-900 shadow-sm hover:-translate-y-[1px] transition disabled:opacity-40 disabled:shadow-none dark:bg-white dark:text-slate-900 dark:border-white/30",children:"Download HTML"}),(0,b.jsx)("button",{type:"button",onClick:()=>u(a=>a.trim()),className:"px-3 py-2 rounded-lg bg-amber-400 text-xs text-slate-900 font-semibold shadow-sm hover:bg-amber-300",children:"Search in text"})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-3 py-2 dark:bg-white/5 dark:border-white/15",children:[(0,b.jsx)("input",{value:t,onChange:a=>u(a.target.value),placeholder:"Search headline, claims, or FAQs",className:"flex-1 bg-transparent text-xs text-slate-900 placeholder:text-slate-400 focus:outline-none dark:text-white dark:placeholder:text-slate-300"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-200",children:"Live highlight"})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white text-slate-900 shadow-inner border border-slate-200 overflow-hidden dark:bg-white dark:text-slate-900 dark:border-slate-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-100 bg-slate-50 dark:bg-slate-50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 mb-1",children:"Rendered description"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 m-0",children:"Mirrors your custom GPT instructions — headings, lists, disclaimers, and manuals stay structured."})]}),D&&(0,b.jsx)("span",{className:"px-3 py-1 rounded-full bg-amber-100 text-amber-700 text-[11px] font-semibold",children:"Preview only — sign in to persist"})]}),(0,b.jsx)("div",{className:"prose prose-slate max-w-none px-6 py-5 text-sm",children:O?(0,b.jsx)("article",{className:"prose-headings:scroll-mt-20 prose-h2:mt-6 prose-h3:mt-4 prose-ul:list-disc prose-li:marker:text-slate-400",dangerouslySetInnerHTML:{__html:Q}}):(0,b.jsx)("div",{className:"text-slate-500 text-sm italic",children:"No description generated yet. Paste a URL above and run the pipeline."})})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"SEO structure"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Driven by custom instructions"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"H1"}),(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:M?.h1??M?.name_best??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Page title"}),(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:M?.pageTitle??M?.title??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Meta description"}),(0,b.jsx)("p",{className:"text-slate-800 leading-relaxed dark:text-slate-100",children:M?.metaDescription??M?.meta_description??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Short description"}),(0,b.jsx)("p",{className:"text-slate-800 dark:text-slate-100",children:M?.seoShortDescription??M?.seo_short_description??"Not yet generated"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Feature bullets"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"What the enforcer kept"})]}),Array.isArray(P)&&P.length>0?(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-xs text-slate-800 dark:text-slate-100",children:P.map((a,c)=>(0,b.jsx)("li",{children:a},c))}):(0,b.jsx)("p",{className:"text-slate-500 text-xs dark:text-slate-400",children:"No features captured yet. Generate SEO to see normalized bullets."}),S.length>0&&(0,b.jsxs)("div",{className:"mt-3 border-t border-slate-200 pt-3 dark:border-slate-700",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>y(a=>!a),className:"text-xs text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200",children:[x?"Hide":"Show"," parked extras (",S.length,")"]}),x&&(0,b.jsx)("pre",{className:"mt-2 p-3 rounded-lg bg-slate-900 text-[11px] text-slate-100 border border-slate-700 overflow-auto dark:bg-slate-950/70",children:JSON.stringify(Object.fromEntries(S),null,2)})]})]}),L&&f&&(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Source SEO (scraped)"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Live from ingestion"})]}),(0,b.jsx)("pre",{className:"bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70",children:JSON.stringify(L.normalized_payload??L,null,2)})]}),z&&(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Raw /api/v1/ingest response"}),B&&(0,b.jsx)("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:B})]}),(0,b.jsx)("pre",{className:"bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70",children:JSON.stringify(z,null,2)})]}),j&&!f&&(j.seo_payload||j.seoPayload)&&(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-2 text-xs text-slate-800 dark:bg-slate-900/80 dark:border-slate-700/60 dark:text-slate-100",children:[(0,b.jsx)("h5",{className:"text-xs font-semibold text-slate-900 dark:text-slate-50",children:"Preview Generated SEO"}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"H1:"})," ",(j.seo_payload??j.seoPayload)?.h1??""]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Title:"})," ",(j.seo_payload??j.seoPayload)?.title??""]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Meta:"})," ",(j.seo_payload??j.seoPayload)?.meta_description??(j.seo_payload??j.seoPayload)?.metaDescription??""]}),(0,b.jsx)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-950/70",dangerouslySetInnerHTML:{__html:j.description_html||j.descriptionHtml||"<em>No description generated</em>"}})]})]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_dashboard_seo_page_tsx_50511e53._.js.map
module.exports=[73666,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944);let f=["extract","seo"],g=["extract","seo","audit","import","monitor","price"];function h(a){return new Promise(b=>setTimeout(b,a))}function i(a){if(!a)return null;let b=Date.parse(a);return Number.isFinite(b)?b:null}function j(a){if(!Number.isFinite(a)||a<0)return"—";let b=Math.floor(a/1e3);if(b<60)return`${b}s`;let c=Math.floor(b/60);return`${c}m ${b%60}s`}function k(){let a=(0,e.useSearchParams)(),k=(0,e.useRouter)(),l=a?.get("ingestionId")||null,m=a?.get("url")||null,n=a?.get("pipelineRunId")||null,[o,p]=(0,d.useState)(m||""),[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)(!1),[u,v]=(0,d.useState)(!1),[w,x]=(0,d.useState)(null),[y,z]=(0,d.useState)(null),[A,B]=(0,d.useState)(""),[C,D]=(0,d.useState)("idle"),[E,F]=(0,d.useState)(!1),[G,H]=(0,d.useState)(null),[I,J]=(0,d.useState)(null),[K]=(0,d.useState)(!1),[L,M]=(0,d.useState)(n),[N,O]=(0,d.useState)(null),[P,Q]=(0,d.useState)("quick"),[R,S]=(0,d.useState)(!0),[T,U]=(0,d.useState)(null),[V,W]=(0,d.useState)(()=>Date.now()),[X,Y]=(0,d.useState)(null),[Z,$]=(0,d.useState)([]),[_]=(0,d.useState)(m||"");(0,d.useEffect)(()=>{let a=setInterval(()=>W(Date.now()),1e3);return()=>clearInterval(a)},[]),(0,d.useEffect)(()=>{try{let a=localStorage.getItem("avidia:seo:recentUrls");if(!a)return;let b=JSON.parse(a);Array.isArray(b)&&$(b.filter(a=>"string"==typeof a).slice(0,6))}catch{}},[]);let aa=(0,d.useCallback)(async(a,b=()=>!1)=>{t(!0),x(null),z("Refreshing ingestion");try{let c=await fetch(`/api/v1/ingest/${encodeURIComponent(a)}`),d=await c.json();if(!c.ok)throw Error(d?.error?.message||d?.error||`Ingest fetch failed: ${c.status}`);b()||(r(d?.data??d),z("Ingestion ready"))}catch(a){b()||(x(String(a?.message||a)),z(null))}finally{b()||t(!1)}},[]),ab=(0,d.useCallback)(async a=>{let b=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(a)}`),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error?.message||c?.error||`Pipeline fetch failed: ${b.status}`);return c},[]);async function ac(a,b=18e4,c=2e3){let d=Date.now();for(z("Pipeline running");Date.now()-d<b;){let b=await ab(a);O(b),U(Date.now());let d=b?.run?.status;if("succeeded"===d||"failed"===d)return b;await h(c)}throw Error("Pipeline did not complete within timeout")}async function ad(a,b){Q(b),v(!0),x(null);let c="quick"===b?[...f]:[...g];z("quick"===b?"Starting Quick SEO pipeline":"Starting Full pipeline"),Y(Date.now());let d=await fetch("/api/v1/pipeline/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingestionId:a,triggerModule:"seo",steps:c,options:{seo:{profile:"medicalex_v1",strict:!0,model:null}}})}),e=await d.json().catch(()=>null);if(!d.ok)throw Error(e?.error?.message||e?.error||`Pipeline start failed: ${d.status}`);let h=e?.pipelineRunId?.toString?.()||"";if(!h)throw Error("Pipeline start did not return pipelineRunId");return M(h),U(Date.now()),k.push(`/dashboard/seo?ingestionId=${encodeURIComponent(a)}&pipelineRunId=${encodeURIComponent(h)}`),h}async function ae(a,b=12e4,c=3e3){let d=Date.now();for(J(`polling job ${a}`),z("Scraping & normalizing");Date.now()-d<b;){try{let b=await fetch(`/api/v1/ingest/job/${encodeURIComponent(a)}`);if(200===b.status){let a=await b.json();return J(`completed: ingestionId=${a.ingestionId}`),z("Ingestion completed"),a}let c=Math.floor((Date.now()-d)/1e3);J(`waiting... ${c}s`)}catch(a){console.warn("pollForIngestion error",a),J(`error polling: ${String(a)}`),z(null)}await h(c)}throw J("timeout"),z(null),Error("Ingestion did not complete within timeout")}async function af(a){if(!a)throw Error("Please enter a URL");x(null),H(null),J(null),z("Submitting ingestion");let b=await fetch("/api/v1/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,persist:!0,options:{includeSeo:!0}})}),c=await b.json().catch(()=>null);if(console.debug("POST /api/v1/ingest response:",b.status,c),H({status:b.status,body:c}),!b.ok)throw Error(c?.error?.message||c?.error||`Ingest failed: ${b.status}`);let d=c?.ingestionId??c?.id??c?.data?.id??c?.data?.ingestionId??null;if(d){if(c?.status==="accepted"||202===b.status){let a=c?.jobId??c?.ingestionId??d,b=await ae(a,12e4,3e3);return b?.ingestionId??d}return d}let e=c?.jobId??c?.job?.id??null;if(!e)throw Error("Ingest did not return an ingestionId or jobId. See debug pane.");let f=await ae(e,12e4,3e3),g=f?.ingestionId??f?.id??null;if(!g)throw Error("Polling returned no ingestionId. See debug pane.");return g}async function ag(a){let b;if(u)return;v(!0),x(null),O(null);let c=(o||"").trim();(b=(c||"").trim())&&$(a=>{let c=[b,...a.filter(a=>a!==b)].slice(0,6);try{localStorage.setItem("avidia:seo:recentUrls",JSON.stringify(c))}catch{}return c});try{let b=null,d=!!(_&&c===_);if(l&&d?b=l:(r(null),H(null),J(null),z(null),b=await af(c),k.push(`/dashboard/seo?ingestionId=${encodeURIComponent(b)}`)),!b)throw Error("No ingestionId available to run pipeline");await aa(b);let e=await ad(b,a);await ac(e,"quick"===a?18e4:3e5,2e3),await aa(b),z("quick"===a?"Quick SEO completed":"Full pipeline completed")}catch(a){x(String(a?.message||a)),z(null)}finally{v(!1),J(null)}}(0,d.useEffect)(()=>{if(!l)return;let a=!1;return z("Loading ingestion"),aa(l,()=>a),()=>{a=!0}},[aa,l]),(0,d.useEffect)(()=>{if(!L)return;let a=!1;return(async()=>{try{z("Loading pipeline run");let b=await ab(L);a||(O(b),U(Date.now()))}catch(b){a||x(String(b?.message||b))}})(),()=>{a=!0}},[ab,L]),(0,d.useEffect)(()=>{if(!L||!R)return;let a=!1,b=setInterval(async()=>{if(!a)try{let a=await ab(L);O(a),U(Date.now());let c=a?.run?.status;("succeeded"===c||"failed"===c)&&clearInterval(b)}catch{}},2e3);return()=>{a=!0,clearInterval(b)}},[R,ab,L]);let ah=(0,d.useMemo)(()=>q?q?.data?.data?q.data.data:q?.data?q.data:q:null,[q]),ai=ah?.seo_payload??ah?.seoPayload??null,aj=ah?.description_html??ah?.descriptionHtml??ah?.seo_payload?.description_html??ah?._debug?.description_html??null,ak="string"==typeof aj&&aj.trim().length>0?aj:null,al=(0,d.useMemo)(()=>Array.isArray(ah?.features)?ah.features:Array.isArray(ah?.seo_payload?.features)?ah.seo_payload.features:null,[ah]),am=(0,d.useMemo)(()=>{if(!ak)return"<em>No description generated yet</em>";if(!A)return ak;try{let a=A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),b=RegExp(`(${a})`,"gi");return ak.replace(b,'<mark class="bg-amber-200 text-gray-900 px-1 rounded-sm">$1</mark>')}catch(a){return console.warn("Unable to highlight search term",a),ak}},[ak,A]),an=["h1","pageTitle","title","metaDescription","meta_description","seoShortDescription","seo_short_description","keywords","slug","name_best"],ao=(0,d.useMemo)(()=>ai&&"object"==typeof ai?Object.entries(ai).filter(([a])=>!an.includes(a)):[],[ai]),ap=async()=>{if(ak)try{await navigator.clipboard.writeText(ak),D("copied"),setTimeout(()=>D("idle"),1500)}catch(a){console.error("copy failed",a),D("error"),setTimeout(()=>D("idle"),1500)}},aq=async()=>{try{let a=(await navigator.clipboard.readText()||"").trim();if(!a)return;p(a),r(null),H(null),J(null),z("Pasted from clipboard — choose Quick SEO or Full Pipeline"),x(null),M(null),O(null)}catch{}},ar=!!(ai||ak||al),as=(0,d.useMemo)(()=>{let a=new Map;for(let b of N?.modules??[])a.set(b.module_name,b);return a},[N]),at=(0,d.useMemo)(()=>{let a=new Set((N?.modules??[]).map(a=>a.module_name));if(a.size>0){let b=[];for(let c of g)a.has(c)&&b.push(c);return b.length?b:"full"===P?[...g]:[...f]}return"full"===P?[...g]:[...f]},[P,N]),au=(0,d.useMemo)(()=>{let a=[];for(let b of(a.push({key:"scrape",label:"Scraping & Normalizing",state:s||I?"active":ah?.status==="completed"||ah?.normalized_payload||ah?.completed_at?"done":"idle",hint:I||ah?.status||(ah?.normalized_payload?"normalized":"waiting")}),at)){let c=as.get(b);if("seo"===b){a.push({key:"seo",label:"AvidiaSEO Generation",state:u||c?.status==="running"?"active":ar||c?.status==="succeeded"?"done":"idle",hint:c?.status?`module: ${c.status}`:u?"starting":ar?"SEO saved":"ready"});continue}if("extract"===b){a.push({key:"extract",label:"Extract module",state:c?.status==="running"?"active":c?.status==="succeeded"?"done":"idle",hint:c?.status||"ready"});continue}a.push({key:b,label:`${b[0].toUpperCase()}${b.slice(1)} module`,state:c?.status==="running"?"active":c?.status==="succeeded"?"done":"idle",hint:c?.status||"not run"})}return a.push({key:"review",label:"Human-ready Preview",state:ar?"done":"idle",hint:ar?"Rendered":"awaiting generation"}),a},[u,ar,ah,s,as,I,at]),av=(0,d.useMemo)(()=>{let a=au.length||1,b=au.filter(a=>"done"===a.state).length,c=au.find(a=>"active"===a.state)?.label??null,d=Math.max(0,Math.min(100,Math.round(b/a*100)));return{total:a,done:b,pct:d,active:c}},[au]),aw=(0,d.useMemo)(()=>i(N?.run?.started_at)??i(N?.run?.created_at)??X,[X,N]),ax=(0,d.useMemo)(()=>aw?j(V-aw):"—",[V,aw]),ay=(0,d.useMemo)(()=>{if(!T)return"—";let a=V-T;return a<2e3?"just now":`${Math.round(a/1e3)}s ago`},[T,V]),az=(0,d.useMemo)(()=>(N?.modules??[]).slice().sort((a,b)=>(a.module_index??0)-(b.module_index??0)).map(a=>{let b=i(a.started_at),c=i(a.finished_at),d=b&&c?c-b:null;return{key:a.module_name,status:a.status,duration:null!=d?j(d):"running"===a.status&&b?j(V-b):"—",output_ref:a.output_ref??null,error:a.error??null}}),[V,N]);return(0,b.jsxs)("main",{className:"jsx-f730838a08977215 min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50 relative overflow-hidden",children:[(0,b.jsx)(c.default,{id:"f730838a08977215",children:".hero-gradient.jsx-f730838a08977215{background-size:200% 200%;animation:7s ease-in-out infinite heroGradient}@keyframes heroGradient{0%{background-position:0%}50%{background-position:100%}to{background-position:0%}}.hero-glow.jsx-f730838a08977215{text-shadow:0 0 32px #22d3ee40,0 0 48px #34d3992e}"}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"jsx-f730838a08977215 absolute -top-32 -left-24 h-72 w-72 rounded-full bg-cyan-300/22 blur-3xl dark:bg-cyan-500/15"}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 absolute -bottom-24 right-0 h-72 w-72 rounded-full bg-emerald-300/20 blur-3xl dark:bg-emerald-500/10"}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.9)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.9)_55%,_rgba(15,23,42,1)_100%)]"}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 absolute inset-0 opacity-[0.04] dark:opacity-[0.08]",children:(0,b.jsx)("div",{className:"jsx-f730838a08977215 h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:42px_42px] dark:bg-[linear-gradient(to_right,#1f2937_1px,transparent_1px),linear-gradient(to_bottom,#1f2937_1px,transparent_1px)]"})})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 relative mx-auto max-w-7xl px-4 pt-4 pb-10 lg:px-8 lg:pt-6",children:[(0,b.jsxs)("section",{className:"jsx-f730838a08977215 grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-stretch",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 lg:col-span-7 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-full border border-cyan-300/70 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-cyan-500/40 dark:bg-slate-950/80 dark:text-cyan-100",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-100 border border-cyan-300 dark:bg-slate-900 dark:border-cyan-400/60",children:(0,b.jsx)("span",{className:"jsx-f730838a08977215 h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse"})}),"AvidiaTech • AvidiaSEO",l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"jsx-f730838a08977215 font-mono text-[10px]",children:[l.slice(0,8),"…"]})]}),L&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"jsx-f730838a08977215 font-mono text-[10px]",children:["run:",L.slice(0,8),"…"]})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 space-y-2",children:[(0,b.jsxs)("h1",{className:"jsx-f730838a08977215 text-2xl sm:text-3xl font-semibold text-slate-900 leading-tight dark:text-slate-50",children:["Turn any manufacturer URL into a"," ",(0,b.jsx)("span",{className:"jsx-f730838a08977215 bg-clip-text text-transparent hero-gradient hero-glow bg-[linear-gradient(90deg,rgba(34,211,238,1),rgba(56,189,248,1),rgba(52,211,153,1),rgba(244,114,182,1),rgba(250,204,21,1))]",children:"production-ready SEO page"}),"."]}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-sm text-slate-600 max-w-xl dark:text-slate-300",children:"Paste a product URL and run Quick SEO (fast) or the Full Pipeline (audit/import/monitor/price) when you’re ready to ship."})]}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white/95 border border-slate-200 shadow-sm p-3.5 dark:bg-slate-950/70 dark:border-slate-700/70",children:(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-col gap-2.5",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-col sm:flex-row gap-2",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex-1",children:[(0,b.jsx)("label",{className:"jsx-f730838a08977215 block text-[11px] font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Manufacturer product URL"}),(0,b.jsx)("input",{value:o,onChange:a=>{p(a.target.value),r(null),H(null),J(null),z(null),x(null),M(null),O(null)},placeholder:"https://manufacturer.com/product...",type:"url",inputMode:"url",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,className:"jsx-f730838a08977215 w-full px-3 py-2.5 rounded-xl border border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/30 text-sm dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-50 dark:placeholder:text-slate-500"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 sm:w-[310px] w-full",children:[(0,b.jsx)("label",{className:"jsx-f730838a08977215 block text-[11px] font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Run mode"}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 grid grid-cols-2 gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:a=>{a.preventDefault(),ag("quick")},disabled:u,title:"Runs extract + seo",className:"jsx-f730838a08977215 px-4 py-2.5 rounded-xl bg-cyan-500 text-slate-950 text-sm font-semibold shadow-sm hover:bg-cyan-400 disabled:opacity-60 disabled:shadow-none transition-transform hover:-translate-y-[1px]",children:u&&"quick"===P?"Running…":"Quick SEO"}),(0,b.jsx)("button",{type:"button",onClick:a=>{a.preventDefault(),ag("full")},disabled:u,title:"Runs extract + seo + audit + import + monitor + price",className:"jsx-f730838a08977215 px-4 py-2.5 rounded-xl bg-slate-900 text-slate-50 text-sm font-semibold shadow-sm hover:bg-slate-800 disabled:opacity-60 disabled:shadow-none transition-transform hover:-translate-y-[1px] dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100",children:u&&"full"===P?"Running…":"Full Pipeline"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400",children:[(0,b.jsxs)("span",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse"}),y||"Ready"]}),(0,b.jsxs)("span",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-mono",children:"progress"})," ",av.pct,"%"]}),(0,b.jsxs)("span",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-full bg-slate-100 border border-slate-200 px-3 py-1.5 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-mono",children:"elapsed"})," ",ax]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:aq,className:"jsx-f730838a08977215 text-[11px] text-slate-700 hover:text-slate-900 underline underline-offset-4 dark:text-slate-300 dark:hover:text-slate-100",children:"Paste URL"}),(0,b.jsx)("button",{type:"button",onClick:()=>{p("https://www.apple.com/iphone-17/"),r(null),H(null),J(null),M(null),O(null),z("Demo URL loaded — choose Quick SEO or Full Pipeline"),x(null)},className:"jsx-f730838a08977215 text-[11px] text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200",children:"Try a demo URL"})]})]}),Z.length>0&&(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap items-center gap-2 pt-1",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[10px] uppercase tracking-[0.18em] text-slate-400 dark:text-slate-500",children:"Recent:"}),Z.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{p(a),r(null),H(null),J(null),z("Loaded recent URL — choose Quick SEO or Full Pipeline"),x(null),M(null),O(null)},title:a,className:"jsx-f730838a08977215 max-w-[260px] truncate rounded-full border border-slate-200 bg-white/80 px-3 py-1 text-[11px] text-slate-700 hover:bg-white shadow-sm dark:bg-slate-950/60 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-950",children:a},a))]})]})}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap gap-2 text-[11px]",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-cyan-700 font-semibold uppercase tracking-[0.16em] dark:text-cyan-200",children:"Quick"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-slate-600 dark:text-slate-300",children:(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-mono",children:"extract → seo"})})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 rounded-xl bg-white/90 border border-slate-200 px-3 py-2 shadow-sm dark:bg-slate-950/80 dark:border-slate-700/70",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-slate-700 font-semibold uppercase tracking-[0.16em] dark:text-slate-200",children:"Full"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-slate-600 dark:text-slate-300",children:(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-mono",children:"extract → seo → audit → import → monitor → price"})})]})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 lg:col-span-5 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white/95 border border-slate-200 shadow-sm p-4 dark:bg-slate-950/70 dark:border-slate-700/70",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Live telemetry"}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:async()=>{if(L)try{let a=await ab(L);O(a),U(Date.now())}catch(a){x(String(a?.message||a))}},disabled:!L,className:"jsx-f730838a08977215 text-[11px] text-slate-600 hover:text-slate-900 underline underline-offset-4 disabled:opacity-40 dark:text-slate-300 dark:hover:text-white",children:"Refresh now"}),(0,b.jsxs)("label",{className:"jsx-f730838a08977215 inline-flex items-center gap-2 text-[11px] text-slate-600 dark:text-slate-300 cursor-pointer select-none",children:[(0,b.jsx)("input",{type:"checkbox",checked:R,onChange:a=>S(a.target.checked),className:"jsx-f730838a08977215 accent-cyan-500"}),"Auto-refresh"]})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 mt-3 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between text-[11px]",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-slate-600 dark:text-slate-300",children:"Progress"}),(0,b.jsxs)("span",{className:"jsx-f730838a08977215 font-mono text-slate-700 dark:text-slate-200",children:[av.done,"/",av.total," • ",av.pct,"%"]})]}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 mt-2 h-2 w-full rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden",children:(0,b.jsx)("div",{style:{width:`${av.pct}%`},className:"jsx-f730838a08977215 h-full rounded-full bg-gradient-to-r from-cyan-400 via-sky-400 to-emerald-400"})}),(0,b.jsxs)("p",{className:"jsx-f730838a08977215 mt-2 text-[11px] text-slate-500 dark:text-slate-400",children:[av.active?(0,b.jsxs)(b.Fragment,{children:["Now: ",(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-medium text-slate-700 dark:text-slate-200",children:av.active})]}):"Idle",(0,b.jsx)("span",{className:"jsx-f730838a08977215 mx-2 text-slate-300 dark:text-slate-700",children:"•"}),"Last update: ",(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-mono",children:ay})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[10px] uppercase tracking-[0.18em] text-slate-400",children:"Run status"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[12px] font-semibold text-slate-800 dark:text-slate-100",children:N?.run?.status||(L?"loading…":"—")})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[10px] uppercase tracking-[0.18em] text-slate-400",children:"Elapsed"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[12px] font-semibold text-slate-800 dark:text-slate-100",children:ax})]})]}),az.length>0?(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-xl border border-slate-200 bg-white px-3 py-2 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[10px] uppercase tracking-[0.18em] text-slate-400 mb-2",children:"Module runtimes"}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 flex flex-wrap gap-2",children:az.map(a=>{let c="succeeded"===a.status?"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-500/30 dark:bg-emerald-950/50 dark:text-emerald-100":"running"===a.status?"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-500/30 dark:bg-amber-950/50 dark:text-amber-100":"failed"===a.status?"border-rose-200 bg-rose-50 text-rose-700 dark:border-rose-500/30 dark:bg-rose-950/50 dark:text-rose-100":"border-slate-200 bg-slate-50 text-slate-600 dark:border-slate-700 dark:bg-slate-950/40 dark:text-slate-300";return(0,b.jsxs)("span",{title:a.output_ref?`output_ref: ${a.output_ref}`:a.error?JSON.stringify(a.error):a.status,className:`jsx-f730838a08977215 inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[11px] ${c}`,children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 font-medium",children:a.key}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[10px] opacity-80",children:a.duration})]},a.key)})})]}):(0,b.jsx)("div",{className:"jsx-f730838a08977215 rounded-xl border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-500 dark:bg-slate-950/60 dark:border-slate-700 dark:text-slate-400",children:"Run a URL to see live module timings and artifacts."})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white/95 border border-slate-200 px-4 py-3 shadow-sm dark:bg-slate-950/70 dark:border-slate-700/70",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Real-time pipeline"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-400",children:s||u?"Running…":L?"Ready":"Idle"})]}),(0,b.jsx)("ol",{className:"jsx-f730838a08977215 mt-3 space-y-2 text-xs",children:au.map(a=>{let c="done"===a.state,d="active"===a.state;return(0,b.jsxs)("li",{className:"jsx-f730838a08977215 flex items-center justify-between rounded-xl border px-3 py-2 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"jsx-f730838a08977215 "+(["h-2 w-2 rounded-full",c?"bg-emerald-400":d?"bg-amber-400 animate-pulse":"bg-slate-400 dark:bg-slate-500"].join(" ")||"")}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] font-medium text-slate-800 dark:text-slate-100",children:a.label})]}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[10px] text-slate-500 dark:text-slate-400",children:a.hint})]},a.key)})})]})]})]}),w&&(0,b.jsx)("div",{className:"jsx-f730838a08977215 mt-4 rounded-2xl border border-rose-300 bg-rose-50 text-rose-800 px-4 py-3 text-sm shadow-sm dark:border-rose-500/40 dark:bg-rose-950/60 dark:text-rose-50",children:w}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 mt-4 grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6",children:[(0,b.jsx)("div",{className:"jsx-f730838a08977215 lg:col-span-8 space-y-4",children:(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white text-slate-900 shadow-sm p-5 border border-slate-200 dark:bg-slate-900/85 dark:text-white dark:border-slate-700/80",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase tracking-[0.22em] text-slate-500 mb-1 dark:text-slate-400",children:"Description window"}),(0,b.jsx)("h3",{className:"jsx-f730838a08977215 text-xl sm:text-2xl font-semibold mb-1",children:"Premium HTML viewer"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-slate-600 text-xs max-w-2xl dark:text-slate-300",children:"See the final copy exactly as it will appear on a product page. Highlight any claim, copy it into your CMS, or export the HTML."})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex flex-wrap gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:ap,disabled:!ak,className:"jsx-f730838a08977215 px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 border border-slate-900 shadow-sm hover:bg-slate-800 disabled:opacity-40 dark:bg-white/5 dark:border-white/25 dark:text-white dark:hover:bg-white/10",children:"copied"===C?"Copied!":"error"===C?"Copy failed":"Copy description"}),(0,b.jsx)("button",{type:"button",onClick:()=>{if(!ak)return;let a=new Blob([ak],{type:"text/html"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`avidia-seo-description-${l||"preview"}.html`,c.click(),URL.revokeObjectURL(b)},disabled:!ak,className:"jsx-f730838a08977215 px-3 py-2 rounded-lg bg-slate-900 text-xs text-slate-50 font-semibold border border-slate-900 shadow-sm hover:-translate-y-[1px] transition disabled:opacity-40 disabled:shadow-none dark:bg-white dark:text-slate-900 dark:border-white/30",children:"Download HTML"}),(0,b.jsx)("button",{type:"button",onClick:()=>B(a=>a.trim()),className:"jsx-f730838a08977215 px-3 py-2 rounded-lg bg-amber-400 text-xs text-slate-900 font-semibold shadow-sm hover:bg-amber-300",children:"Search in text"})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 mt-4 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-3 py-2 dark:bg-white/5 dark:border-white/15",children:[(0,b.jsx)("input",{value:A,onChange:a=>B(a.target.value),placeholder:"Search headline, claims, or FAQs",className:"jsx-f730838a08977215 flex-1 bg-transparent text-xs text-slate-900 placeholder:text-slate-400 focus:outline-none dark:text-white dark:placeholder:text-slate-300"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-200",children:"Live highlight"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white text-slate-900 shadow-inner border border-slate-200 overflow-hidden dark:bg-white dark:text-slate-900 dark:border-slate-200",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between px-4 py-3 border-b border-slate-100 bg-slate-50 dark:bg-slate-50",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase tracking-wide text-slate-500 mb-1",children:"Rendered description"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-xs text-slate-600 m-0",children:"Mirrors your custom GPT instructions — headings, lists, disclaimers, and manuals stay structured."})]}),K&&(0,b.jsx)("span",{className:"jsx-f730838a08977215 px-3 py-1 rounded-full bg-amber-100 text-amber-700 text-[11px] font-semibold",children:"Preview only"})]}),(0,b.jsx)("div",{className:"jsx-f730838a08977215 prose prose-slate max-w-none px-6 py-5 text-sm",children:ak?(0,b.jsx)("article",{dangerouslySetInnerHTML:{__html:am},className:"jsx-f730838a08977215 prose-headings:scroll-mt-20 prose-h2:mt-6 prose-h3:mt-4 prose-ul:list-disc prose-li:marker:text-slate-400"}):(0,b.jsx)("div",{className:"jsx-f730838a08977215 text-slate-500 text-sm italic",children:"No description generated yet. Paste a URL above and run Quick SEO or Full Pipeline."})})]})]})]})}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 lg:col-span-4 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"jsx-f730838a08977215 text-sm font-semibold text-slate-900 dark:text-slate-50",children:"SEO structure"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-400",children:"Driven by custom instructions"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 space-y-2 text-xs",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"H1"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 font-semibold text-slate-900 dark:text-slate-50",children:ai?.h1??ai?.name_best??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Page title"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 font-semibold text-slate-900 dark:text-slate-50",children:ai?.pageTitle??ai?.title??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Meta description"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-slate-800 leading-relaxed dark:text-slate-100",children:ai?.metaDescription??ai?.meta_description??"Not yet generated"})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 p-3 rounded-lg bg-slate-50 border border-slate-200 dark:bg-slate-950/60 dark:border-slate-700",children:[(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-[11px] uppercase text-slate-500 mb-1 dark:text-slate-400",children:"Short description"}),(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-slate-800 dark:text-slate-100",children:ai?.seoShortDescription??ai?.seo_short_description??"Not yet generated"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"jsx-f730838a08977215 text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Feature bullets"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-400",children:"From SEO output"})]}),Array.isArray(al)&&al.length>0?(0,b.jsx)("ul",{className:"jsx-f730838a08977215 list-disc list-inside space-y-1 text-xs text-slate-800 dark:text-slate-100",children:al.map((a,c)=>(0,b.jsx)("li",{className:"jsx-f730838a08977215",children:a},c))}):(0,b.jsx)("p",{className:"jsx-f730838a08977215 text-slate-500 text-xs dark:text-slate-400",children:"No features captured yet. Run Quick SEO to generate."}),ao.length>0&&(0,b.jsxs)("div",{className:"jsx-f730838a08977215 mt-3 border-t border-slate-200 pt-3 dark:border-slate-700",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>F(a=>!a),className:"jsx-f730838a08977215 text-xs text-cyan-700 hover:text-cyan-600 underline underline-offset-4 dark:text-cyan-300 dark:hover:text-cyan-200",children:[E?"Hide":"Show"," parked extras (",ao.length,")"]}),E&&(0,b.jsx)("pre",{className:"jsx-f730838a08977215 mt-2 p-3 rounded-lg bg-slate-900 text-[11px] text-slate-100 border border-slate-700 overflow-auto dark:bg-slate-950/70",children:JSON.stringify(Object.fromEntries(ao),null,2)})]})]}),ah&&l&&(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"jsx-f730838a08977215 text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Source payload (normalized)"}),(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-400",children:"Live from ingestion"})]}),(0,b.jsx)("pre",{className:"jsx-f730838a08977215 bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70",children:JSON.stringify(ah.normalized_payload??ah,null,2)})]}),G&&(0,b.jsxs)("div",{className:"jsx-f730838a08977215 rounded-2xl bg-white border border-slate-200 shadow-sm p-4 space-y-3 dark:bg-slate-900/80 dark:border-slate-700/60",children:[(0,b.jsxs)("div",{className:"jsx-f730838a08977215 flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"jsx-f730838a08977215 text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Raw /api/v1/ingest response"}),I&&(0,b.jsx)("span",{className:"jsx-f730838a08977215 text-[11px] text-slate-500 dark:text-slate-400",children:I})]}),(0,b.jsx)("pre",{className:"jsx-f730838a08977215 bg-slate-900/95 border border-slate-800 rounded-lg p-3 text-[11px] text-slate-100 whitespace-pre-wrap break-words dark:bg-slate-950/70",children:JSON.stringify(G,null,2)})]})]})]})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=src_app_dashboard_seo_page_tsx_50511e53._.js.map
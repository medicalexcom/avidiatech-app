module.exports=[39624,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98003),e=a.i(50944);function f(){let{isLoaded:a,isSignedIn:f}=(0,d.useUser)(),g=(0,e.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)("starter");async function n(){if(a){if(!f)return void g.push("/sign-in?redirect=/trial-setup");i(!0),k(null);try{let a=await fetch("/api/checkout/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:l})}),b=await a.json();if(!a.ok||!b?.url)throw Error(b?.error||"Failed to create checkout session");window.location.href=b.url}catch(a){k(a.message||"Unknown error"),console.error("startCheckout error",a)}finally{i(!1)}}}return a?(0,b.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"max-w-md w-full p-8 bg-white rounded shadow",children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Start trial"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Start your free trial â€” complete subscription to unlock premium features."}),j&&(0,b.jsx)("div",{className:"mt-4 text-red-600",children:j}),f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm",children:"Choose plan"}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"mt-2",children:[(0,b.jsx)("option",{value:"starter",children:"Starter"}),(0,b.jsx)("option",{value:"growth",children:"Growth"}),(0,b.jsx)("option",{value:"pro",children:"Pro"})]})]}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)("button",{onClick:n,disabled:h,className:"btn-primary",children:h?"Starting...":"Start free trial"})})]}):(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("p",{className:"text-sm",children:"You must sign in to start a trial."}),(0,b.jsx)("button",{className:"btn-primary mt-2",onClick:()=>g.push("/sign-in?redirect=/trial-setup"),disabled:!a,children:"Sign in / Sign up"})]})]})}):null}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_trial-setup_page_tsx_02637b0e._.js.map
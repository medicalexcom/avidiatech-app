{"version":3,"sources":["../../../../src/components/BackToDashboard.tsx","../../../../src/components/settings/OrganizationForm.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\n/**\n * BackToDashboard button\n * - tries history.back() when possible, otherwise falls back to /dashboard\n * - use in settings pages so users can return to the main dashboard quickly\n */\n\nexport default function BackToDashboard() {\n  function goBack(e: React.MouseEvent) {\n    e.preventDefault();\n    try {\n      if (window.history.length > 1) {\n        window.history.back();\n      } else {\n        window.location.href = \"/dashboard\";\n      }\n    } catch {\n      window.location.href = \"/dashboard\";\n    }\n  }\n\n  return (\n    <a href=\"/dashboard\" onClick={goBack} className=\"inline-flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300 hover:underline\">\n      <span aria-hidden>←</span>\n      <span>Back to dashboard</span>\n    </a>\n  );\n}\n","\"use client\";\nimport React, { useEffect, useState } from \"react\";\n\n/**\n * OrganizationForm client component\n * - organization name, address, timezone\n * - simple invite user form (calls /api/organization/invite)\n * - list of members fetched from /api/organization/members\n *\n * Server endpoints not included in this scaffold.\n */\n\ntype Member = { id: string; email: string; name?: string; role?: string };\n\nexport default function OrganizationForm() {\n  const [orgName, setOrgName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [timezone, setTimezone] = useState(\"UTC\");\n  const [inviteEmail, setInviteEmail] = useState(\"\");\n  const [members, setMembers] = useState<Member[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(\"/api/organization/members\")\n      .then((r) => r.json())\n      .then((d) => setMembers(d.members || []))\n      .catch(() => setMembers([]))\n      .finally(() => setLoading(false));\n  }, []);\n\n  async function invite() {\n    await fetch(\"/api/organization/invite\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email: inviteEmail })\n    });\n    setInviteEmail(\"\");\n    // refresh members\n    const { members: m } = await (await fetch(\"/api/organization/members\")).json();\n    setMembers(m || []);\n  }\n\n  return (\n    <div style={{ maxWidth: 1000 }}>\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 360px\", gap: 20 }}>\n        <div>\n          <label style={{ fontWeight: 600 }}>Organization name</label>\n          <input value={orgName} onChange={(e) => setOrgName(e.target.value)} style={{ display: \"block\", width: \"100%\", padding: 8, marginTop: 8 }} />\n\n          <label style={{ fontWeight: 600, marginTop: 12 }}>Address</label>\n          <input value={address} onChange={(e) => setAddress(e.target.value)} style={{ display: \"block\", width: \"100%\", padding: 8, marginTop: 8 }} />\n\n          <label style={{ fontWeight: 600, marginTop: 12 }}>Time zone</label>\n          <input value={timezone} onChange={(e) => setTimezone(e.target.value)} style={{ display: \"block\", width: \"100%\", padding: 8, marginTop: 8 }} />\n\n          <div style={{ marginTop: 16 }}>\n            <button>Save Organization</button>\n          </div>\n        </div>\n\n        <aside style={{ padding: 12, border: \"1px solid var(--border,#eee)\", borderRadius: 8 }}>\n          <h3>Team</h3>\n          <div style={{ marginTop: 8 }}>\n            <label style={{ fontWeight: 600 }}>Invite user</label>\n            <input value={inviteEmail} onChange={(e) => setInviteEmail(e.target.value)} placeholder=\"user@example.com\" style={{ width: \"100%\", padding: 8, marginTop: 6 }} />\n            <button onClick={invite} style={{ marginTop: 8 }}>\n              Invite\n            </button>\n          </div>\n\n          <div style={{ marginTop: 12 }}>\n            <h4>Members</h4>\n            {loading ? (\n              <p>Loading…</p>\n            ) : (\n              <ul>\n                {members.map((m) => (\n                  <li key={m.id}>\n                    {m.name ?? m.email} — <em>{m.role ?? \"member\"}</em>\n                    <button style={{ marginLeft: 8 }}>Remove</button>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </aside>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
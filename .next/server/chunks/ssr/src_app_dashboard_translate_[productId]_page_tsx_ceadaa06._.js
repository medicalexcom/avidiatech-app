module.exports=[20172,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=[{code:"es",label:"Spanish"},{code:"fr",label:"French"},{code:"de",label:"German"},{code:"it",label:"Italian"},{code:"pt",label:"Portuguese"},{code:"zh_CN",label:"Chinese (Simplified)"}];function e({params:a}){let e=a.productId,[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(["es"]),[j,k]=(0,c.useState)(["name","description_html"]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null);async function r(){q(null),m(!0),o(null);try{let a=await fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,languages:h,fields:j})}),b=await a.json();a.ok?o(b.translations??null):q(b.error||"translation_failed")}catch(a){q(a?.message||"network_error")}finally{m(!1)}}return(0,c.useEffect)(()=>{q(null),fetch(`/api/translate/product?productId=${e}`).then(a=>a.json()).then(a=>g(a.product??null)).catch(()=>q("Failed to load product"))},[e]),(0,b.jsxs)("main",{style:{padding:20},children:[(0,b.jsx)("h1",{children:"Translate Product"}),!f&&(0,b.jsx)("p",{children:"Loading product..."}),f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{children:"Source"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:f.name_raw||"(no name)"}),(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:f.description_html||f.description_raw||""}})]}),(0,b.jsxs)("div",{style:{marginTop:16},children:[(0,b.jsx)("label",{children:"Languages"}),(0,b.jsx)("div",{children:d.map(a=>(0,b.jsxs)("label",{style:{marginRight:12},children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes(a.code),onChange:b=>{i(b.target.checked?[...h,a.code]:h.filter(b=>b!==a.code))}})," ",a.label]},a.code))})]}),(0,b.jsxs)("div",{style:{marginTop:12},children:[(0,b.jsx)("label",{children:"Fields"}),(0,b.jsx)("div",{children:["name","description_html","features","specs"].map(a=>(0,b.jsxs)("label",{style:{marginRight:12},children:[(0,b.jsx)("input",{type:"checkbox",checked:j.includes(a),onChange:b=>{k(b.target.checked?[...j,a]:j.filter(b=>b!==a))}})," ",a]},a))})]}),(0,b.jsxs)("div",{style:{marginTop:12},children:[(0,b.jsx)("button",{onClick:r,disabled:l,children:"Translate Selected"}),(0,b.jsx)("button",{onClick:()=>{if(!n)return;let a=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${e}-translations.json`,c.click(),URL.revokeObjectURL(b)},style:{marginLeft:8},children:"Export JSON"})]}),l&&(0,b.jsx)("p",{children:"Translatingâ€¦"}),p&&(0,b.jsx)("p",{style:{color:"red"},children:p}),n&&(0,b.jsxs)("div",{style:{marginTop:20},children:[(0,b.jsx)("h3",{children:"Results"}),Object.entries(n).map(([a,c])=>(0,b.jsxs)("div",{style:{borderTop:"1px solid #eee",paddingTop:12},children:[(0,b.jsx)("h4",{children:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Name"}),(0,b.jsx)("div",{children:c?.name??"(none)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Description"}),(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:c?.description_html??""}})]})]},a))]})]})]})}a.s(["default",()=>e],20172)}];

//# sourceMappingURL=src_app_dashboard_translate_%5BproductId%5D_page_tsx_ceadaa06._.js.map
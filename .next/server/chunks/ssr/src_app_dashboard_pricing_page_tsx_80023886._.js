module.exports=[10133,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98003),e=a.i(50944);function f(){let{isLoaded:a,isSignedIn:f}=(0,d.useUser)(),g=(0,e.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null);async function l(b){if(a){if(!f)return void g.push("/sign-in?redirect=/dashboard");i(!0),k(null);try{let a=await fetch("/api/checkout/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:b})}),c=await a.json();if(!a.ok||!c?.url)throw Error(c?.error||"Failed to create checkout session");window.location.href=c.url}catch(a){k(a.message||"Unknown error"),console.error("choosePlan error",a)}finally{i(!1)}}}return a?(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Choose a plan"}),j&&(0,b.jsx)("div",{className:"mt-4 text-red-600",children:j}),f?(0,b.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,b.jsx)("button",{className:"btn",onClick:()=>l("starter"),disabled:h,children:h?"...":"Start Starter — 14‑day trial"}),(0,b.jsx)("button",{className:"btn",onClick:()=>l("growth"),disabled:h,children:"Start Growth — 14‑day trial"}),(0,b.jsx)("button",{className:"btn",onClick:()=>l("pro"),disabled:h,children:"Start Pro — 14‑day trial"})]}):(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"mb-2",children:"Sign in to pick a plan."}),(0,b.jsx)("button",{className:"btn-primary",onClick:()=>g.push("/sign-in?redirect=/dashboard"),disabled:!a,children:"Sign in / Sign up"})]})]}):null}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_dashboard_pricing_page_tsx_80023886._.js.map
{"version":3,"sources":["../../../../src/app/dashboard/monitor/watches/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport MonitorDashboard from \"@/components/monitor/MonitorDashboard\";\n\n/**\n * All Watches - full list & admin console\n *\n * Features:\n * - Loads all watches (client-side paging)\n * - Filters: status (ok/changed/scrape_failed/error/any), auto_watch, linked-to-product\n * - Search by URL\n * - Sort by last_check_at, frequency_seconds, retry_count\n * - Inline actions: Run check, Mute/Unmute, Save frequency, Delete\n * - Top-line metrics summary (counts, avg frequency, failing count, product-linked %)\n *\n * Notes:\n * - Uses existing API endpoints:\n *   GET /api/monitor/watches\n *   PATCH /api/monitor/watches/:id\n *   DELETE /api/monitor/watches/:id\n *   POST /api/monitor/check (body:{ watchId })\n *\n * Drop at: src/app/dashboard/monitor/watches/page.tsx\n */\n\ntype SortKey = \"last_check_at\" | \"frequency_seconds\" | \"retry_count\" | \"created_at\";\ntype SortDir = \"asc\" | \"desc\";\n\nexport default function AllWatchesPage() {\n  const [watches, setWatches] = useState<any[] | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<string>(\"any\");\n  const [autoFilter, setAutoFilter] = useState<string>(\"any\");\n  const [linkedFilter, setLinkedFilter] = useState<string>(\"any\");\n  const [sortKey, setSortKey] = useState<SortKey>(\"last_check_at\");\n  const [sortDir, setSortDir] = useState<SortDir>(\"desc\");\n  const [page, setPage] = useState(1);\n  const PAGE_SIZE = 50;\n\n  // fetch watches\n  async function load() {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/monitor/watches\");\n      const j = await res.json().catch(() => null);\n      if (res.ok && j?.ok) setWatches(j.watches ?? []);\n      else setWatches([]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  // derived: filter / search / sort\n  const filtered = useMemo(() => {\n    const list = watches ?? [];\n    const q = String(query || \"\").trim().toLowerCase();\n    let out = list.filter((w) => {\n      if (statusFilter !== \"any\") {\n        if ((w.last_status ?? \"unknown\") !== statusFilter) return false;\n      }\n      if (autoFilter !== \"any\") {\n        if (autoFilter === \"yes\" && !w.auto_watch) return false;\n        if (autoFilter === \"no\" && w.auto_watch) return false;\n      }\n      if (linkedFilter !== \"any\") {\n        if (linkedFilter === \"yes\" && !w.product_id) return false;\n        if (linkedFilter === \"no\" && w.product_id) return false;\n      }\n      if (q) {\n        if (!String(w.source_url ?? \"\").toLowerCase().includes(q)) return false;\n      }\n      return true;\n    });\n\n    out.sort((a: any, b: any) => {\n      let av = a[sortKey];\n      let bv = b[sortKey];\n      // normalize dates\n      if (sortKey === \"last_check_at\" || sortKey === \"created_at\") {\n        av = a[sortKey] ? new Date(a[sortKey]).getTime() : 0;\n        bv = b[sortKey] ? new Date(b[sortKey]).getTime() : 0;\n      } else {\n        av = Number(av ?? 0);\n        bv = Number(bv ?? 0);\n      }\n      if (av === bv) return 0;\n      return sortDir === \"asc\" ? (av < bv ? -1 : 1) : av > bv ? -1 : 1;\n    });\n\n    return out;\n  }, [watches, query, statusFilter, autoFilter, linkedFilter, sortKey, sortDir]);\n\n  const total = filtered.length;\n  const pages = Math.max(1, Math.ceil(total / PAGE_SIZE));\n  const pageItems = filtered.slice((page - 1) * PAGE_SIZE, page * PAGE_SIZE);\n\n  // metrics\n  const metrics = useMemo(() => {\n    const list = watches ?? [];\n    const totalW = list.length;\n    if (totalW === 0) {\n      return {\n        total: 0,\n        failing: 0,\n        avgFrequencyDays: \"—\",\n        productLinkedPct: \"—\",\n        autoWatchPct: \"—\",\n      };\n    }\n    const failing = list.filter((w) => (w.last_status && String(w.last_status) !== \"ok\") || Number(w.retry_count ?? 0) > 0).length;\n    const avgFreq =\n      Math.round(\n        (list.reduce((acc, w) => acc + Number(w.frequency_seconds ?? 86400), 0) / totalW / (24 * 60 * 60)) * 10\n      ) / 10;\n    const linkedPct = Math.round((list.filter((w) => !!w.product_id).length / totalW) * 100);\n    const autoPct = Math.round((list.filter((w) => !!w.auto_watch).length / totalW) * 100);\n    return { total: totalW, failing, avgFrequencyDays: avgFreq, productLinkedPct: linkedPct, autoWatchPct: autoPct };\n  }, [watches]);\n\n  // actions\n  async function runCheck(id: string) {\n    try {\n      const res = await fetch(\"/api/monitor/check\", { method: \"POST\", headers: { \"content-type\": \"application/json\" }, body: JSON.stringify({ watchId: id }) });\n      await res.json().catch(() => null);\n      // reload to pick up events/status changes\n      load();\n    } catch (err) {\n      console.warn(err);\n    }\n  }\n\n  async function saveFreq(id: string, days: number) {\n    const patch = { frequency_seconds: Math.max(1, Math.round(days * 24 * 60 * 60)) };\n    await fetch(`/api/monitor/watches/${encodeURIComponent(id)}`, { method: \"PATCH\", headers: { \"content-type\": \"application/json\" }, body: JSON.stringify(patch) });\n    load();\n  }\n\n  async function toggleMute(id: string, mutedUntil: string | null) {\n    const patch = { muted_until: mutedUntil ? null : new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString() };\n    await fetch(`/api/monitor/watches/${encodeURIComponent(id)}`, { method: \"PATCH\", headers: { \"content-type\": \"application/json\" }, body: JSON.stringify(patch) });\n    load();\n  }\n\n  async function removeWatch(id: string) {\n    if (!confirm(\"Delete this watch? This cannot be undone.\")) return;\n    await fetch(`/api/monitor/watches/${encodeURIComponent(id)}`, { method: \"DELETE\" });\n    load();\n  }\n\n  return (\n    <main className=\"p-6\">\n      <div className=\"max-w-7xl mx-auto space-y-6\">\n        <header className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-semibold\">All Watches</h1>\n            <p className=\"text-sm text-slate-500\">Full list of watches with sorting, filtering, and bulk-friendly controls.</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <a href=\"/dashboard\" className=\"px-3 py-2 rounded border\">Back</a>\n            <a href=\"#top\" className=\"px-3 py-2 rounded bg-amber-500 text-white\">Open Monitor</a>\n          </div>\n        </header>\n\n        {/* Metrics */}\n        <section className=\"grid grid-cols-4 gap-4\">\n          <div className=\"rounded-lg border p-3 bg-white\">\n            <div className=\"text-xs text-slate-500\">Total watches</div>\n            <div className=\"mt-2 text-2xl font-semibold\">{metrics.total}</div>\n          </div>\n          <div className=\"rounded-lg border p-3 bg-white\">\n            <div className=\"text-xs text-slate-500\">Failing watches</div>\n            <div className=\"mt-2 text-2xl font-semibold\">{metrics.failing}</div>\n          </div>\n          <div className=\"rounded-lg border p-3 bg-white\">\n            <div className=\"text-xs text-slate-500\">Avg frequency (days)</div>\n            <div className=\"mt-2 text-2xl font-semibold\">{metrics.avgFrequencyDays}</div>\n          </div>\n          <div className=\"rounded-lg border p-3 bg-white\">\n            <div className=\"text-xs text-slate-500\">Linked to product / Auto-watch</div>\n            <div className=\"mt-2 text-lg font-semibold\">{metrics.productLinkedPct}% · {metrics.autoWatchPct}%</div>\n          </div>\n        </section>\n\n        {/* Filters & controls */}\n        <section className=\"rounded-lg border bg-white p-4\">\n          <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <input value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Search URL...\" className=\"border rounded px-3 py-2 w-80\" />\n              <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} className=\"rounded border px-2 py-1 text-sm\">\n                <option value=\"any\">All statuses</option>\n                <option value=\"ok\">ok</option>\n                <option value=\"changed\">changed</option>\n                <option value=\"scrape_failed\">scrape_failed</option>\n                <option value=\"error\">error</option>\n              </select>\n              <select value={autoFilter} onChange={(e) => setAutoFilter(e.target.value)} className=\"rounded border px-2 py-1 text-sm\">\n                <option value=\"any\">Auto watch (any)</option>\n                <option value=\"yes\">Auto only</option>\n                <option value=\"no\">Manual only</option>\n              </select>\n              <select value={linkedFilter} onChange={(e) => setLinkedFilter(e.target.value)} className=\"rounded border px-2 py-1 text-sm\">\n                <option value=\"any\">Product link (any)</option>\n                <option value=\"yes\">Linked</option>\n                <option value=\"no\">Unlinked</option>\n              </select>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <label className=\"text-xs text-slate-500\">Sort</label>\n              <select value={sortKey} onChange={(e) => setSortKey(e.target.value as SortKey)} className=\"rounded border px-2 py-1 text-sm\">\n                <option value=\"last_check_at\">Last check</option>\n                <option value=\"frequency_seconds\">Frequency (sec)</option>\n                <option value=\"retry_count\">Retry count</option>\n                <option value=\"created_at\">Created</option>\n              </select>\n              <select value={sortDir} onChange={(e) => setSortDir(e.target.value as SortDir)} className=\"rounded border px-2 py-1 text-sm\">\n                <option value=\"desc\">desc</option>\n                <option value=\"asc\">asc</option>\n              </select>\n\n              <button onClick={() => { setPage(1); load(); }} className=\"px-3 py-1 rounded border text-sm\">Reload</button>\n            </div>\n          </div>\n        </section>\n\n        {/* List */}\n        <section className=\"rounded-lg border bg-white p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"text-sm font-medium\">Watches</div>\n            <div className=\"text-xs text-slate-500\">Showing {Math.min(PAGE_SIZE, total)} of {total} (page {page}/{pages})</div>\n          </div>\n\n          <div className=\"space-y-3\">\n            {loading && !watches ? (\n              <div>Loading…</div>\n            ) : pageItems.length === 0 ? (\n              <div className=\"text-sm text-slate-500\">No watches</div>\n            ) : (\n              pageItems.map((w) => (\n                <div key={w.id} className=\"p-3 border rounded-lg flex items-start justify-between gap-3\">\n                  <div className=\"min-w-0\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"font-medium truncate\">{w.source_url}</div>\n                      <div className=\"text-xs text-slate-400\">{w.product_id ? \"linked\" : \"unlinked\"}</div>\n                    </div>\n                    <div className=\"text-xs text-slate-500 mt-1\">\n                      Last: {w.last_check_at ? new Date(w.last_check_at).toLocaleString() : \"never\"} · Status: <span className=\"font-medium\">{w.last_status ?? \"unknown\"}</span> · Retries: {w.retry_count ?? 0}\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex flex-col items-end gap-2\">\n                      <div className=\"flex gap-2\">\n                        <button onClick={() => runCheck(w.id)} className=\"px-2 py-1 text-xs border rounded\">Check</button>\n                        <button onClick={() => toggleMute(w.id, w.muted_until)} className=\"px-2 py-1 text-xs border rounded\">{w.muted_until ? \"Unmute\" : \"Mute\"}</button>\n                        <button onClick={() => removeWatch(w.id)} className=\"px-2 py-1 text-xs border rounded text-red-600\">Delete</button>\n                      </div>\n\n                      <div className=\"flex items-center gap-2\">\n                        <label className=\"text-xs text-slate-500\">Freq days</label>\n                        <input type=\"number\" defaultValue={Math.max(1, Math.round((w.frequency_seconds ?? 86400) / (24 * 60 * 60)))} onBlur={(e) => saveFreq(w.id, Number(e.currentTarget.value))} className=\"w-20 rounded border px-2 py-1 text-sm\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* Pagination */}\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"text-xs text-slate-500\">Page {page} of {pages}</div>\n            <div className=\"flex gap-2\">\n              <button onClick={() => setPage(1)} disabled={page === 1} className=\"px-3 py-1 border rounded text-sm\">First</button>\n              <button onClick={() => setPage((p) => Math.max(1, p - 1))} disabled={page === 1} className=\"px-3 py-1 border rounded text-sm\">Prev</button>\n              <button onClick={() => setPage((p) => Math.min(pages, p + 1))} disabled={page === pages} className=\"px-3 py-1 border rounded text-sm\">Next</button>\n              <button onClick={() => setPage(pages)} disabled={page === pages} className=\"px-3 py-1 border rounded text-sm\">Last</button>\n            </div>\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}
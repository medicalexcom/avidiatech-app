module.exports=[92968,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70157);function f({bucket:a="imports",mappingPreset:c=null,onCreated:d}){return(0,b.jsx)(e.default,{bucket:a,onCreated:async a=>{if(d?.(a),a&&c)try{await fetch(`/api/v1/imports/${encodeURIComponent(a)}`,{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({meta:{mappingPreset:c}})})}catch(a){}}})}var g=a.i(69769);function h({orgId:a,selectedId:d,onSelect:e}){let[f,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("bigcommerce"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(null),C=(0,g.useToast)();async function D(){if(a){j(!0),B(null);try{let b=await fetch(`/api/v1/integrations?orgId=${encodeURIComponent(a)}`),c=await b.json().catch(()=>null);b.ok&&c?.ok?h(c.integrations??[]):(B(c?.error??"Failed to load"),C.error(c?.error??"Failed to load connectors"))}catch(a){B(String(a?.message??a)),C.error(String(a?.message??a))}finally{j(!1)}}}async function E(){l(!0),B(null);try{let b={org_id:a,provider:m,name:o||m,config:{},secrets:{}};if("bigcommerce"===m)b.config={store_hash:q},b.secrets={access_token:s};else if("woocommerce"===m)b.config={},b.secrets={consumer_key:u,consumer_secret:w};else if("magento"===m)b.config={},b.secrets={api_token:y};else if("generic-api-key"===m)b.config={},b.secrets={api_key:y};else if("shopify"===m){let b=`/api/v1/integrations/oauth/shopify/start?orgId=${encodeURIComponent(a)}`;try{let a=await fetch(b),c=await a.json().catch(()=>null);c?.redirectUrl?window.location.href=c.redirectUrl:window.location.href=b}finally{l(!1)}return}let c=await fetch("/api/v1/integrations",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(b)}),d=await c.json().catch(()=>null);if(!c.ok||!d?.ok){B(d?.error??"Create failed"),C.error(d?.error??"Create failed");return}C.success("Connector created"),await D(),p(""),r(""),t(""),v(""),x(""),z("")}catch(a){B(String(a?.message??a)),C.error(String(a?.message??a))}finally{l(!1)}}async function F(b){B(null);try{let c=await fetch(`/api/v1/integrations/${b}/sync`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({org_id:a})}),d=await c.json().catch(()=>null);if(!c.ok||!d?.ok){B(d?.error??"Sync failed"),C.error(d?.error??"Sync failed");return}C.success(`Sync started: ${d.jobId??d.id??"queued"}`),await D()}catch(a){B(String(a?.message??a)),C.error(String(a?.message??a))}}return(0,c.useEffect)(()=>{a&&D()},[a]),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold",children:"Connectors"}),(0,b.jsx)("div",{className:"mt-3 space-y-2",children:i?(0,b.jsx)("div",{children:"Loading…"}):f.map(a=>{let c=d&&d===a.id;return(0,b.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>e?.(a.id),onKeyDown:b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),e?.(a.id))},className:`rounded border p-2 flex items-center justify-between cursor-pointer ${c?"ring-2 ring-sky-300 bg-sky-50":"hover:bg-slate-50"}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name??a.provider}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:[a.provider," • ",a.status??"ready",a.last_synced_at?` • last: ${new Date(a.last_synced_at).toLocaleString()}`:""]}),a.last_error&&(0,b.jsxs)("div",{className:"text-xs text-rose-600 mt-1",children:["Last error: ",String(a.last_error)]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),F(a.id)},className:"px-2 py-1 rounded bg-sky-500 text-white text-xs",children:"Sync now"})})]},a.id)})}),(0,b.jsxs)("div",{className:"mt-4 rounded border p-3",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 mb-2",children:"Create connector"}),A&&(0,b.jsx)("div",{className:"text-xs text-rose-600 mb-2",children:A}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("label",{className:"text-xs",children:"Provider"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"w-full rounded border px-2 py-1",children:[(0,b.jsx)("option",{value:"bigcommerce",children:"BigCommerce (API token)"}),(0,b.jsx)("option",{value:"shopify",children:"Shopify (OAuth)"}),(0,b.jsx)("option",{value:"woocommerce",children:"WooCommerce (consumer key/secret)"}),(0,b.jsx)("option",{value:"magento",children:"Magento (API token)"}),(0,b.jsx)("option",{value:"generic-api-key",children:"Generic API Key"})]})]}),(0,b.jsx)("input",{placeholder:"Connection name",value:o,onChange:a=>p(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"}),"bigcommerce"===m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{placeholder:"Store hash",value:q,onChange:a=>r(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"}),(0,b.jsx)("input",{placeholder:"Access token",value:s,onChange:a=>t(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"})]}),"woocommerce"===m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{placeholder:"Consumer Key",value:u,onChange:a=>v(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"}),(0,b.jsx)("input",{placeholder:"Consumer Secret",value:w,onChange:a=>x(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"})]}),("magento"===m||"generic-api-key"===m)&&(0,b.jsx)("input",{placeholder:"API token / key",value:y,onChange:a=>z(a.target.value),className:"w-full mb-2 px-2 py-1 border rounded"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:E,disabled:k,className:"px-3 py-1 bg-emerald-500 text-white rounded text-sm",children:k?"Creating…":"shopify"===m?"Start Shopify auth":"Create connector"}),(0,b.jsx)("button",{onClick:D,className:"px-3 py-1 bg-slate-50 border rounded text-sm",children:"Refresh"})]})]})]})}function i({open:a,runId:d,moduleIndex:e,onClose:f}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null);return((0,c.useEffect)(()=>{a&&(d?(j(!0),l(null),fetch(`/api/v1/pipeline/run/${encodeURIComponent(d)}/module/${encodeURIComponent(String(e))}/logs`).then(a=>a.json()).then(a=>{if(!a?.ok)throw Error(a?.error??"Failed to load logs");h(a.logs??[])}).catch(a=>l(String(a?.message??a))).finally(()=>j(!1))):l("pipelineRunId required"))},[a,d,e]),a)?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-2xl rounded bg-white p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:["Module logs — run ",d?d.slice(0,8):"?","… module ",e]}),(0,b.jsx)("button",{onClick:f,className:"px-2 py-1",children:"Close"})]}),(0,b.jsxs)("div",{className:"mt-3",children:[i&&(0,b.jsx)("div",{children:"Loading logs…"}),k&&(0,b.jsx)("div",{className:"text-rose-600",children:k}),!i&&!k&&(0,b.jsx)("pre",{className:"max-h-[60vh] overflow-auto rounded border bg-black p-3 text-[12px] text-white",children:g.length?g.map((a,b)=>"string"==typeof a?`${b+1}: ${a}
`:JSON.stringify(a,null,2)+"\n").join(""):"No logs available."})]})]})}):null}function j({ingestionId:a,pipelineId:d,limit:e=6}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{let b=!0;return k(null),m(!1),async function(){i(!0),g([]),k(null);let c=a?`?ingestionId=${encodeURIComponent(a)}`:d?`?pipelineId=${encodeURIComponent(d)}`:"",f=`/api/v1/pipeline/runs${c}`;try{let a=await fetch(f),c=await a.json().catch(()=>null);if(a.ok){let a=Array.isArray(c)?c:c?.runs??c?.data??[];b&&g((a??[]).slice(0,e))}else{let d=String(c?.error??c?.message??c??a.statusText??"");if(/ingestion_id|db_lookup_failed|column .* does not exist/i.test(d)){let a=await fetch("/api/v1/pipeline/runs"),c=await a.json().catch(()=>null);if(a.ok){let a=Array.isArray(c)?c:c?.runs??c?.data??[];b&&(g(a.slice(0,e)),m(!0))}else{let d=String(c?.error??c?.message??a.statusText??"");b&&k(`Failed to load recent runs: ${d}`)}}else b&&k(`Failed to load recent runs: ${d}`)}}catch(a){b&&k(String(a?.message??a))}finally{b&&i(!1)}}(),()=>{b=!1}},[a,d,e]),h)?(0,b.jsx)("div",{className:"space-y-2",children:[...Array(Math.min(e,3))].map((a,c)=>(0,b.jsx)("div",{className:"h-10 rounded-lg bg-slate-100 animate-pulse"},c))}):j?(0,b.jsxs)("div",{className:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:[(0,b.jsx)("div",{className:"font-medium",children:"Recent runs unavailable"}),(0,b.jsx)("div",{className:"text-xs mt-1",children:j})]}):f&&0!==f.length?(0,b.jsxs)("div",{className:"space-y-2",children:[l?(0,b.jsx)("div",{className:"text-xs text-slate-500 italic",children:"Filtered query failed — showing recent runs (unfiltered)."}):null,f.map(a=>{let c=a?.id??a?.run_id??a?.pipeline_run_id??"",d=(a?.status??a?.state??"unknown").toString(),e=a?.ingestion_id??a?.ingestionId??a?.data?.ingestion_id??a?.data?.id??null,f=a?.created_at??a?.created??a?.ts??null;return(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"truncate font-medium",children:[c?String(c).slice(0,10):"run",(0,b.jsxs)("span",{className:"ml-2 text-xs text-slate-500",children:["· ",d]})]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Ingestion: ",(0,b.jsx)("span",{className:"font-mono",children:e?String(e):"—"}),f?(0,b.jsxs)("span",{className:"ml-3",children:["Created: ",new Date(f).toLocaleString()]}):null]})]}),(0,b.jsx)("div",{className:"shrink-0 text-xs text-slate-500",children:(0,b.jsx)("a",{href:`/dashboard/import?ingestionId=${encodeURIComponent(String(e??""))}&pipelineRunId=${encodeURIComponent(String(c??""))}`,className:"text-xs text-slate-600 hover:underline",onClick:a=>{if(!e)return void a.preventDefault()},children:"View"})})]},c??Math.random())})]}):(0,b.jsxs)("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[(0,b.jsx)("div",{className:"font-medium",children:"No recent runs"}),(0,b.jsx)("div",{className:"text-xs mt-1",children:"No pipeline runs were found yet."})]})}function k({provider:a,onSelect:d}){let[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{!async function(){h(!0);try{let b=await fetch("/api/v1/mapping-presets"),c=await b.json();c.ok&&f((c.presets||[]).filter(b=>!a||b.provider===a))}catch(a){}finally{h(!1)}}()},[a]),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"mapping-preset",className:"block text-sm font-medium text-gray-700",children:"Mapping preset"}),(0,b.jsxs)("div",{className:"mt-1 flex gap-2 items-center",children:[(0,b.jsxs)("select",{id:"mapping-preset",onChange:a=>{let b=a.target.value;d(e.find(a=>a.id===b)??null)},className:"border rounded px-2 py-1",children:[(0,b.jsx)("option",{value:"",children:"-- Select preset --"}),e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),g&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Loading..."})]})]})}var l=a.i(82722),m=a.i(12171);function n(...a){return a.filter(Boolean).join(" ")}function o(a){let b=(a||"").toLowerCase();return"running"===b?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-950/45 dark:text-amber-100 dark:border-amber-500/40":"failed"===b?"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-950/45 dark:text-rose-100 dark:border-rose-500/40":"succeeded"===b||"completed"===b?"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-950/45 dark:text-emerald-100 dark:border-emerald-500/40":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-900/60 dark:text-slate-200 dark:border-slate-700"}async function p(a,b){if(!a)return void b?.error?.("No job id");try{let c=await fetch(`/api/v1/imports/${encodeURIComponent(a)}/errors?format=csv`);if(!c.ok){let a=await c.json().catch(()=>null);b?.error?.(a?.error??"Failed to download failed rows");return}let d=await c.blob(),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`failed-rows-${a}.csv`,f.click(),URL.revokeObjectURL(e),b?.success?.("Downloaded failed rows")}catch(a){b?.error?.(String(a?.message??a))}}let q=()=>(0,b.jsxs)("svg",{className:"animate-spin h-4 w-4 inline-block mr-2 align-middle",viewBox:"0 0 24 24","aria-hidden":!0,children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]});function r(){return(0,b.jsx)("div",{className:"h-12 rounded-2xl border border-slate-200 bg-slate-50/70 animate-pulse dark:border-slate-800 dark:bg-slate-950/45"})}function s(){let a=(0,d.useSearchParams)(),e=(0,d.useRouter)(),s=(0,g.useToast)(),t=a?.get("ingestionId")||"",u=a?.get("pipelineRunId")||"",[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(t||""),[J,K]=(0,c.useState)("full"),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(u||""),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(null),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(""),ah=c.default.useRef(null);(0,c.useEffect)(()=>{let a=setTimeout(()=>(function(){let a=ah.current;if(!a)return;let b=new Set(["connectors","create connector"]);a.querySelectorAll("h1,h2,h3,h4,h5,h6,div,span,p,label").forEach(a=>{let c=(a.textContent||"").trim().toLowerCase();b.has(c)&&(a.style.display="none")}),a.querySelectorAll(".shadow,.shadow-sm,.shadow-md,.shadow-lg").forEach(a=>{a.style.boxShadow="none"}),a.querySelectorAll(".bg-white").forEach(a=>{let b=a.tagName;"BUTTON"!==b&&"INPUT"!==b&&"SELECT"!==b&&"TEXTAREA"!==b&&(a.style.background="transparent")}),a.querySelectorAll(".border").forEach(a=>{let b=a.tagName;"BUTTON"!==b&&"INPUT"!==b&&"SELECT"!==b&&"TEXTAREA"!==b&&(a.style.borderColor="transparent")}),a.querySelectorAll("select").forEach(b=>{let c=b.parentElement,d=0;for(;c&&c!==a&&d<8;){let a=String(c.className||"");a.includes("border")&&(a.includes("rounded")||a.includes("shadow")||a.includes("bg-white"))&&(c.style.border="0",c.style.background="transparent",c.style.boxShadow="none",c.style.padding="0"),c=c.parentElement,d++}})})(),0);return()=>clearTimeout(a)},[v,x.length,z]);let ai=(0,c.useMemo)(()=>x.find(a=>a.id===z)??null,[x,z]);async function aj(){try{let a=await fetch("/api/v1/me"),b=await a.json().catch(()=>null);if(a.ok&&b?.ok&&b.org_id)return w(b.org_id),b.org_id;return w(""),""}catch{return w(""),""}}async function ak(){if(!v)return void y([]);try{let a=await fetch(`/api/v1/integrations?orgId=${encodeURIComponent(v)}`),b=await a.json().catch(()=>null);a.ok&&b?.ok?y(b.integrations??[]):y([])}catch{y([])}}async function al(a){try{let b=await fetch(`/api/v1/integrations/${encodeURIComponent(a)}/test`,{method:"POST"}),c=await b.json().catch(()=>null);if(!b.ok||!c?.ok)return void s.error(`Test failed: ${c?.error??"unknown"}`);s.success("Connection test succeeded"),await ak()}catch(a){s.error(String(a?.message??a))}}async function am(a){if(!v)return void s.error("Org ID missing — set DEV_ORG_ID or wire session.");try{let b=await fetch(`/api/v1/integrations/${encodeURIComponent(a)}/sync`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({org_id:v})}),c=await b.json().catch(()=>null);if(!b.ok||!c?.ok)return void s.error(c?.error??"Sync failed");let d=c.jobId??c.id??"";I(d),s.success(`Sync started: ${d}`),d&&await an(d),await ak()}catch(a){s.error(String(a?.message??a))}}async function an(a){try{Q(null);let b=await fetch(`/api/v1/ingest/${encodeURIComponent(a)}`),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error?.message||c?.error||`Ingest fetch failed: ${b.status}`);let d=c?.data??c;return Q(d),d}catch(a){throw Q(null),a}}async function ao(a){let b=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(a)}`),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error?.message||c?.error||`Pipeline fetch failed: ${b.status}`);return c}async function ap(a,b=3e5,c=2e3){let d=Date.now();for(;Date.now()-d<b;){let b=await ao(a);U(b);let d=b?.run?.status;if("succeeded"===d||"failed"===d)return b;await function(a){return new Promise(b=>setTimeout(b,a))}(c)}throw Error("Pipeline did not complete within timeout")}async function aq(a,b){let c=(b??[]).find(a=>"import"===a.module_name);if(!c)return null;let d=await fetch(`/api/v1/pipeline/run/${encodeURIComponent(a)}/output/${c.module_index}`),e=await d.json().catch(()=>null);if(!d.ok)throw Error(e?.error?.message||e?.error||`Import artifact fetch failed: ${d.status}`);return W(e),e}async function ar(a){if(X)return;aa(null),$(null),U(null),W(null);let b=(a??H).trim();if(!b)return void s.error("Enter an ingestionId first.");Y(!0);try{s.info("Loading ingestion"),await an(b),s.info("Starting pipeline run");let a=await fetch("/api/v1/pipeline/run",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({ingestionId:b,triggerModule:"import",steps:"import_only"===J?["import"]:["extract","seo","audit","import"],options:{import:{allowOverwriteExisting:L,mappingPreset:B?.id??B??void 0}}})}),c=await a.json().catch(()=>null);if(!a.ok)throw Error(c?.error?.message||c?.error||`Pipeline start failed: ${a.status}`);let d=String(c?.pipelineRunId??"");if(!d)throw Error("Pipeline start did not return pipelineRunId");S(d),e.push(`/dashboard/import?ingestionId=${encodeURIComponent(b)}&pipelineRunId=${encodeURIComponent(d)}`),s.info("Pipeline running");let f=await ap(d,3e5,2e3);s.info("Refreshing ingestion"),await an(b),s.info("Loading import artifact"),await aq(d,f?.modules??[]),s.success("Import run completed")}catch(a){aa(String(a?.message||a)),s.error(String(a?.message||a))}finally{Y(!1)}}(0,c.useEffect)(()=>{(async()=>{if(await aj()&&await ak(),t&&an(t).catch(a=>aa(String(a?.message||a))),u)try{let a=await ao(u);U(a),S(u),await aq(u,a?.modules??[])}catch(a){aa(String(a?.message||a))}})()},[]);let as=(0,c.useMemo)(()=>P?P?.data?.data?P.data.data:P?.data?P.data:P:null,[P]),at=as?.diagnostics?.import??null,au=T?.run?.status??null,av=(0,c.useMemo)(()=>{let a=new Map;for(let b of T?.modules??[])if(b.started_at&&b.finished_at){let c=new Date(b.finished_at).getTime()-new Date(b.started_at).getTime();!Number.isNaN(c)&&c>=0&&a.set(b.module_name,c)}return a},[T]),aw=(0,c.useMemo)(()=>{let a=T?.modules??[];return a.length?Math.round(a.filter(a=>["succeeded","failed","skipped"].includes(a.status)).length/a.length*100):0},[T]),ax="h-10 inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white/70 px-3 text-sm text-slate-800 shadow-sm hover:bg-white dark:border-slate-800 dark:bg-slate-950/50 dark:text-slate-200 dark:hover:bg-slate-950",ay="h-10 inline-flex items-center justify-center rounded-xl px-4 text-sm font-semibold text-slate-950 shadow-sm transition bg-gradient-to-r from-cyan-400 via-sky-400 to-emerald-400 hover:opacity-95 hover:-translate-y-[1px] focus:outline-none focus:ring-2 focus:ring-cyan-500/30 disabled:opacity-60 disabled:shadow-none";return(0,b.jsxs)("main",{className:"relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50",children:[(0,b.jsx)("style",{children:`
        .headline-grad {
          background-size: 220% 220%;
          animation: gshift 8s ease-in-out infinite;
        }
        @keyframes gshift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[(0,b.jsx)("div",{className:"absolute -top-36 -left-28 h-[28rem] w-[28rem] rounded-full bg-cyan-300/22 blur-3xl dark:bg-cyan-500/14"}),(0,b.jsx)("div",{className:"absolute -top-40 right-[-10rem] h-[26rem] w-[26rem] rounded-full bg-fuchsia-300/14 blur-3xl dark:bg-fuchsia-500/10"}),(0,b.jsx)("div",{className:"absolute -bottom-52 right-[-12rem] h-[34rem] w-[34rem] rounded-full bg-emerald-300/16 blur-3xl dark:bg-emerald-500/10"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(248,250,252,0)_0,_rgba(248,250,252,0.92)_55%,_rgba(248,250,252,1)_100%)] dark:bg-[radial-gradient(circle_at_top,_rgba(15,23,42,0)_0,_rgba(15,23,42,0.92)_55%,_rgba(15,23,42,1)_100%)]"}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.035] dark:opacity-[0.07]",children:(0,b.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#e5e7eb_1px,transparent_1px),linear-gradient(to_bottom,#e5e7eb_1px,transparent_1px)] bg-[size:46px_46px] dark:bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"})})]}),(0,b.jsxs)("div",{className:"mx-auto max-w-7xl space-y-5 px-4 py-6 sm:px-6 lg:px-10 lg:py-8",children:[(0,b.jsxs)("section",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/90 px-3 py-1.5 text-[10px] font-medium uppercase tracking-[0.18em] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/70 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"inline-flex h-3 w-3 items-center justify-center rounded-full bg-slate-50 border border-cyan-200 dark:bg-slate-900 dark:border-cyan-400/30",children:(0,b.jsx)("span",{className:n("h-1.5 w-1.5 rounded-full",X?"bg-cyan-400 animate-pulse":"bg-slate-400")})}),"Data Intelligence · AvidiaImport",H?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"font-mono text-[10px]",children:[String(H).slice(0,8),"…"]})]}):null,R?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"h-3 w-px bg-slate-300/70 dark:bg-slate-700/70"}),(0,b.jsxs)("span",{className:"font-mono text-[10px]",children:["run:",String(R).slice(0,8),"…"]})]}):null]}),(0,b.jsxs)("div",{className:"hidden sm:flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-slate-300 dark:bg-slate-700"}),au?`pipeline: ${au}`:"ready"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:(0,b.jsxs)("div",{className:"text-xs text-slate-600 dark:text-slate-300",children:["Status:"," ",(0,b.jsx)("span",{className:n("ml-2 inline-flex items-center rounded-full border px-2 py-0.5",o(au??"idle")),children:au??"idle"})]})})]}),(0,b.jsx)("section",{className:"rounded-3xl border border-slate-200 bg-white/92 shadow-[0_18px_45px_rgba(148,163,184,0.22)] backdrop-blur dark:border-slate-800 dark:bg-slate-950/55 dark:shadow-[0_18px_45px_rgba(15,23,42,0.75)]",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 p-4 lg:grid-cols-12 lg:gap-5 lg:p-5",children:[(0,b.jsx)("aside",{className:"lg:col-span-4",children:(0,b.jsxs)("div",{ref:ah,"data-connector-shell":!0,className:"rounded-3xl border border-slate-200 bg-gradient-to-b from-white/95 to-slate-50/70 p-4 shadow-[0_18px_45px_rgba(148,163,184,0.18)] dark:border-slate-800 dark:from-slate-950/70 dark:to-slate-950/40",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Stores & Connectors"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:"Select a store, test, sync, or open details."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-[11px] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-300",children:[(0,b.jsx)("span",{className:n("h-1.5 w-1.5 rounded-full",v?"bg-emerald-400":"bg-slate-300 dark:bg-slate-700")}),v?"org loaded":"org unknown"]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-[11px] text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"font-mono",children:x.length})," stores"]})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"rounded-2xl border border-slate-200/60 bg-white/50 p-3 backdrop-blur dark:border-slate-800/70 dark:bg-slate-950/30",children:(0,b.jsx)(h,{orgId:v,selectedId:z,onSelect:function(a){A(a),s?.info?.("Connector selected")}})}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-slate-300",children:[(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white/60 px-3 py-1 dark:border-slate-800 dark:bg-slate-950/35",children:"SKU recommended for matching"}),(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white/60 px-3 py-1 dark:border-slate-800 dark:bg-slate-950/35",children:"Preview up to 50 rows"}),(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white/60 px-3 py-1 dark:border-slate-800 dark:bg-slate-950/35",children:"Max 5,000 rows / 50 columns"})]}),(0,b.jsxs)("div",{className:"mt-4 rounded-2xl border border-slate-200/60 bg-gradient-to-b from-white/70 to-white/40 p-3 dark:border-slate-800/70 dark:from-slate-950/35 dark:to-slate-950/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("div",{className:"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Selected store"}),ai?(0,b.jsx)("span",{className:n("inline-flex items-center rounded-full border px-2 py-0.5 text-[11px]",o(ai.status)),children:ai.status??"unknown"}):null]}),ai?(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate font-semibold text-slate-900 dark:text-slate-50",children:ai.name??ai.provider}),(0,b.jsxs)("div",{className:"text-xs text-slate-600 dark:text-slate-300",children:["Provider: ",(0,b.jsx)("span",{className:"font-medium",children:ai.provider})]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Last synced: ",ai.last_synced_at?new Date(ai.last_synced_at).toLocaleString():"—"]})]}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[(0,b.jsx)("button",{onClick:()=>al(ai.id),className:n(ax,"h-9 px-2 text-xs"),children:"Test"}),(0,b.jsx)("button",{onClick:()=>am(ai.id),className:n(ay,"h-9 px-3 text-xs"),children:"Sync"}),(0,b.jsx)("button",{onClick:()=>ag(ai.id),className:n(ax,"h-9 px-2 text-xs"),children:"Details"})]}),(0,b.jsx)("div",{className:"mt-3 text-xs",children:"ready"===ai.status?(0,b.jsx)("span",{className:"text-emerald-700 dark:text-emerald-200",children:"Connected"}):"failed"===ai.status?(0,b.jsxs)("span",{className:"text-rose-700 dark:text-rose-200",children:["Failed — ",ai.last_error??"see details"]}):(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:"Not ready"})})]}):(0,b.jsx)("div",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:"Select a store to enable actions."})]})]}),(0,b.jsx)("style",{children:`
                  [data-connector-shell] .shadow,
                  [data-connector-shell] .shadow-sm,
                  [data-connector-shell] .shadow-md,
                  [data-connector-shell] .shadow-lg { box-shadow: none !important; }

                  [data-connector-shell] .bg-white:not(button):not(input):not(select):not(textarea) {
                    background: transparent !important;
                  }
                  [data-connector-shell] .border:not(button):not(input):not(select):not(textarea) {
                    border-color: transparent !important;
                  }
                `})]})}),(0,b.jsxs)("div",{className:"lg:col-span-8 space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("h1",{className:"text-xl font-semibold leading-tight text-slate-900 dark:text-slate-50",children:["Upload &"," ",(0,b.jsx)("span",{className:n("bg-clip-text text-transparent headline-grad","bg-[linear-gradient(90deg,rgba(34,211,238,1),rgba(56,189,248,1),rgba(52,211,153,1),rgba(244,114,182,1),rgba(250,204,21,1))]"),children:"Run Import"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Create an import job (upload or sync), then run your pipeline."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{let a=new Blob([["sku,title,description,price,inventory,weight,brand",...[["SKU-001","Sample product","Desc","19.99","10","0.5","Brand"]].map(a=>a.map(a=>`"${String(a).replace(/"/g,'""')}"`).join(","))].join("\n")],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="import-sample.csv",c.click(),URL.revokeObjectURL(b),s?.info?.("Sample CSV downloaded")},className:n(ax,"h-9 px-3 text-xs"),children:"Download sample CSV"}),(0,b.jsx)("a",{href:"/imports",className:n(ax,"h-9 px-3 text-xs"),children:"Import history"})]})]}),(0,b.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-3 dark:border-slate-800 dark:bg-slate-950/35",children:(0,b.jsx)(f,{bucket:"imports",mappingPreset:B,onCreated:async a=>{a?(I(a),s.success(`Import job created: ${a}.`),N?await ar(a):an(a).catch(()=>null),await aj(),await ak()):s.info("Import created.")}})}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-950/35",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 lg:grid-cols-12 lg:items-end",children:[(0,b.jsxs)("div",{className:"lg:col-span-7",children:[(0,b.jsx)("label",{className:"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Ingestion ID / Job"}),(0,b.jsxs)("div",{className:"mt-1 grid grid-cols-12 gap-2",children:[(0,b.jsx)("div",{className:"col-span-9",children:(0,b.jsx)("input",{value:H,onChange:a=>I(a.target.value),className:"h-10 w-full rounded-xl border border-slate-300 bg-white/80 px-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/25 dark:border-slate-700 dark:bg-slate-950/55 dark:text-slate-50 dark:placeholder:text-slate-500"})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)("button",{onClick:()=>{if(!H)return s.error("No ingestion id to delete");ae(H),ac(!0)},className:n(ax,"w-full"),"aria-label":"Delete ingestion job",children:"Delete"})})]})]}),(0,b.jsxs)("div",{className:"lg:col-span-5",children:[(0,b.jsx)("label",{className:"text-[11px] font-medium uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400",children:"Optional: Sync from store"}),(0,b.jsxs)("div",{className:"mt-1 grid grid-cols-12 gap-2",children:[(0,b.jsx)("div",{className:"col-span-8",children:(0,b.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:n("h-10 rounded-xl border border-slate-300 bg-white/80 px-3 text-sm text-slate-900 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/25 dark:border-slate-700 dark:bg-slate-950/55 dark:text-slate-50","w-full"),children:[(0,b.jsx)("option",{value:"",children:"Select connector…"}),x.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name??a.provider},a.id))]})}),(0,b.jsx)("div",{className:"col-span-4",children:(0,b.jsx)("button",{onClick:()=>{z?am(z):s.error("Select a connector")},className:n(ay,"w-full"),children:"Sync"})})]})]}),(0,b.jsx)("div",{className:"lg:col-span-8",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-5 pt-1",children:[(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:L,onChange:a=>M(a.target.checked)}),(0,b.jsx)("span",{className:"text-xs text-slate-700 dark:text-slate-200",children:"Allow overwrite existing SKU"})]}),(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:N,onChange:a=>O(a.target.checked)}),(0,b.jsx)("span",{className:"text-xs text-slate-700 dark:text-slate-200",children:"Auto-run after upload"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)(k,{provider:ai?.provider,onSelect:a=>{C(a??null),s?.info?.("Mapping preset selected")}}),B?(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs dark:border-slate-800 dark:bg-slate-950/50",children:[(0,b.jsx)("span",{className:"max-w-[260px] truncate",children:B?.name??B?.id??String(B)}),(0,b.jsx)("button",{onClick:()=>{C(null),s?.info?.("Mapping preset cleared")},className:"rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[11px] hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950/60 dark:hover:bg-slate-950",children:"Clear"})]}):null]})]})}),(0,b.jsx)("div",{className:"lg:col-span-4",children:(0,b.jsx)("button",{onClick:()=>ar(),disabled:X,className:n(ay,"w-full"),"aria-label":"Run import",children:X?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q,{}),"Running…"]}):"Run Import"})})]}),_?(0,b.jsx)("div",{className:"mt-3 rounded-2xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800 dark:border-rose-500/40 dark:bg-rose-950/30 dark:text-rose-100",children:_}):null]})]})]})}),(0,b.jsx)("section",{className:"rounded-3xl border border-slate-200 bg-white/92 shadow-[0_18px_45px_rgba(148,163,184,0.18)] backdrop-blur dark:border-slate-800 dark:bg-slate-950/55",children:(0,b.jsxs)("div",{className:"p-4 lg:p-5",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Live pipeline"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Progress, module status, logs, and output refs."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Progress: ",aw,"%"]}),(0,b.jsx)("div",{className:"h-2 w-44 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,b.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-cyan-400 via-sky-400 to-emerald-400",style:{width:`${aw}%`}})})]})]}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pipeline modules"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(T?.modules??[]).slice().sort((a,b)=>a.module_index-b.module_index).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-3 dark:border-slate-800 dark:bg-slate-950/35",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"font-medium truncate",children:[a.module_index,". ",String(a.module_name)]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:["output_ref: ",(0,b.jsx)("span",{className:"font-mono",children:a.output_ref??"—"})]})]}),(0,b.jsxs)("div",{className:"shrink-0 text-right",children:[(0,b.jsx)("div",{className:n("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",o(a.status)),children:a.status}),(0,b.jsx)("div",{className:"text-xs mt-1 text-slate-600 dark:text-slate-300",children:function(a){if(null==a||Number.isNaN(a))return"—";if(a<1e3)return`${a}ms`;let b=Math.round(a/100)/10;return`${b}s`}(av.get(a.module_name)??null)}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.module_index,void(!R?s.error("No pipeline run selected"):(G({runId:R,index:b}),E(!0)))},className:n(ax,"h-9 mt-2 px-2 text-xs"),children:"View logs"})]})]},`${a.module_index}-${a.module_name}`)),!(T?.modules??[]).length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No active run selected."}),(0,b.jsx)(r,{}),(0,b.jsx)(r,{})]})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)(j,{ingestionId:H,pipelineId:R})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Import artifact"}),(0,b.jsx)("pre",{className:"max-h-[340px] overflow-auto rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:V?JSON.stringify(V,null,2):"Run an import to see artifact JSON."}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Download results"}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>{var a;let b,c,d;return a=`import-result-${as?.id??H??"unknown"}.json`,b=new Blob([JSON.stringify({ingestionId:as?.id??H??null,pipelineRunId:R||null,diagnostics_import:at??null,import_artifact:V??null},null,2)],{type:"application/json"}),c=URL.createObjectURL(b),void((d=document.createElement("a")).href=c,d.download=a,d.click(),URL.revokeObjectURL(c))},className:n("h-10 inline-flex items-center justify-center rounded-xl px-3 text-sm font-semibold text-white shadow-sm transition bg-slate-900 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-500/30 disabled:opacity-60 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100","h-9 px-3 text-xs"),children:"Export JSON"}),(0,b.jsx)("button",{onClick:()=>p(H,s),className:n(ax,"h-9 px-3 text-xs"),children:"Download failed rows"}),(0,b.jsx)("a",{href:"/imports",className:n(ax,"h-9 px-3 text-xs"),children:"Import history"})]})]})]})]})]})}),(0,b.jsx)("section",{className:"rounded-3xl border border-slate-200 bg-white/92 backdrop-blur dark:border-slate-800 dark:bg-slate-950/55",children:(0,b.jsxs)("div",{className:"p-4 lg:p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Ingestion (context)"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Persisted diagnostics & raw payload"})]}),(0,b.jsx)("pre",{className:"mt-3 max-h-[360px] overflow-auto rounded-2xl border border-slate-800 bg-slate-900/95 p-3 text-[11px] text-slate-100 dark:bg-slate-950/70",children:as?JSON.stringify(as,null,2):"Load an ingestion to view persisted diagnostics."})]})})]}),F&&(0,b.jsx)(i,{open:D,runId:F.runId,moduleIndex:F.index,onClose:()=>E(!1)}),(0,b.jsx)(l.default,{integrationId:af,isOpen:!!af,onClose:()=>ag("")}),(0,b.jsx)(m.ConfirmDialog,{open:ab,onCancel:()=>ac(!1),title:"Delete import job",description:`Delete import job ${ad}? This cannot be undone.`,onConfirm:async()=>{if(ac(!1),ad)try{let a=await fetch(`/api/v1/imports/${encodeURIComponent(ad)}`,{method:"DELETE"}),b=await a.json().catch(()=>null);if(!a.ok||!b?.ok)return void s.error(b?.error??"Delete failed");s.success("Import deleted"),I(""),Q(null),ae(null)}catch(a){s.error(String(a?.message??a))}}})]})}a.s(["default",()=>s],92968)}];

//# sourceMappingURL=src_app_dashboard_import_page_tsx_2b041e75._.js.map